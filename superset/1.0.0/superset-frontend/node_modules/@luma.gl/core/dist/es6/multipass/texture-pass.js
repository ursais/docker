import { default as ClipSpace } from '../lib/clip-space';
import Pass from './pass';
const fs = "uniform sampler2D uDiffuseSampler;\nuniform float uOpacity;\nvarying vec2 uv;\n\nvoid main() {\n  vec4 texel = texture2D(uDiffuseSampler, uv);\n  gl_FragColor = uOpacity * texel;\n}\n";
export default class TexturePass extends Pass {
  constructor(gl, options = {}) {
    super(gl, Object.assign({
      id: 'texture-pass'
    }, options));
    const {
      texture,
      opacity = 1.0
    } = options;
    this.clipspace = new ClipSpace(gl, {
      id: 'texture-pass',
      fs,
      uniforms: {
        uDiffuseSampler: texture,
        uOpacity: opacity
      }
    });
  }

  delete() {
    this.clipspace.delete();
    super.delete();
  }

  _renderPass() {
    this.clipspace.draw({
      parameters: {
        depthWrite: false,
        depthTest: false
      }
    });
  }

}
//# sourceMappingURL=texture-pass.js.map