{"version":3,"sources":["../../../../src/modules/diffuse/diffuse.js"],"names":["DEFAULT_MODULE_OPTIONS","diffuseTexture","diffuseColor","getUniforms","opts","uniforms","undefined","diffuse_uHasTexture","Boolean","diffuse_uTexture","diffuse_uColor","vs","fs","name"],"mappings":"AAGA,MAAMA,sBAAsB,GAAG;AAC7BC,EAAAA,cAAc,EAAE,IADa;AAE7BC,EAAAA,YAAY,EAAE,CAAC,GAAD,EAAM,GAAN,EAAW,GAAX,EAAgB,CAAhB;AAFe,CAA/B;;AAKA,SAASC,WAAT,CAAqBC,IAAI,GAAGJ,sBAA5B,EAAoD;AAClD,QAAMK,QAAQ,GAAG,EAAjB;;AACA,MAAID,IAAI,CAACH,cAAL,KAAwBK,SAA5B,EAAuC;AACrCD,IAAAA,QAAQ,CAACE,mBAAT,GAA+BC,OAAO,CAACJ,IAAI,CAACH,cAAN,CAAtC;AACAI,IAAAA,QAAQ,CAACI,gBAAT,GAA4BL,IAAI,CAACH,cAAjC;AACD;;AACD,MAAIG,IAAI,CAACF,YAAL,KAAsBI,SAA1B,EAAqC;AACnCD,IAAAA,QAAQ,CAACK,cAAT,GAA0BN,IAAI,CAACF,YAA/B;AACD;;AACD,SAAOG,QAAP;AACD;;AAED,MAAMM,EAAE,8GAAR;AASA,MAAMC,EAAE,oZAAR;AAuBA,eAAe;AACbC,EAAAA,IAAI,EAAE,SADO;AAEbV,EAAAA,WAFa;AAGbQ,EAAAA,EAHa;AAIbC,EAAAA;AAJa,CAAf","sourcesContent":["// Minimal texture (diffuse map) support\n\n/* eslint-disable camelcase */\nconst DEFAULT_MODULE_OPTIONS = {\n  diffuseTexture: null,\n  diffuseColor: [0.5, 0.5, 0.5, 1]\n};\n\nfunction getUniforms(opts = DEFAULT_MODULE_OPTIONS) {\n  const uniforms = {};\n  if (opts.diffuseTexture !== undefined) {\n    uniforms.diffuse_uHasTexture = Boolean(opts.diffuseTexture);\n    uniforms.diffuse_uTexture = opts.diffuseTexture;\n  }\n  if (opts.diffuseColor !== undefined) {\n    uniforms.diffuse_uColor = opts.diffuseColor;\n  }\n  return uniforms;\n}\n\nconst vs = `\\\nout vec2 diffuse_vTexCoord;\n\n/* Set the UV coordinate from attributes */\nvoid diffuse_setTextureCoordinate(vec2 uv) {\n  diffuse_vTexCoord = uv;\n}\n`;\n\nconst fs = `\\\nuniform vec4 diffuse_uColor;\nuniform bool diffuse_uHasTexture;\nuniform sampler2D diffuse_uTexture;\n\nin vec2 diffuse_vTexCoord;\n\n// Gets diffuse color of material from uniform\n// If we have a standard (diffuse) texture, set color to texture\n// return (vec4) - rgba\n//\nvec4 diffuse_getColor() {\n  vec2 texCoord = diffuse_vTexCoord;\n  return diffuse_uHasTexture ?\n    texture2D(diffuse_uTexture, vec2(texCoord.s, texCoord.t)) :\n    diffuse_uColor;\n}\n\nvec4 diffuse_filterColor(vec4 color) {\n  return diffuse_getColor();\n}\n`;\n\nexport default {\n  name: 'diffuse',\n  getUniforms,\n  vs,\n  fs\n};\n"],"file":"diffuse.js"}