{"version":3,"sources":["../../../src/lib/encode.js"],"names":["encode","data","writer","options","url","encodeSync","Promise","resolve","Error","encodeInBatches"],"mappings":"AAAA,OAAO,SAASA,MAAT,CAAgBC,IAAhB,EAAsBC,MAAtB,EAA8BC,OAA9B,EAAuCC,GAAvC,EAA4C;AACjD,MAAIF,MAAM,CAACF,MAAX,EAAmB;AACjB,WAAOE,MAAM,CAACF,MAAP,CAAcC,IAAd,EAAoBE,OAApB,CAAP;AACD;;AACD,MAAID,MAAM,CAACG,UAAX,EAAuB;AACrB,WAAOC,OAAO,CAACC,OAAR,CAAgBL,MAAM,CAACG,UAAP,CAAkBJ,IAAlB,EAAwBE,OAAxB,CAAhB,CAAP;AACD;;AAED,QAAM,IAAIK,KAAJ,CAAU,8BAAV,CAAN;AACD;AAED,OAAO,SAASH,UAAT,CAAoBJ,IAApB,EAA0BC,MAA1B,EAAkCC,OAAlC,EAA2CC,GAA3C,EAAgD;AACrD,MAAIF,MAAM,CAACG,UAAX,EAAuB;AACrB,WAAOH,MAAM,CAACG,UAAP,CAAkBJ,IAAlB,EAAwBE,OAAxB,CAAP;AACD;;AACD,QAAM,IAAIK,KAAJ,CAAU,4CAAV,CAAN;AACD;AAED,OAAO,SAASC,eAAT,CAAyBR,IAAzB,EAA+BC,MAA/B,EAAuCC,OAAvC,EAAgDC,GAAhD,EAAqD;AAC1D,MAAIF,MAAM,CAACO,eAAX,EAA4B;AAC1B,WAAOP,MAAM,CAACO,eAAP,CAAuBR,IAAvB,EAA6BE,OAA7B,CAAP;AACD;;AAED,QAAM,IAAIK,KAAJ,CAAU,yCAAV,CAAN;AACD","sourcesContent":["export function encode(data, writer, options, url) {\n  if (writer.encode) {\n    return writer.encode(data, options);\n  }\n  if (writer.encodeSync) {\n    return Promise.resolve(writer.encodeSync(data, options));\n  }\n  // TODO - Use encodeToBatches?\n  throw new Error('Writer could not encode data');\n}\n\nexport function encodeSync(data, writer, options, url) {\n  if (writer.encodeSync) {\n    return writer.encodeSync(data, options);\n  }\n  throw new Error('Writer could not synchronously encode data');\n}\n\nexport function encodeInBatches(data, writer, options, url) {\n  if (writer.encodeInBatches) {\n    return writer.encodeInBatches(data, options);\n  }\n  // TODO -fall back to atomic encode?\n  throw new Error('Writer could not encode data in batches');\n}\n"],"file":"encode.js"}