!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n(require("deck"));else if("function"==typeof define&&define.amd)define(["deck"],n);else{var e="object"==typeof exports?n(require("deck")):n(t.deck);for(var r in e)("object"==typeof exports?exports:t)[r]=e[r]}}(window,function(t){return function(t){var n={};function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var o in t)e.d(r,o,function(n){return t[n]}.bind(null,o));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=7)}([function(n,e){n.exports=t},function(t,n){function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(n){return"function"==typeof Symbol&&"symbol"===e(Symbol.iterator)?t.exports=r=function(t){return e(t)}:t.exports=r=function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":e(t)},r(n)}t.exports=r},function(t,n){t.exports=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}},function(t,n){function e(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}},function(t,n,e){var r=e(1),o=e(9);t.exports=function(t,n){return!n||"object"!==r(n)&&"function"!=typeof n?o(t):n}},function(t,n){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},e(n)}t.exports=e},function(t,n,e){var r=e(10);t.exports=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n&&r(t,n)}},function(t,n,e){(function(n){const r=e(11),o=("undefined"==typeof window?n:window).deck||{};if(!o.Layer)throw new Error("@deck.gl/core is not found");t.exports=Object.assign(o,r)}).call(this,e(8))},function(t,n){var e;e=function(){return this}();try{e=e||new Function("return this")()}catch(t){"object"==typeof window&&(e=window)}t.exports=e},function(t,n){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}},function(t,n){function e(n,r){return t.exports=e=Object.setPrototypeOf||function(t,n){return t.__proto__=n,t},e(n,r)}t.exports=e},function(t,n,e){"use strict";e.r(n);var r=e(2),o=e.n(r),i=e(3),u=e.n(i),a=e(1),f=e.n(a);var c=e(0),s=e(4),l=e.n(s),p=e(5),y=e.n(p),v=e(6),h=e.n(v),d={fetch:function(t){return JSON.parse(t)},configuration:[]},b=function(t){function n(){return o()(this,n),l()(this,y()(n).apply(this,arguments))}return h()(n,t),u()(n,[{key:"initializeState",value:function(){this.state={layers:[]}}},{key:"updateState",value:function(t){var n=t.props,e=t.oldProps;(t.changeFlags.dataChanged||n.configuration!==e.configuration)&&(this.state.layers=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,e=n.layers||{};return t.map(function(t){var r=e[t.type],o=function(t,n){var e={};for(var r in t){var o=t[r];r.startsWith("get")?e[r]=E(o,n):e[r]=o}return e}(t,n);return o.fetch=F,r&&new r(o)})}(n.data,n.configuration))}},{key:"renderLayers",value:function(){return this.state.layers}}]),n}(c.CompositeLayer);function w(t,n){var e=function(t){if("string"==typeof t){var n=S[t];return n||(n=t.split("."),S[t]=n),n}return Array.isArray(t)?t:[t]}(n),r=t,o=!0,i=!1,u=void 0;try{for(var a,f=e[Symbol.iterator]();!(o=(a=f.next()).done);o=!0){var c=a.value;r=m(r)?r[c]:void 0}}catch(t){i=!0,u=t}finally{try{o||null==f.return||f.return()}finally{if(i)throw u}}return r}function m(t){return null!==t&&"object"===f()(t)}b.layerName="JSONLayer",b.defaultProps=d;var S={};var g={},O={},j=34,x=10,P=13;function k(t){return new Function("d","return {"+t.map(function(t,n){return JSON.stringify(t)+": d["+n+"]"}).join(",")+"}")}var C=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,o=[],i=t.length,u=0,a=0,f=i<=0,c=!1;function s(){if(f)return O;if(c)return c=!1,g;var n,r,o=u;if(t.charCodeAt(o)===j){for(;u++<i&&t.charCodeAt(u)!==j||t.charCodeAt(++u)===j;);return(n=u)>=i?f=!0:(r=t.charCodeAt(u++))===x?c=!0:r===P&&(c=!0,t.charCodeAt(u)===x&&++u),t.slice(o+1,n-1).replace(/""/g,'"')}for(;u<i;){if((r=t.charCodeAt(n=u++))===x)c=!0;else if(r===P)c=!0,t.charCodeAt(u)===x&&++u;else if(r!==e)continue;return t.slice(o,n)}return f=!0,t.slice(o,i)}for(t.charCodeAt(i-1)===x&&--i,t.charCodeAt(i-1)===P&&--i;(r=s())!==O;){for(var l=[];r!==g&&r!==O;)l.push(r),r=s();n&&null==(l=n(l,a++))||o.push(l)}return o}function o(n){return n.map(i).join(t)}function i(t){return null==t?"":n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,o,i=r(t,function(t,r){if(e)return e(t,r-1);o=t,e=n?function(t,n){var e=k(t);return function(r,o){return n(e(r),o,t)}}(t,n):k(t)});return i.columns=o||[],i},parseRows:r,format:function(n,e){return null==e&&(e=function(t){var n=Object.create(null),e=[];return t.forEach(function(t){for(var r in t)r in n||e.push(n[r]=r)}),e}(n)),[e.map(i).join(t)].concat(n.map(function(n){return e.map(function(t){return i(n[t])}).join(t)})).join("\n")},formatRows:function(t){return t.map(o).join("\n")}}},V=C(","),_=(V.parse,V.parseRows),N=(V.format,V.formatRows,C("\t")),A=(N.parse,N.parseRows,N.format,N.formatRows,{MapView:c.MapView,FirstPersonView:c.FirstPersonView,OrbitView:c.OrbitView,OrthographicView:c.OrthographicView}),J={style:"mapbox://styles/mapbox/light-v9"};function R(t,n){var e=t;return e.layers&&(e.layers=function(t,n){return[new b({data:t,configuration:n})]}(t.layers,n)),e.views&&(e.views=function(t,n){if(!t)return t;var e=n.views||{};return(t=Array.isArray(t)?t:[t]).map(function(t){var n=e[t.type]||A[t.type];if(n){var r=Object.assign({},t);return delete r.type,new n(r)}return null}).filter(Boolean)}(t.views,n)),"initialViewState"in e&&(e.viewState=e.viewState||e.initialViewState),function(t,n){(t.map||t.mapStyle)&&(t.map=Object.assign({},J,t.map));if(!t.map)return;"mapStyle"in t&&(t.map.style=t.mapStyle,t.map.mapStyle=t.mapStyle,delete t.mapStyle);"viewState"in t&&(t.map.viewState=t.viewState)}(e),e}function E(t,n){return"-"===t?function(t){return t}:"string"==typeof t?function(n){return w(n,t)}:t}function F(t){return fetch(t).then(function(t){return t.text()}).then(function(t){try{return JSON.parse(t)}catch(n){return function(t){var n=_(t);n.length>0&&n.shift();var e=!0,r=!1,o=void 0;try{for(var i,u=n[Symbol.iterator]();!(e=(i=u.next()).done);e=!0){var a=i.value;for(var f in a){var c=parseFloat(a[f]);Number.isNaN(c)||(a[f]=c)}}}catch(t){r=!0,o=t}finally{try{e||null==u.return||u.return()}finally{if(r)throw o}}return n}(t)}})}var M=function(){function t(n){o()(this,t),this.configuration={},this.onJSONChange=function(){},this.setProps(n)}return u()(t,[{key:"finalize",value:function(){}},{key:"setProps",value:function(t){"configuration"in t&&(this.configuration=t.configuration),"onJSONChange"in t&&(this.onJSONChange=t.onJSONChange)}},{key:"convertJsonToDeckProps",value:function(t){if(!t||t===this.json)return this.deckProps;this.json=t;var n=R(function(t){return"string"==typeof t?JSON.parse(t):Object.assign({},t)}(t),this.configuration);"initialViewState"in n&&((!this.initialViewState||!function(t,n){if(t===n)return!0;if("object"!==f()(t)||null===t||"object"!==f()(n)||null===n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(var e in t)if(!(e in n)||t[e]!==n[e])return!1;for(var r in n)if(!(r in t))return!1;return!0}(n.initialViewState,this.initialViewState))&&(n.viewState=n.initialViewState,this.initialViewState=n.initialViewState),delete n.initialViewState);return this.deckProps=n,n}}]),t}();e.d(n,"_JSONConverter",function(){return M}),e.d(n,"_JSONLayer",function(){return b})}])});