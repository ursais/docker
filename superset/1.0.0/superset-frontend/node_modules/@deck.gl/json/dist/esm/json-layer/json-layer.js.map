{"version":3,"sources":["../../../src/json-layer/json-layer.js"],"names":["CompositeLayer","getJSONLayers","defaultProps","fetch","dataString","JSON","parse","configuration","JSONLayer","state","layers","props","oldProps","changeFlags","layersChanged","dataChanged","data","layerName"],"mappings":";;;;;AAAA,SAAQA,cAAR,QAA6B,eAA7B;AACA,SAAQC,aAAR,QAA4B,yBAA5B;AAEA,IAAMC,YAAY,GAAG;AAEnBC,EAAAA,KAAK,EAAE,eAAAC,UAAU;AAAA,WAAIC,IAAI,CAACC,KAAL,CAAWF,UAAX,CAAJ;AAAA,GAFE;AAGnBG,EAAAA,aAAa,EAAE;AAHI,CAArB;;IAMqBC,S;;;;;;;;;;;sCACD;AAChB,WAAKC,KAAL,GAAa;AACXC,QAAAA,MAAM,EAAE;AADG,OAAb;AAGD;;;sCAE2C;AAAA,UAA/BC,KAA+B,QAA/BA,KAA+B;AAAA,UAAxBC,QAAwB,QAAxBA,QAAwB;AAAA,UAAdC,WAAc,QAAdA,WAAc;AAC1C,UAAMC,aAAa,GAAGD,WAAW,CAACE,WAAZ,IAA2BJ,KAAK,CAACJ,aAAN,KAAwBK,QAAQ,CAACL,aAAlF;;AAEA,UAAIO,aAAJ,EAAmB;AACjB,aAAKL,KAAL,CAAWC,MAAX,GAAoBT,aAAa,CAACU,KAAK,CAACK,IAAP,EAAaL,KAAK,CAACJ,aAAnB,CAAjC;AACD;AACF;;;mCAEc;AACb,aAAO,KAAKE,KAAL,CAAWC,MAAlB;AACD;;;;EAjBoCV,c;;SAAlBQ,S;AAoBrBA,SAAS,CAACS,SAAV,GAAsB,WAAtB;AACAT,SAAS,CAACN,YAAV,GAAyBA,YAAzB","sourcesContent":["import {CompositeLayer} from '@deck.gl/core';\nimport {getJSONLayers} from '../parsers/convert-json';\n\nconst defaultProps = {\n  // Optionally accept JSON strings by parsing them\n  fetch: dataString => JSON.parse(dataString),\n  configuration: []\n};\n\nexport default class JSONLayer extends CompositeLayer {\n  initializeState() {\n    this.state = {\n      layers: []\n    };\n  }\n\n  updateState({props, oldProps, changeFlags}) {\n    const layersChanged = changeFlags.dataChanged || props.configuration !== oldProps.configuration;\n\n    if (layersChanged) {\n      this.state.layers = getJSONLayers(props.data, props.configuration);\n    }\n  }\n\n  renderLayers() {\n    return this.state.layers;\n  }\n}\n\nJSONLayer.layerName = 'JSONLayer';\nJSONLayer.defaultProps = defaultProps;\n"],"file":"json-layer.js"}