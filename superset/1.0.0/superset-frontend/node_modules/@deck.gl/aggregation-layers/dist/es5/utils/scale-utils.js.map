{"version":3,"sources":["../../../src/utils/scale-utils.js"],"names":["linearScale","domain","range","value","quantizeScale","domainRange","log","warn","step","length","idx","Math","floor","clampIdx","max","min","getQuantizeScale","getLinearScale"],"mappings":";;;;;;;;;;AAoBA;;AAGO,SAASA,WAAT,CAAqBC,MAArB,EAA6BC,KAA7B,EAAoCC,KAApC,EAA2C;AAChD,SAAQ,CAACA,KAAK,GAAGF,MAAM,CAAC,CAAD,CAAf,KAAuBA,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAzC,CAAD,IAAmDC,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAnE,IAA0EA,KAAK,CAAC,CAAD,CAAtF;AACD;;AAIM,SAASE,aAAT,CAAuBH,MAAvB,EAA+BC,KAA/B,EAAsCC,KAAtC,EAA6C;AAClD,MAAME,WAAW,GAAGJ,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAtC;;AACA,MAAII,WAAW,IAAI,CAAnB,EAAsB;AACpBC,cAAIC,IAAJ,CAAS,mDAAT;;AACA,WAAOL,KAAK,CAAC,CAAD,CAAZ;AACD;;AACD,MAAMM,IAAI,GAAGH,WAAW,GAAGH,KAAK,CAACO,MAAjC;AACA,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAL,CAAW,CAACT,KAAK,GAAGF,MAAM,CAAC,CAAD,CAAf,IAAsBO,IAAjC,CAAZ;AACA,MAAMK,QAAQ,GAAGF,IAAI,CAACG,GAAL,CAASH,IAAI,CAACI,GAAL,CAASL,GAAT,EAAcR,KAAK,CAACO,MAAN,GAAe,CAA7B,CAAT,EAA0C,CAA1C,CAAjB;AAEA,SAAOP,KAAK,CAACW,QAAD,CAAZ;AACD;;AAGM,SAASG,gBAAT,CAA0Bf,MAA1B,EAAkCC,KAAlC,EAAyC;AAC9C,SAAO,UAAAC,KAAK;AAAA,WAAIC,aAAa,CAACH,MAAD,EAASC,KAAT,EAAgBC,KAAhB,CAAjB;AAAA,GAAZ;AACD;;AAGM,SAASc,cAAT,CAAwBhB,MAAxB,EAAgCC,KAAhC,EAAuC;AAC5C,SAAO,UAAAC,KAAK;AAAA,WACT,CAACA,KAAK,GAAGF,MAAM,CAAC,CAAD,CAAf,KAAuBA,MAAM,CAAC,CAAD,CAAN,GAAYA,MAAM,CAAC,CAAD,CAAzC,CAAD,IAAmDC,KAAK,CAAC,CAAD,CAAL,GAAWA,KAAK,CAAC,CAAD,CAAnE,IAA0EA,KAAK,CAAC,CAAD,CADrE;AAAA,GAAZ;AAED","sourcesContent":["// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\nimport {log} from '@deck.gl/core';\n\n// Linear scale maps continuous domain to continuous range\nexport function linearScale(domain, range, value) {\n  return ((value - domain[0]) / (domain[1] - domain[0])) * (range[1] - range[0]) + range[0];\n}\n\n// Quantize scale is similar to linear scales,\n// except it uses a discrete rather than continuous range\nexport function quantizeScale(domain, range, value) {\n  const domainRange = domain[1] - domain[0];\n  if (domainRange <= 0) {\n    log.warn('quantizeScale: invalid domain, returning range[0]')();\n    return range[0];\n  }\n  const step = domainRange / range.length;\n  const idx = Math.floor((value - domain[0]) / step);\n  const clampIdx = Math.max(Math.min(idx, range.length - 1), 0);\n\n  return range[clampIdx];\n}\n\n// return a quantize scale function\nexport function getQuantizeScale(domain, range) {\n  return value => quantizeScale(domain, range, value);\n}\n\n// return a linear scale funciton\nexport function getLinearScale(domain, range) {\n  return value =>\n    ((value - domain[0]) / (domain[1] - domain[0])) * (range[1] - range[0]) + range[0];\n}\n"],"file":"scale-utils.js"}