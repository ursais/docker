{"version":3,"sources":["../../../../src/effects/lighting/point-light.js"],"names":["PointLight","BasePointLight","projectPosition","COORDINATE_SYSTEM","constructor","props","projectedLight","getProjectedLight","layer","viewport","context","coordinateSystem","coordinateOrigin","position","fromCoordinateSystem","isGeospatial","LNGLAT","IDENTITY","fromCoordinateOrigin","color","intensity"],"mappings":"AAAA,SAAQA,UAAU,IAAIC,cAAtB,QAA2C,eAA3C;AACA,SAAQC,eAAR,QAA8B,2CAA9B;AACA,SAAQC,iBAAR,QAAgC,WAAhC;AAEA,eAAe,MAAMH,UAAN,SAAyBC,cAAzB,CAAwC;AACrDG,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;AACA,SAAKC,cAAL,GAAsB,IAAIL,cAAJ,CAAmBI,KAAnB,CAAtB;AACD;;AAEDE,EAAAA,iBAAiB,OAAU;AAAA,QAARC,KAAQ,QAARA,KAAQ;AACzB,UAAMC,QAAQ,GAAGD,KAAK,CAACE,OAAN,CAAcD,QAA/B;AADyB,yBAEoBD,KAAK,CAACH,KAF1B;AAAA,UAElBM,gBAFkB,gBAElBA,gBAFkB;AAAA,UAEAC,gBAFA,gBAEAA,gBAFA;AAGzB,UAAMC,QAAQ,GAAGX,eAAe,CAAC,KAAKW,QAAN,EAAgB;AAC9CJ,MAAAA,QAD8C;AAE9CE,MAAAA,gBAF8C;AAG9CC,MAAAA,gBAH8C;AAI9CE,MAAAA,oBAAoB,EAAEL,QAAQ,CAACM,YAAT,GAClBZ,iBAAiB,CAACa,MADA,GAElBb,iBAAiB,CAACc,QANwB;AAO9CC,MAAAA,oBAAoB,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAPwB,KAAhB,CAAhC;AASA,SAAKZ,cAAL,CAAoBa,KAApB,GAA4B,KAAKA,KAAjC;AACA,SAAKb,cAAL,CAAoBc,SAApB,GAAgC,KAAKA,SAArC;AACA,SAAKd,cAAL,CAAoBO,QAApB,GAA+BA,QAA/B;AACA,WAAO,KAAKP,cAAZ;AACD;;AAtBoD","sourcesContent":["import {PointLight as BasePointLight} from '@luma.gl/core';\nimport {projectPosition} from '../../shaderlib/project/project-functions';\nimport {COORDINATE_SYSTEM} from '../../lib';\n\nexport default class PointLight extends BasePointLight {\n  constructor(props) {\n    super(props);\n    this.projectedLight = new BasePointLight(props);\n  }\n\n  getProjectedLight({layer}) {\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin} = layer.props;\n    const position = projectPosition(this.position, {\n      viewport,\n      coordinateSystem,\n      coordinateOrigin,\n      fromCoordinateSystem: viewport.isGeospatial\n        ? COORDINATE_SYSTEM.LNGLAT\n        : COORDINATE_SYSTEM.IDENTITY,\n      fromCoordinateOrigin: [0, 0, 0]\n    });\n    this.projectedLight.color = this.color;\n    this.projectedLight.intensity = this.intensity;\n    this.projectedLight.position = position;\n    return this.projectedLight;\n  }\n}\n"],"file":"point-light.js"}