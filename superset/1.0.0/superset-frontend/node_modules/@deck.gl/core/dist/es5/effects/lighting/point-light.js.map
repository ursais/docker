{"version":3,"sources":["../../../../src/effects/lighting/point-light.js"],"names":["PointLight","props","projectedLight","BasePointLight","layer","viewport","context","coordinateSystem","coordinateOrigin","position","fromCoordinateSystem","isGeospatial","COORDINATE_SYSTEM","LNGLAT","IDENTITY","fromCoordinateOrigin","color","intensity"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;IAEqBA,U;;;AACnB,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACjB,gHAAMA,KAAN;AACA,UAAKC,cAAL,GAAsB,IAAIC,gBAAJ,CAAmBF,KAAnB,CAAtB;AAFiB;AAGlB;;;;4CAE0B;AAAA,UAARG,KAAQ,QAARA,KAAQ;AACzB,UAAMC,QAAQ,GAAGD,KAAK,CAACE,OAAN,CAAcD,QAA/B;AADyB,yBAEoBD,KAAK,CAACH,KAF1B;AAAA,UAElBM,gBAFkB,gBAElBA,gBAFkB;AAAA,UAEAC,gBAFA,gBAEAA,gBAFA;AAGzB,UAAMC,QAAQ,GAAG,uCAAgB,KAAKA,QAArB,EAA+B;AAC9CJ,QAAAA,QAAQ,EAARA,QAD8C;AAE9CE,QAAAA,gBAAgB,EAAhBA,gBAF8C;AAG9CC,QAAAA,gBAAgB,EAAhBA,gBAH8C;AAI9CE,QAAAA,oBAAoB,EAAEL,QAAQ,CAACM,YAAT,GAClBC,uBAAkBC,MADA,GAElBD,uBAAkBE,QANwB;AAO9CC,QAAAA,oBAAoB,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAPwB,OAA/B,CAAjB;AASA,WAAKb,cAAL,CAAoBc,KAApB,GAA4B,KAAKA,KAAjC;AACA,WAAKd,cAAL,CAAoBe,SAApB,GAAgC,KAAKA,SAArC;AACA,WAAKf,cAAL,CAAoBO,QAApB,GAA+BA,QAA/B;AACA,aAAO,KAAKP,cAAZ;AACD;;;EAtBqCC,gB","sourcesContent":["import {PointLight as BasePointLight} from '@luma.gl/core';\nimport {projectPosition} from '../../shaderlib/project/project-functions';\nimport {COORDINATE_SYSTEM} from '../../lib';\n\nexport default class PointLight extends BasePointLight {\n  constructor(props) {\n    super(props);\n    this.projectedLight = new BasePointLight(props);\n  }\n\n  getProjectedLight({layer}) {\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin} = layer.props;\n    const position = projectPosition(this.position, {\n      viewport,\n      coordinateSystem,\n      coordinateOrigin,\n      fromCoordinateSystem: viewport.isGeospatial\n        ? COORDINATE_SYSTEM.LNGLAT\n        : COORDINATE_SYSTEM.IDENTITY,\n      fromCoordinateOrigin: [0, 0, 0]\n    });\n    this.projectedLight.color = this.color;\n    this.projectedLight.intensity = this.intensity;\n    this.projectedLight.position = position;\n    return this.projectedLight;\n  }\n}\n"],"file":"point-light.js"}