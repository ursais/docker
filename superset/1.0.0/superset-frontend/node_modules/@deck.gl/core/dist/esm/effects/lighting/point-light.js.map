{"version":3,"sources":["../../../../src/effects/lighting/point-light.js"],"names":["PointLight","BasePointLight","projectPosition","COORDINATE_SYSTEM","props","projectedLight","layer","viewport","context","coordinateSystem","coordinateOrigin","position","fromCoordinateSystem","isGeospatial","LNGLAT","IDENTITY","fromCoordinateOrigin","color","intensity"],"mappings":";;;;;AAAA,SAAQA,UAAU,IAAIC,cAAtB,QAA2C,eAA3C;AACA,SAAQC,eAAR,QAA8B,2CAA9B;AACA,SAAQC,iBAAR,QAAgC,WAAhC;;IAEqBH,U;;;AACnB,sBAAYI,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;AACA,UAAKC,cAAL,GAAsB,IAAIJ,cAAJ,CAAmBG,KAAnB,CAAtB;AAFiB;AAGlB;;;;4CAE0B;AAAA,UAARE,KAAQ,QAARA,KAAQ;AACzB,UAAMC,QAAQ,GAAGD,KAAK,CAACE,OAAN,CAAcD,QAA/B;AADyB,yBAEoBD,KAAK,CAACF,KAF1B;AAAA,UAElBK,gBAFkB,gBAElBA,gBAFkB;AAAA,UAEAC,gBAFA,gBAEAA,gBAFA;AAGzB,UAAMC,QAAQ,GAAGT,eAAe,CAAC,KAAKS,QAAN,EAAgB;AAC9CJ,QAAAA,QAAQ,EAARA,QAD8C;AAE9CE,QAAAA,gBAAgB,EAAhBA,gBAF8C;AAG9CC,QAAAA,gBAAgB,EAAhBA,gBAH8C;AAI9CE,QAAAA,oBAAoB,EAAEL,QAAQ,CAACM,YAAT,GAClBV,iBAAiB,CAACW,MADA,GAElBX,iBAAiB,CAACY,QANwB;AAO9CC,QAAAA,oBAAoB,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP;AAPwB,OAAhB,CAAhC;AASA,WAAKX,cAAL,CAAoBY,KAApB,GAA4B,KAAKA,KAAjC;AACA,WAAKZ,cAAL,CAAoBa,SAApB,GAAgC,KAAKA,SAArC;AACA,WAAKb,cAAL,CAAoBM,QAApB,GAA+BA,QAA/B;AACA,aAAO,KAAKN,cAAZ;AACD;;;;EAtBqCJ,c;;SAAnBD,U","sourcesContent":["import {PointLight as BasePointLight} from '@luma.gl/core';\nimport {projectPosition} from '../../shaderlib/project/project-functions';\nimport {COORDINATE_SYSTEM} from '../../lib';\n\nexport default class PointLight extends BasePointLight {\n  constructor(props) {\n    super(props);\n    this.projectedLight = new BasePointLight(props);\n  }\n\n  getProjectedLight({layer}) {\n    const viewport = layer.context.viewport;\n    const {coordinateSystem, coordinateOrigin} = layer.props;\n    const position = projectPosition(this.position, {\n      viewport,\n      coordinateSystem,\n      coordinateOrigin,\n      fromCoordinateSystem: viewport.isGeospatial\n        ? COORDINATE_SYSTEM.LNGLAT\n        : COORDINATE_SYSTEM.IDENTITY,\n      fromCoordinateOrigin: [0, 0, 0]\n    });\n    this.projectedLight.color = this.color;\n    this.projectedLight.intensity = this.intensity;\n    this.projectedLight.position = position;\n    return this.projectedLight;\n  }\n}\n"],"file":"point-light.js"}