{"ast":null,"code":"import \"core-js/modules/es.promise.finally.js\";import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();function _EMOTION_STRINGIFIED_CSS_ERROR__() {return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";}var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { t } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\nimport copyTextToClipboard from 'src/utils/copy';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  copyNode: PropTypes.node,\n  getText: PropTypes.func,\n  onCopyEnd: PropTypes.func,\n  shouldShowText: PropTypes.bool,\n  text: PropTypes.string,\n  wrapped: PropTypes.bool,\n  tooltipText: PropTypes.string,\n  addDangerToast: PropTypes.func.isRequired,\n  addSuccessToast: PropTypes.func.isRequired };\n\n\nconst defaultProps = {\n  copyNode: ___EmotionJSX(\"span\", null, \"Copy\"),\n  onCopyEnd: () => {},\n  shouldShowText: true,\n  wrapped: true,\n  tooltipText: t('Copy to clipboard') };var _ref = process.env.NODE_ENV === \"production\" ? { name: \"8irbms\", styles: \"display:inline-flex;align-items:center\" } : { name: \"mx2pbj-CopyToClipboard\", styles: \"display:inline-flex;align-items:center;label:CopyToClipboard;\", map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2NvbXBvbmVudHMvQ29weVRvQ2xpcGJvYXJkL2luZGV4LmpzeCJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUF3R1kiLCJmaWxlIjoiL2FwcC9zdXBlcnNldC1mcm9udGVuZC9zcmMvY29tcG9uZW50cy9Db3B5VG9DbGlwYm9hcmQvaW5kZXguanN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyB0IH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgVG9vbHRpcCB9IGZyb20gJ3NyYy9jb21wb25lbnRzL1Rvb2x0aXAnO1xuaW1wb3J0IHdpdGhUb2FzdHMgZnJvbSAnc3JjL21lc3NhZ2VUb2FzdHMvZW5oYW5jZXJzL3dpdGhUb2FzdHMnO1xuaW1wb3J0IGNvcHlUZXh0VG9DbGlwYm9hcmQgZnJvbSAnc3JjL3V0aWxzL2NvcHknO1xuXG5jb25zdCBwcm9wVHlwZXMgPSB7XG4gIGNvcHlOb2RlOiBQcm9wVHlwZXMubm9kZSxcbiAgZ2V0VGV4dDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQ29weUVuZDogUHJvcFR5cGVzLmZ1bmMsXG4gIHNob3VsZFNob3dUZXh0OiBQcm9wVHlwZXMuYm9vbCxcbiAgdGV4dDogUHJvcFR5cGVzLnN0cmluZyxcbiAgd3JhcHBlZDogUHJvcFR5cGVzLmJvb2wsXG4gIHRvb2x0aXBUZXh0OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBhZGREYW5nZXJUb2FzdDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgYWRkU3VjY2Vzc1RvYXN0OiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxufTtcblxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb3B5Tm9kZTogPHNwYW4+Q29weTwvc3Bhbj4sXG4gIG9uQ29weUVuZDogKCkgPT4ge30sXG4gIHNob3VsZFNob3dUZXh0OiB0cnVlLFxuICB3cmFwcGVkOiB0cnVlLFxuICB0b29sdGlwVGV4dDogdCgnQ29weSB0byBjbGlwYm9hcmQnKSxcbn07XG5cbmNsYXNzIENvcHlUb0NsaXBib2FyZCBleHRlbmRzIFJlYWN0LkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuXG4gICAgLy8gYmluZGluZ3NcbiAgICB0aGlzLmNvcHlUb0NsaXBib2FyZCA9IHRoaXMuY29weVRvQ2xpcGJvYXJkLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbkNsaWNrID0gdGhpcy5vbkNsaWNrLmJpbmQodGhpcyk7XG4gIH1cblxuICBvbkNsaWNrKCkge1xuICAgIGlmICh0aGlzLnByb3BzLmdldFRleHQpIHtcbiAgICAgIHRoaXMucHJvcHMuZ2V0VGV4dChkID0+IHtcbiAgICAgICAgdGhpcy5jb3B5VG9DbGlwYm9hcmQoZCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jb3B5VG9DbGlwYm9hcmQodGhpcy5wcm9wcy50ZXh0KTtcbiAgICB9XG4gIH1cblxuICBnZXREZWNvcmF0ZWRDb3B5Tm9kZSgpIHtcbiAgICByZXR1cm4gUmVhY3QuY2xvbmVFbGVtZW50KHRoaXMucHJvcHMuY29weU5vZGUsIHtcbiAgICAgIHN0eWxlOiB7IGN1cnNvcjogJ3BvaW50ZXInIH0sXG4gICAgICBvbkNsaWNrOiB0aGlzLm9uQ2xpY2ssXG4gICAgfSk7XG4gIH1cblxuICBjb3B5VG9DbGlwYm9hcmQodGV4dFRvQ29weSkge1xuICAgIGNvcHlUZXh0VG9DbGlwYm9hcmQodGV4dFRvQ29weSlcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5hZGRTdWNjZXNzVG9hc3QodCgnQ29waWVkIHRvIGNsaXBib2FyZCEnKSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5hZGREYW5nZXJUb2FzdChcbiAgICAgICAgICB0KFxuICAgICAgICAgICAgJ1NvcnJ5LCB5b3VyIGJyb3dzZXIgZG9lcyBub3Qgc3VwcG9ydCBjb3B5aW5nLiBVc2UgQ3RybCAvIENtZCArIEMhJyxcbiAgICAgICAgICApLFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgdGhpcy5wcm9wcy5vbkNvcHlFbmQoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVuZGVyTm90V3JhcHBlZCgpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPFRvb2x0aXBcbiAgICAgICAgaWQ9XCJjb3B5LXRvLWNsaXBib2FyZC10b29sdGlwXCJcbiAgICAgICAgcGxhY2VtZW50PVwidG9wXCJcbiAgICAgICAgc3R5bGU9e3sgY3Vyc29yOiAncG9pbnRlcicgfX1cbiAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudG9vbHRpcFRleHR9XG4gICAgICAgIHRyaWdnZXI9e1snaG92ZXInXX1cbiAgICAgID5cbiAgICAgICAge3RoaXMuZ2V0RGVjb3JhdGVkQ29weU5vZGUoKX1cbiAgICAgIDwvVG9vbHRpcD5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyTGluaygpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW4gY3NzPXt7IGRpc3BsYXk6ICdpbmxpbmUtZmxleCcsIGFsaWduSXRlbXM6ICdjZW50ZXInIH19PlxuICAgICAgICB7dGhpcy5wcm9wcy5zaG91bGRTaG93VGV4dCAmJiB0aGlzLnByb3BzLnRleHQgJiYgKFxuICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cIm0tci01XCIgZGF0YS10ZXN0PVwic2hvcnQtdXJsXCI+XG4gICAgICAgICAgICB7dGhpcy5wcm9wcy50ZXh0fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgKX1cbiAgICAgICAgPFRvb2x0aXBcbiAgICAgICAgICBpZD1cImNvcHktdG8tY2xpcGJvYXJkLXRvb2x0aXBcIlxuICAgICAgICAgIHBsYWNlbWVudD1cInRvcFwiXG4gICAgICAgICAgdGl0bGU9e3RoaXMucHJvcHMudG9vbHRpcFRleHR9XG4gICAgICAgICAgdHJpZ2dlcj17Wydob3ZlciddfVxuICAgICAgICA+XG4gICAgICAgICAge3RoaXMuZ2V0RGVjb3JhdGVkQ29weU5vZGUoKX1cbiAgICAgICAgPC9Ub29sdGlwPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyB3cmFwcGVkIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmICghd3JhcHBlZCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVuZGVyTm90V3JhcHBlZCgpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5yZW5kZXJMaW5rKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgd2l0aFRvYXN0cyhDb3B5VG9DbGlwYm9hcmQpO1xuXG5Db3B5VG9DbGlwYm9hcmQucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuQ29weVRvQ2xpcGJvYXJkLmRlZmF1bHRQcm9wcyA9IGRlZmF1bHRQcm9wcztcbiJdfQ== */\", toString: _EMOTION_STRINGIFIED_CSS_ERROR__ };\n\n\nclass CopyToClipboard extends React.Component {\n  constructor(props) {var _context, _context2;\n    super(props);\n\n    // bindings\n    this.copyToClipboard = _bindInstanceProperty(_context = this.copyToClipboard).call(_context, this);\n    this.onClick = _bindInstanceProperty(_context2 = this.onClick).call(_context2, this);\n  }\n\n  onClick() {\n    if (this.props.getText) {\n      this.props.getText(d => {\n        this.copyToClipboard(d);\n      });\n    } else {\n      this.copyToClipboard(this.props.text);\n    }\n  }\n\n  getDecoratedCopyNode() {\n    return /*#__PURE__*/React.cloneElement(this.props.copyNode, {\n      style: { cursor: 'pointer' },\n      onClick: this.onClick });\n\n  }\n\n  copyToClipboard(textToCopy) {\n    copyTextToClipboard(textToCopy).\n    then(() => {\n      this.props.addSuccessToast(t('Copied to clipboard!'));\n    }).\n    catch(() => {\n      this.props.addDangerToast(\n      t(\n      'Sorry, your browser does not support copying. Use Ctrl / Cmd + C!'));\n\n\n    }).\n    finally(() => {\n      this.props.onCopyEnd();\n    });\n  }\n\n  renderNotWrapped() {\n    return (\n      ___EmotionJSX(Tooltip, {\n        id: \"copy-to-clipboard-tooltip\",\n        placement: \"top\",\n        style: { cursor: 'pointer' },\n        title: this.props.tooltipText,\n        trigger: ['hover'] },\n\n      this.getDecoratedCopyNode()));\n\n\n  }\n\n  renderLink() {\n    return (\n      ___EmotionJSX(\"span\", { css: _ref },\n      this.props.shouldShowText && this.props.text &&\n      ___EmotionJSX(\"span\", { className: \"m-r-5\", \"data-test\": \"short-url\" },\n      this.props.text),\n\n\n      ___EmotionJSX(Tooltip, {\n        id: \"copy-to-clipboard-tooltip\",\n        placement: \"top\",\n        title: this.props.tooltipText,\n        trigger: ['hover'] },\n\n      this.getDecoratedCopyNode())));\n\n\n\n  }\n\n  render() {\n    const { wrapped } = this.props;\n    if (!wrapped) {\n      return this.renderNotWrapped();\n    }\n    return this.renderLink();\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}const _default =\nwithToasts(CopyToClipboard);export default _default;\n\nCopyToClipboard.propTypes = propTypes;\nCopyToClipboard.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/app/superset-frontend/src/components/CopyToClipboard/index.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/app/superset-frontend/src/components/CopyToClipboard/index.jsx\");reactHotLoader.register(CopyToClipboard, \"CopyToClipboard\", \"/app/superset-frontend/src/components/CopyToClipboard/index.jsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/components/CopyToClipboard/index.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/components/CopyToClipboard/index.jsx"],"names":["React","PropTypes","t","Tooltip","withToasts","copyTextToClipboard","propTypes","copyNode","node","getText","func","onCopyEnd","shouldShowText","bool","text","string","wrapped","tooltipText","addDangerToast","isRequired","addSuccessToast","defaultProps","CopyToClipboard","Component","constructor","props","copyToClipboard","onClick","d","getDecoratedCopyNode","cloneElement","style","cursor","textToCopy","then","catch","finally","renderNotWrapped","renderLink","render"],"mappings":"ssBAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SAASC,CAAT,QAAkB,mBAAlB;AACA,SAASC,OAAT,QAAwB,wBAAxB;AACA,OAAOC,UAAP,MAAuB,wCAAvB;AACA,OAAOC,mBAAP,MAAgC,gBAAhC,C;;AAEA,MAAMC,SAAS,GAAG;AAChBC,EAAAA,QAAQ,EAAEN,SAAS,CAACO,IADJ;AAEhBC,EAAAA,OAAO,EAAER,SAAS,CAACS,IAFH;AAGhBC,EAAAA,SAAS,EAAEV,SAAS,CAACS,IAHL;AAIhBE,EAAAA,cAAc,EAAEX,SAAS,CAACY,IAJV;AAKhBC,EAAAA,IAAI,EAAEb,SAAS,CAACc,MALA;AAMhBC,EAAAA,OAAO,EAAEf,SAAS,CAACY,IANH;AAOhBI,EAAAA,WAAW,EAAEhB,SAAS,CAACc,MAPP;AAQhBG,EAAAA,cAAc,EAAEjB,SAAS,CAACS,IAAV,CAAeS,UARf;AAShBC,EAAAA,eAAe,EAAEnB,SAAS,CAACS,IAAV,CAAeS,UAThB,EAAlB;;;AAYA,MAAME,YAAY,GAAG;AACnBd,EAAAA,QAAQ,EAAE,mCADS;AAEnBI,EAAAA,SAAS,EAAE,MAAM,CAAE,CAFA;AAGnBC,EAAAA,cAAc,EAAE,IAHG;AAInBI,EAAAA,OAAO,EAAE,IAJU;AAKnBC,EAAAA,WAAW,EAAEf,CAAC,CAAC,mBAAD,CALK,EAArB,C;;;AAQA,MAAMoB,eAAN,SAA8BtB,KAAK,CAACuB,SAApC,CAA8C;AAC5CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACjB,UAAMA,KAAN;;AAEA;AACA,SAAKC,eAAL,GAAuB,sCAAKA,eAAL,iBAA0B,IAA1B,CAAvB;AACA,SAAKC,OAAL,GAAe,uCAAKA,OAAL,kBAAkB,IAAlB,CAAf;AACD;;AAEDA,EAAAA,OAAO,GAAG;AACR,QAAI,KAAKF,KAAL,CAAWhB,OAAf,EAAwB;AACtB,WAAKgB,KAAL,CAAWhB,OAAX,CAAmBmB,CAAC,IAAI;AACtB,aAAKF,eAAL,CAAqBE,CAArB;AACD,OAFD;AAGD,KAJD,MAIO;AACL,WAAKF,eAAL,CAAqB,KAAKD,KAAL,CAAWX,IAAhC;AACD;AACF;;AAEDe,EAAAA,oBAAoB,GAAG;AACrB,wBAAO7B,KAAK,CAAC8B,YAAN,CAAmB,KAAKL,KAAL,CAAWlB,QAA9B,EAAwC;AAC7CwB,MAAAA,KAAK,EAAE,EAAEC,MAAM,EAAE,SAAV,EADsC;AAE7CL,MAAAA,OAAO,EAAE,KAAKA,OAF+B,EAAxC,CAAP;;AAID;;AAEDD,EAAAA,eAAe,CAACO,UAAD,EAAa;AAC1B5B,IAAAA,mBAAmB,CAAC4B,UAAD,CAAnB;AACGC,IAAAA,IADH,CACQ,MAAM;AACV,WAAKT,KAAL,CAAWL,eAAX,CAA2BlB,CAAC,CAAC,sBAAD,CAA5B;AACD,KAHH;AAIGiC,IAAAA,KAJH,CAIS,MAAM;AACX,WAAKV,KAAL,CAAWP,cAAX;AACEhB,MAAAA,CAAC;AACC,yEADD,CADH;;;AAKD,KAVH;AAWGkC,IAAAA,OAXH,CAWW,MAAM;AACb,WAAKX,KAAL,CAAWd,SAAX;AACD,KAbH;AAcD;;AAED0B,EAAAA,gBAAgB,GAAG;AACjB;AACE,oBAAC,OAAD;AACE,QAAA,EAAE,EAAC,2BADL;AAEE,QAAA,SAAS,EAAC,KAFZ;AAGE,QAAA,KAAK,EAAE,EAAEL,MAAM,EAAE,SAAV,EAHT;AAIE,QAAA,KAAK,EAAE,KAAKP,KAAL,CAAWR,WAJpB;AAKE,QAAA,OAAO,EAAE,CAAC,OAAD,CALX;;AAOG,WAAKY,oBAAL,EAPH,CADF;;;AAWD;;AAEDS,EAAAA,UAAU,GAAG;AACX;AACE,8BAAM,GAAG,MAAT;AACG,WAAKb,KAAL,CAAWb,cAAX,IAA6B,KAAKa,KAAL,CAAWX,IAAxC;AACC,8BAAM,SAAS,EAAC,OAAhB,EAAwB,aAAU,WAAlC;AACG,WAAKW,KAAL,CAAWX,IADd,CAFJ;;;AAME,oBAAC,OAAD;AACE,QAAA,EAAE,EAAC,2BADL;AAEE,QAAA,SAAS,EAAC,KAFZ;AAGE,QAAA,KAAK,EAAE,KAAKW,KAAL,CAAWR,WAHpB;AAIE,QAAA,OAAO,EAAE,CAAC,OAAD,CAJX;;AAMG,WAAKY,oBAAL,EANH,CANF,CADF;;;;AAiBD;;AAEDU,EAAAA,MAAM,GAAG;AACP,UAAM,EAAEvB,OAAF,KAAc,KAAKS,KAAzB;AACA,QAAI,CAACT,OAAL,EAAc;AACZ,aAAO,KAAKqB,gBAAL,EAAP;AACD;AACD,WAAO,KAAKC,UAAL,EAAP;AACD,GAnF2C;AAAA;AAAA,6B;AAsF/BlC,UAAU,CAACkB,eAAD,C,CAAzB;;AAEAA,eAAe,CAAChB,SAAhB,GAA4BA,SAA5B;AACAgB,eAAe,CAACD,YAAhB,GAA+BA,YAA/B,C,iLA7GMf,S,0GAYAe,Y,6GAQAC,e","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { t } from '@superset-ui/core';\nimport { Tooltip } from 'src/components/Tooltip';\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\nimport copyTextToClipboard from 'src/utils/copy';\n\nconst propTypes = {\n  copyNode: PropTypes.node,\n  getText: PropTypes.func,\n  onCopyEnd: PropTypes.func,\n  shouldShowText: PropTypes.bool,\n  text: PropTypes.string,\n  wrapped: PropTypes.bool,\n  tooltipText: PropTypes.string,\n  addDangerToast: PropTypes.func.isRequired,\n  addSuccessToast: PropTypes.func.isRequired,\n};\n\nconst defaultProps = {\n  copyNode: <span>Copy</span>,\n  onCopyEnd: () => {},\n  shouldShowText: true,\n  wrapped: true,\n  tooltipText: t('Copy to clipboard'),\n};\n\nclass CopyToClipboard extends React.Component {\n  constructor(props) {\n    super(props);\n\n    // bindings\n    this.copyToClipboard = this.copyToClipboard.bind(this);\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick() {\n    if (this.props.getText) {\n      this.props.getText(d => {\n        this.copyToClipboard(d);\n      });\n    } else {\n      this.copyToClipboard(this.props.text);\n    }\n  }\n\n  getDecoratedCopyNode() {\n    return React.cloneElement(this.props.copyNode, {\n      style: { cursor: 'pointer' },\n      onClick: this.onClick,\n    });\n  }\n\n  copyToClipboard(textToCopy) {\n    copyTextToClipboard(textToCopy)\n      .then(() => {\n        this.props.addSuccessToast(t('Copied to clipboard!'));\n      })\n      .catch(() => {\n        this.props.addDangerToast(\n          t(\n            'Sorry, your browser does not support copying. Use Ctrl / Cmd + C!',\n          ),\n        );\n      })\n      .finally(() => {\n        this.props.onCopyEnd();\n      });\n  }\n\n  renderNotWrapped() {\n    return (\n      <Tooltip\n        id=\"copy-to-clipboard-tooltip\"\n        placement=\"top\"\n        style={{ cursor: 'pointer' }}\n        title={this.props.tooltipText}\n        trigger={['hover']}\n      >\n        {this.getDecoratedCopyNode()}\n      </Tooltip>\n    );\n  }\n\n  renderLink() {\n    return (\n      <span css={{ display: 'inline-flex', alignItems: 'center' }}>\n        {this.props.shouldShowText && this.props.text && (\n          <span className=\"m-r-5\" data-test=\"short-url\">\n            {this.props.text}\n          </span>\n        )}\n        <Tooltip\n          id=\"copy-to-clipboard-tooltip\"\n          placement=\"top\"\n          title={this.props.tooltipText}\n          trigger={['hover']}\n        >\n          {this.getDecoratedCopyNode()}\n        </Tooltip>\n      </span>\n    );\n  }\n\n  render() {\n    const { wrapped } = this.props;\n    if (!wrapped) {\n      return this.renderNotWrapped();\n    }\n    return this.renderLink();\n  }\n}\n\nexport default withToasts(CopyToClipboard);\n\nCopyToClipboard.propTypes = propTypes;\nCopyToClipboard.defaultProps = defaultProps;\n"]},"metadata":{},"sourceType":"module"}