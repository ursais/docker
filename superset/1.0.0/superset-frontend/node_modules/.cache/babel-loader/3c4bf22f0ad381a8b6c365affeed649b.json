{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import { t, SupersetClient } from '@superset-ui/core';\nimport { addDangerToast, toastActions } from 'src/messageToasts/actions';\nconst FAVESTAR_BASE_URL = '/superset/favstar/slice';\nexport const SET_DATASOURCE_TYPE = 'SET_DATASOURCE_TYPE';\nexport function setDatasourceType(datasourceType) {\n  return { type: SET_DATASOURCE_TYPE, datasourceType };\n}\nexport const SET_DATASOURCE = 'SET_DATASOURCE';\nexport function setDatasource(datasource) {\n  return { type: SET_DATASOURCE, datasource };\n}\nexport const SET_DATASOURCES = 'SET_DATASOURCES';\nexport function setDatasources(datasources) {\n  return { type: SET_DATASOURCES, datasources };\n}\nexport const POST_DATASOURCE_STARTED = 'POST_DATASOURCE_STARTED';\nexport const FETCH_DATASOURCE_SUCCEEDED = 'FETCH_DATASOURCE_SUCCEEDED';\nexport function fetchDatasourceSucceeded() {\n  return { type: FETCH_DATASOURCE_SUCCEEDED };\n}\nexport const FETCH_DATASOURCES_STARTED = 'FETCH_DATASOURCES_STARTED';\nexport function fetchDatasourcesStarted() {\n  return { type: FETCH_DATASOURCES_STARTED };\n}\nexport const FETCH_DATASOURCES_SUCCEEDED = 'FETCH_DATASOURCES_SUCCEEDED';\nexport function fetchDatasourcesSucceeded() {\n  return { type: FETCH_DATASOURCES_SUCCEEDED };\n}\nexport const TOGGLE_FAVE_STAR = 'TOGGLE_FAVE_STAR';\nexport function toggleFaveStar(isStarred) {\n  return { type: TOGGLE_FAVE_STAR, isStarred };\n}\nexport const FETCH_FAVE_STAR = 'FETCH_FAVE_STAR';\nexport function fetchFaveStar(sliceId) {\n  return function (dispatch) {\n    SupersetClient.get({\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/count` }).\n    then(({ json }) => {\n      if (json.count > 0) {\n        dispatch(toggleFaveStar(true));\n      }\n    });\n  };\n}\nexport const SAVE_FAVE_STAR = 'SAVE_FAVE_STAR';\nexport function saveFaveStar(sliceId, isStarred) {\n  return function (dispatch) {\n    const urlSuffix = isStarred ? 'unselect' : 'select';\n    SupersetClient.get({\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/${urlSuffix}/` }).\n\n    then(() => dispatch(toggleFaveStar(!isStarred))).\n    catch(() => {\n      dispatch(addDangerToast(t('An error occurred while starring this chart')));\n    });\n  };\n}\nexport const SET_FIELD_VALUE = 'SET_FIELD_VALUE';\nexport function setControlValue(controlName, value, validationErrors) {\n  return { type: SET_FIELD_VALUE, controlName, value, validationErrors };\n}\nexport const SET_EXPLORE_CONTROLS = 'UPDATE_EXPLORE_CONTROLS';\nexport function setExploreControls(formData) {\n  return { type: SET_EXPLORE_CONTROLS, formData };\n}\nexport const UPDATE_CHART_TITLE = 'UPDATE_CHART_TITLE';\nexport function updateChartTitle(sliceName) {\n  return { type: UPDATE_CHART_TITLE, sliceName };\n}\nexport const CREATE_NEW_SLICE = 'CREATE_NEW_SLICE';\nexport function createNewSlice(can_add, can_download, can_overwrite, slice, form_data) {\n  return {\n    type: CREATE_NEW_SLICE,\n    can_add,\n    can_download,\n    can_overwrite,\n    slice,\n    form_data };\n\n}\nexport const SLICE_UPDATED = 'SLICE_UPDATED';\nexport function sliceUpdated(slice) {\n  return { type: SLICE_UPDATED, slice };\n}\nexport const exploreActions = {\n  ...toastActions,\n  setDatasourceType,\n  setDatasource,\n  setDatasources,\n  fetchDatasourcesStarted,\n  fetchDatasourcesSucceeded,\n  toggleFaveStar,\n  fetchFaveStar,\n  saveFaveStar,\n  setControlValue,\n  setExploreControls,\n  updateChartTitle,\n  createNewSlice,\n  sliceUpdated };;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(FAVESTAR_BASE_URL, \"FAVESTAR_BASE_URL\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(SET_DATASOURCE_TYPE, \"SET_DATASOURCE_TYPE\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(setDatasourceType, \"setDatasourceType\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(SET_DATASOURCE, \"SET_DATASOURCE\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(setDatasource, \"setDatasource\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(SET_DATASOURCES, \"SET_DATASOURCES\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(setDatasources, \"setDatasources\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(POST_DATASOURCE_STARTED, \"POST_DATASOURCE_STARTED\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(FETCH_DATASOURCE_SUCCEEDED, \"FETCH_DATASOURCE_SUCCEEDED\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(fetchDatasourceSucceeded, \"fetchDatasourceSucceeded\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(FETCH_DATASOURCES_STARTED, \"FETCH_DATASOURCES_STARTED\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(fetchDatasourcesStarted, \"fetchDatasourcesStarted\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(FETCH_DATASOURCES_SUCCEEDED, \"FETCH_DATASOURCES_SUCCEEDED\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(fetchDatasourcesSucceeded, \"fetchDatasourcesSucceeded\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(TOGGLE_FAVE_STAR, \"TOGGLE_FAVE_STAR\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(toggleFaveStar, \"toggleFaveStar\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(FETCH_FAVE_STAR, \"FETCH_FAVE_STAR\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(fetchFaveStar, \"fetchFaveStar\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(SAVE_FAVE_STAR, \"SAVE_FAVE_STAR\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(saveFaveStar, \"saveFaveStar\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(SET_FIELD_VALUE, \"SET_FIELD_VALUE\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(setControlValue, \"setControlValue\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(SET_EXPLORE_CONTROLS, \"SET_EXPLORE_CONTROLS\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(setExploreControls, \"setExploreControls\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(UPDATE_CHART_TITLE, \"UPDATE_CHART_TITLE\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(updateChartTitle, \"updateChartTitle\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(CREATE_NEW_SLICE, \"CREATE_NEW_SLICE\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(createNewSlice, \"createNewSlice\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(SLICE_UPDATED, \"SLICE_UPDATED\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(sliceUpdated, \"sliceUpdated\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");reactHotLoader.register(exploreActions, \"exploreActions\", \"/app/superset-frontend/src/explore/actions/exploreActions.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/explore/actions/exploreActions.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint camelcase: 0 */\nimport { DatasourceMeta } from '@superset-ui/chart-controls';\nimport {\n  t,\n  SupersetClient,\n  DatasourceType,\n  QueryFormData,\n} from '@superset-ui/core';\nimport { Dispatch } from 'redux';\nimport { addDangerToast, toastActions } from 'src/messageToasts/actions';\nimport { Slice } from 'src/types/Chart';\n\nconst FAVESTAR_BASE_URL = '/superset/favstar/slice';\n\nexport const SET_DATASOURCE_TYPE = 'SET_DATASOURCE_TYPE';\nexport function setDatasourceType(datasourceType: DatasourceType) {\n  return { type: SET_DATASOURCE_TYPE, datasourceType };\n}\n\nexport const SET_DATASOURCE = 'SET_DATASOURCE';\nexport function setDatasource(datasource: DatasourceMeta) {\n  return { type: SET_DATASOURCE, datasource };\n}\n\nexport const SET_DATASOURCES = 'SET_DATASOURCES';\nexport function setDatasources(datasources: DatasourceMeta[]) {\n  return { type: SET_DATASOURCES, datasources };\n}\n\nexport const POST_DATASOURCE_STARTED = 'POST_DATASOURCE_STARTED';\nexport const FETCH_DATASOURCE_SUCCEEDED = 'FETCH_DATASOURCE_SUCCEEDED';\nexport function fetchDatasourceSucceeded() {\n  return { type: FETCH_DATASOURCE_SUCCEEDED };\n}\n\nexport const FETCH_DATASOURCES_STARTED = 'FETCH_DATASOURCES_STARTED';\nexport function fetchDatasourcesStarted() {\n  return { type: FETCH_DATASOURCES_STARTED };\n}\n\nexport const FETCH_DATASOURCES_SUCCEEDED = 'FETCH_DATASOURCES_SUCCEEDED';\nexport function fetchDatasourcesSucceeded() {\n  return { type: FETCH_DATASOURCES_SUCCEEDED };\n}\n\nexport const TOGGLE_FAVE_STAR = 'TOGGLE_FAVE_STAR';\nexport function toggleFaveStar(isStarred: boolean) {\n  return { type: TOGGLE_FAVE_STAR, isStarred };\n}\n\nexport const FETCH_FAVE_STAR = 'FETCH_FAVE_STAR';\nexport function fetchFaveStar(sliceId: string) {\n  return function (dispatch: Dispatch) {\n    SupersetClient.get({\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/count`,\n    }).then(({ json }) => {\n      if (json.count > 0) {\n        dispatch(toggleFaveStar(true));\n      }\n    });\n  };\n}\n\nexport const SAVE_FAVE_STAR = 'SAVE_FAVE_STAR';\nexport function saveFaveStar(sliceId: string, isStarred: boolean) {\n  return function (dispatch: Dispatch) {\n    const urlSuffix = isStarred ? 'unselect' : 'select';\n    SupersetClient.get({\n      endpoint: `${FAVESTAR_BASE_URL}/${sliceId}/${urlSuffix}/`,\n    })\n      .then(() => dispatch(toggleFaveStar(!isStarred)))\n      .catch(() => {\n        dispatch(\n          addDangerToast(t('An error occurred while starring this chart')),\n        );\n      });\n  };\n}\n\nexport const SET_FIELD_VALUE = 'SET_FIELD_VALUE';\nexport function setControlValue(\n  controlName: string,\n  value: any,\n  validationErrors?: any[],\n) {\n  return { type: SET_FIELD_VALUE, controlName, value, validationErrors };\n}\n\nexport const SET_EXPLORE_CONTROLS = 'UPDATE_EXPLORE_CONTROLS';\nexport function setExploreControls(formData: QueryFormData) {\n  return { type: SET_EXPLORE_CONTROLS, formData };\n}\n\nexport const UPDATE_CHART_TITLE = 'UPDATE_CHART_TITLE';\nexport function updateChartTitle(sliceName: string) {\n  return { type: UPDATE_CHART_TITLE, sliceName };\n}\n\nexport const CREATE_NEW_SLICE = 'CREATE_NEW_SLICE';\nexport function createNewSlice(\n  can_add: boolean,\n  can_download: boolean,\n  can_overwrite: boolean,\n  slice: Slice,\n  form_data: QueryFormData,\n) {\n  return {\n    type: CREATE_NEW_SLICE,\n    can_add,\n    can_download,\n    can_overwrite,\n    slice,\n    form_data,\n  };\n}\n\nexport const SLICE_UPDATED = 'SLICE_UPDATED';\nexport function sliceUpdated(slice: Slice) {\n  return { type: SLICE_UPDATED, slice };\n}\n\nexport const exploreActions = {\n  ...toastActions,\n  setDatasourceType,\n  setDatasource,\n  setDatasources,\n  fetchDatasourcesStarted,\n  fetchDatasourcesSucceeded,\n  toggleFaveStar,\n  fetchFaveStar,\n  saveFaveStar,\n  setControlValue,\n  setExploreControls,\n  updateChartTitle,\n  createNewSlice,\n  sliceUpdated,\n};\n\nexport type ExploreActions = typeof exploreActions;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}