{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator.js\";import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _forEachInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/for-each\";import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";import _debounce from \"lodash/debounce\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport { styled, css } from '@superset-ui/core';\n\nimport { Global } from '@emotion/react';\nimport { getUrlParam } from 'src/utils/urlUtils';\nimport { MainNav as DropdownMenu } from 'src/common/components';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Grid } from 'antd';\nimport Icon from 'src/components/Icon';\nimport RightMenu from './MenuRight';\nimport { URL_PARAMS } from '../../constants';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledHeader = styled.header`\n  background-color: white;\n  margin-bottom: 2px;\n  border-bottom: 2px solid ${({ theme }) => theme.colors.grayscale.light4}px;\n  &:nth-last-of-type(2) nav {\n    margin-bottom: 2px;\n  }\n\n  .caret {\n    display: none;\n  }\n  .navbar-brand {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .main-nav .ant-menu-submenu-title > svg {\n    top: ${({ theme }) => theme.gridUnit * 5.25}px;\n  }\n  @media (max-width: 767px) {\n    .navbar-brand {\n      float: none;\n    }\n  }\n  .ant-menu-horizontal .ant-menu-item {\n    height: 100%;\n    line-height: inherit;\n  }\n  .ant-menu > .ant-menu-item > a {\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n  }\n  @media (max-width: 767px) {\n    .ant-menu-item {\n      padding: 0 ${({ theme }) => theme.gridUnit * 6}px 0\n        ${({ theme }) => theme.gridUnit * 3}px !important;\n    }\n    .ant-menu > .ant-menu-item > a {\n      padding: 0px;\n    }\n    .main-nav .ant-menu-submenu-title > svg:nth-child(1) {\n      display: none;\n    }\n    .ant-menu-item-active > a {\n      &:hover {\n        color: ${({ theme }) => theme.colors.primary.base} !important;\n        background-color: transparent !important;\n      }\n    }\n  }\n\n  .ant-menu-item a {\n    &:hover {\n      color: ${({ theme }) => theme.colors.grayscale.dark1};\n      background-color: ${({ theme }) => theme.colors.primary.light5};\n      border-bottom: none;\n      margin: 0;\n      &:after {\n        opacity: 1;\n        width: 100%;\n      }\n    }\n  }\n`;\nconst { SubMenu } = DropdownMenu;\nconst { useBreakpoint } = Grid;\nexport function Menu({ data: { menu, brand, navbar_right: navbarRight, settings }, isFrontendRoute = () => false }) {\n  const [showMenu, setMenu] = useState('horizontal');\n  const screens = useBreakpoint();\n  useEffect(() => {\n    function handleResize() {\n      if (window.innerWidth <= 767) {\n        setMenu('inline');\n      } else\n\n      setMenu('horizontal');\n    }\n    handleResize();\n    const windowResize = _debounce(() => handleResize(), 10);\n    window.addEventListener('resize', windowResize);\n    return () => window.removeEventListener('resize', windowResize);\n  }, []);\n  const standalone = getUrlParam(URL_PARAMS.standalone);\n  if (standalone)\n  return ___EmotionJSX(React.Fragment, null);\n  const renderSubMenu = ({ label, childs, url, index, isFrontendRoute }) => {\n    if (url && isFrontendRoute) {\n      return ___EmotionJSX(DropdownMenu.Item, { key: label, role: \"presentation\" },\n      ___EmotionJSX(Link, { role: \"button\", to: url },\n      label));\n\n\n    }\n    if (url) {\n      return ___EmotionJSX(DropdownMenu.Item, { key: label },\n      ___EmotionJSX(\"a\", { href: url }, label));\n\n    }\n    return ___EmotionJSX(SubMenu, { key: index, title: label, icon: ___EmotionJSX(Icon, { name: \"triangle-down\" }) },\n    childs == null ? void 0 : _mapInstanceProperty(childs).call(childs, (child, index1) => {\n      if (typeof child === 'string' && child === '-') {\n        return ___EmotionJSX(DropdownMenu.Divider, { key: `$${index1}` });\n      }\n      if (typeof child !== 'string') {\n        return ___EmotionJSX(DropdownMenu.Item, { key: `${child.label}` },\n        child.isFrontendRoute ? ___EmotionJSX(Link, { to: child.url || '' }, child.label) : ___EmotionJSX(\"a\", { href: child.url }, child.label));\n\n      }\n      return null;\n    }));\n\n  };\n  return ___EmotionJSX(StyledHeader, { className: \"top\", id: \"main-menu\", role: \"navigation\" },\n  ___EmotionJSX(Global, { styles: css`\n          .ant-menu-submenu.ant-menu-submenu-popup.ant-menu.ant-menu-light.ant-menu-submenu-placement-bottomLeft {\n            border-radius: 0px;\n          }\n          .ant-menu-submenu.ant-menu-submenu-popup.ant-menu.ant-menu-light {\n            border-radius: 0px;\n          }\n        ` }),\n  ___EmotionJSX(Row, null,\n  ___EmotionJSX(Col, { md: 16, xs: 24 },\n  ___EmotionJSX(\"a\", { className: \"navbar-brand\", href: brand.path },\n  ___EmotionJSX(\"img\", { width: brand.width, src: brand.icon, alt: brand.alt })),\n\n  ___EmotionJSX(DropdownMenu, { mode: showMenu, \"data-test\": \"navbar-top\", className: \"main-nav\" },\n  _mapInstanceProperty(menu).call(menu, item => {var _item$childs;\n    const props = {\n      ...item,\n      isFrontendRoute: isFrontendRoute(item.url),\n      childs: (_item$childs = item.childs) == null ? void 0 : _mapInstanceProperty(_item$childs).call(_item$childs, c => {\n        if (typeof c === 'string') {\n          return c;\n        }\n        return {\n          ...c,\n          isFrontendRoute: isFrontendRoute(c.url) };\n\n      }) };\n\n    return renderSubMenu(props);\n  }))),\n\n\n  ___EmotionJSX(Col, { md: 8, xs: 24 },\n  ___EmotionJSX(RightMenu, { align: screens.md ? 'flex-end' : 'flex-start', settings: settings, navbarRight: navbarRight, isFrontendRoute: isFrontendRoute }))));\n\n\n\n}\n// transform the menu data to reorganize components\n__signature__(Menu, \"useState{[showMenu, setMenu]('horizontal')}\\nuseBreakpoint{screens}\\nuseEffect{}\", () => [useBreakpoint]);export default function MenuWrapper({ data, ...rest }) {var _context;\n  const newMenuData = {\n    ...data };\n\n  // Menu items that should go into settings dropdown\n  const settingsMenus = {\n    Security: true,\n    Manage: true };\n\n  // Cycle through menu.menu to build out cleanedMenu and settings\n  const cleanedMenu = [];\n  const settings = [];\n  _forEachInstanceProperty(_context = newMenuData.menu).call(_context, item => {\n    if (!item) {\n      return;\n    }\n    const children = [];\n    const newItem = {\n      ...item };\n\n    // Filter childs\n    if (item.childs) {var _context2;\n      _forEachInstanceProperty(_context2 = item.childs).call(_context2, child => {\n        if (typeof child === 'string') {\n          children.push(child);\n        } else\n        if (child.label) {\n          children.push(child);\n        }\n      });\n      newItem.childs = children;\n    }\n    if (!settingsMenus.hasOwnProperty(item.name)) {\n      cleanedMenu.push(newItem);\n    } else\n    {\n      settings.push(newItem);\n    }\n  });\n  newMenuData.menu = cleanedMenu;\n  newMenuData.settings = settings;\n  return ___EmotionJSX(Menu, _extends({ data: newMenuData }, rest));\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledHeader, \"StyledHeader\", \"/app/superset-frontend/src/components/Menu/Menu.tsx\");reactHotLoader.register(SubMenu, \"SubMenu\", \"/app/superset-frontend/src/components/Menu/Menu.tsx\");reactHotLoader.register(useBreakpoint, \"useBreakpoint\", \"/app/superset-frontend/src/components/Menu/Menu.tsx\");reactHotLoader.register(Menu, \"Menu\", \"/app/superset-frontend/src/components/Menu/Menu.tsx\");reactHotLoader.register(MenuWrapper, \"MenuWrapper\", \"/app/superset-frontend/src/components/Menu/Menu.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/components/Menu/Menu.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useEffect } from 'react';\nimport { styled, css } from '@superset-ui/core';\nimport { debounce } from 'lodash';\nimport { Global } from '@emotion/react';\nimport { getUrlParam } from 'src/utils/urlUtils';\nimport { MainNav as DropdownMenu, MenuMode } from 'src/common/components';\nimport { Link } from 'react-router-dom';\nimport { Row, Col, Grid } from 'antd';\nimport Icon from 'src/components/Icon';\nimport RightMenu from './MenuRight';\nimport { Languages } from './LanguagePicker';\nimport { URL_PARAMS } from '../../constants';\n\ninterface BrandProps {\n  path: string;\n  icon: string;\n  alt: string;\n  width: string | number;\n}\n\nexport interface NavBarProps {\n  bug_report_url?: string;\n  version_string?: string;\n  version_sha?: string;\n  documentation_url?: string;\n  languages: Languages;\n  show_language_picker: boolean;\n  user_is_anonymous: boolean;\n  user_info_url: string;\n  user_login_url: string;\n  user_logout_url: string;\n  user_profile_url: string | null;\n  locale: string;\n}\n\nexport interface MenuProps {\n  data: {\n    menu: MenuObjectProps[];\n    brand: BrandProps;\n    navbar_right: NavBarProps;\n    settings: MenuObjectProps[];\n  };\n  isFrontendRoute?: (path?: string) => boolean;\n}\n\ninterface MenuObjectChildProps {\n  label: string;\n  name?: string;\n  icon: string;\n  index: number;\n  url?: string;\n  isFrontendRoute?: boolean;\n}\n\nexport interface MenuObjectProps extends MenuObjectChildProps {\n  childs?: (MenuObjectChildProps | string)[];\n  isHeader?: boolean;\n}\n\nconst StyledHeader = styled.header`\n  background-color: white;\n  margin-bottom: 2px;\n  border-bottom: 2px solid ${({ theme }) => theme.colors.grayscale.light4}px;\n  &:nth-last-of-type(2) nav {\n    margin-bottom: 2px;\n  }\n\n  .caret {\n    display: none;\n  }\n  .navbar-brand {\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n  }\n  .main-nav .ant-menu-submenu-title > svg {\n    top: ${({ theme }) => theme.gridUnit * 5.25}px;\n  }\n  @media (max-width: 767px) {\n    .navbar-brand {\n      float: none;\n    }\n  }\n  .ant-menu-horizontal .ant-menu-item {\n    height: 100%;\n    line-height: inherit;\n  }\n  .ant-menu > .ant-menu-item > a {\n    padding: ${({ theme }) => theme.gridUnit * 4}px;\n  }\n  @media (max-width: 767px) {\n    .ant-menu-item {\n      padding: 0 ${({ theme }) => theme.gridUnit * 6}px 0\n        ${({ theme }) => theme.gridUnit * 3}px !important;\n    }\n    .ant-menu > .ant-menu-item > a {\n      padding: 0px;\n    }\n    .main-nav .ant-menu-submenu-title > svg:nth-child(1) {\n      display: none;\n    }\n    .ant-menu-item-active > a {\n      &:hover {\n        color: ${({ theme }) => theme.colors.primary.base} !important;\n        background-color: transparent !important;\n      }\n    }\n  }\n\n  .ant-menu-item a {\n    &:hover {\n      color: ${({ theme }) => theme.colors.grayscale.dark1};\n      background-color: ${({ theme }) => theme.colors.primary.light5};\n      border-bottom: none;\n      margin: 0;\n      &:after {\n        opacity: 1;\n        width: 100%;\n      }\n    }\n  }\n`;\n\nconst { SubMenu } = DropdownMenu;\n\nconst { useBreakpoint } = Grid;\n\nexport function Menu({\n  data: { menu, brand, navbar_right: navbarRight, settings },\n  isFrontendRoute = () => false,\n}: MenuProps) {\n  const [showMenu, setMenu] = useState<MenuMode>('horizontal');\n  const screens = useBreakpoint();\n\n  useEffect(() => {\n    function handleResize() {\n      if (window.innerWidth <= 767) {\n        setMenu('inline');\n      } else setMenu('horizontal');\n    }\n    handleResize();\n    const windowResize = debounce(() => handleResize(), 10);\n    window.addEventListener('resize', windowResize);\n    return () => window.removeEventListener('resize', windowResize);\n  }, []);\n\n  const standalone = getUrlParam(URL_PARAMS.standalone);\n  if (standalone) return <></>;\n\n  const renderSubMenu = ({\n    label,\n    childs,\n    url,\n    index,\n    isFrontendRoute,\n  }: MenuObjectProps) => {\n    if (url && isFrontendRoute) {\n      return (\n        <DropdownMenu.Item key={label} role=\"presentation\">\n          <Link role=\"button\" to={url}>\n            {label}\n          </Link>\n        </DropdownMenu.Item>\n      );\n    }\n    if (url) {\n      return (\n        <DropdownMenu.Item key={label}>\n          <a href={url}>{label}</a>\n        </DropdownMenu.Item>\n      );\n    }\n    return (\n      <SubMenu key={index} title={label} icon={<Icon name=\"triangle-down\" />}>\n        {childs?.map((child: MenuObjectChildProps | string, index1: number) => {\n          if (typeof child === 'string' && child === '-') {\n            return <DropdownMenu.Divider key={`$${index1}`} />;\n          }\n          if (typeof child !== 'string') {\n            return (\n              <DropdownMenu.Item key={`${child.label}`}>\n                {child.isFrontendRoute ? (\n                  <Link to={child.url || ''}>{child.label}</Link>\n                ) : (\n                  <a href={child.url}>{child.label}</a>\n                )}\n              </DropdownMenu.Item>\n            );\n          }\n          return null;\n        })}\n      </SubMenu>\n    );\n  };\n  return (\n    <StyledHeader className=\"top\" id=\"main-menu\" role=\"navigation\">\n      <Global\n        styles={css`\n          .ant-menu-submenu.ant-menu-submenu-popup.ant-menu.ant-menu-light.ant-menu-submenu-placement-bottomLeft {\n            border-radius: 0px;\n          }\n          .ant-menu-submenu.ant-menu-submenu-popup.ant-menu.ant-menu-light {\n            border-radius: 0px;\n          }\n        `}\n      />\n      <Row>\n        <Col md={16} xs={24}>\n          <a className=\"navbar-brand\" href={brand.path}>\n            <img width={brand.width} src={brand.icon} alt={brand.alt} />\n          </a>\n          <DropdownMenu\n            mode={showMenu}\n            data-test=\"navbar-top\"\n            className=\"main-nav\"\n          >\n            {menu.map(item => {\n              const props = {\n                ...item,\n                isFrontendRoute: isFrontendRoute(item.url),\n                childs: item.childs?.map(c => {\n                  if (typeof c === 'string') {\n                    return c;\n                  }\n\n                  return {\n                    ...c,\n                    isFrontendRoute: isFrontendRoute(c.url),\n                  };\n                }),\n              };\n\n              return renderSubMenu(props);\n            })}\n          </DropdownMenu>\n        </Col>\n        <Col md={8} xs={24}>\n          <RightMenu\n            align={screens.md ? 'flex-end' : 'flex-start'}\n            settings={settings}\n            navbarRight={navbarRight}\n            isFrontendRoute={isFrontendRoute}\n          />\n        </Col>\n      </Row>\n    </StyledHeader>\n  );\n}\n\n// transform the menu data to reorganize components\nexport default function MenuWrapper({ data, ...rest }: MenuProps) {\n  const newMenuData = {\n    ...data,\n  };\n  // Menu items that should go into settings dropdown\n  const settingsMenus = {\n    Security: true,\n    Manage: true,\n  };\n\n  // Cycle through menu.menu to build out cleanedMenu and settings\n  const cleanedMenu: MenuObjectProps[] = [];\n  const settings: MenuObjectProps[] = [];\n  newMenuData.menu.forEach((item: any) => {\n    if (!item) {\n      return;\n    }\n\n    const children: (MenuObjectProps | string)[] = [];\n    const newItem = {\n      ...item,\n    };\n\n    // Filter childs\n    if (item.childs) {\n      item.childs.forEach((child: MenuObjectChildProps | string) => {\n        if (typeof child === 'string') {\n          children.push(child);\n        } else if ((child as MenuObjectChildProps).label) {\n          children.push(child);\n        }\n      });\n\n      newItem.childs = children;\n    }\n\n    if (!settingsMenus.hasOwnProperty(item.name)) {\n      cleanedMenu.push(newItem);\n    } else {\n      settings.push(newItem);\n    }\n  });\n\n  newMenuData.menu = cleanedMenu;\n  newMenuData.settings = settings;\n\n  return <Menu data={newMenuData} {...rest} />;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}