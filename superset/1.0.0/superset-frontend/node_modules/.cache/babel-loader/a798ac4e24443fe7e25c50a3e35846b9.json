{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator.js\";import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { SupersetClient, t } from '@superset-ui/core';\nimport { useListViewResource, useFavoriteStatus } from 'src/views/CRUD/hooks';\nimport { TableTabTypes } from 'src/views/CRUD/types';\nimport handleResourceExport from 'src/utils/export';\nimport { useHistory } from 'react-router-dom';\nimport { setInLocalStorage, getFromLocalStorage } from 'src/utils/localStorageHelpers';\nimport { createErrorHandler, CardContainer } from 'src/views/CRUD/utils';\nimport { HOMEPAGE_DASHBOARD_FILTER } from 'src/views/CRUD/storageKeys';\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\nimport Loading from 'src/components/Loading';\nimport PropertiesModal from 'src/dashboard/components/PropertiesModal';\nimport DashboardCard from 'src/views/CRUD/dashboard/DashboardCard';\nimport SubMenu from 'src/components/Menu/SubMenu';\nimport EmptyState from './EmptyState';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst PAGE_SIZE = 3;\nfunction DashboardTable({ user, addDangerToast, addSuccessToast, mine, showThumbnails }) {\n  const history = useHistory();\n  const filterStore = getFromLocalStorage(HOMEPAGE_DASHBOARD_FILTER, null);\n  const defaultFilter = filterStore || TableTabTypes.MINE;\n  const { state: { loading, resourceCollection: dashboards }, setResourceCollection: setDashboards, hasPerm, refreshData, fetchData } = useListViewResource('dashboard', t('dashboard'), addDangerToast, true, defaultFilter === 'Favorite' ? [] : mine, [], false);\n  const dashboardIds = useMemo(() => _mapInstanceProperty(dashboards).call(dashboards, c => c.id), [dashboards]);\n  const [saveFavoriteStatus, favoriteStatus] = useFavoriteStatus('dashboard', dashboardIds, addDangerToast);\n  const [editModal, setEditModal] = useState();\n  const [dashboardFilter, setDashboardFilter] = useState(defaultFilter);\n  const [preparingExport, setPreparingExport] = useState(false);\n  useEffect(() => {\n    getData(dashboardFilter);\n  }, [dashboardFilter]);\n  const handleBulkDashboardExport = dashboardsToExport => {\n    const ids = _mapInstanceProperty(dashboardsToExport).call(dashboardsToExport, ({ id }) => id);\n    handleResourceExport('dashboard', ids, () => {\n      setPreparingExport(false);\n    });\n    setPreparingExport(true);\n  };\n  const handleDashboardEdit = edits => SupersetClient.get({\n    endpoint: `/api/v1/dashboard/${edits.id}` }).\n  then(({ json = {} }) => {\n    setDashboards(_mapInstanceProperty(dashboards).call(dashboards, dashboard => {\n      if (dashboard.id === json.id) {\n        return json.result;\n      }\n      return dashboard;\n    }));\n  }, createErrorHandler(errMsg => addDangerToast(t('An error occurred while fetching dashboards: %s', errMsg))));\n  const getFilters = filterName => {\n    const filters = [];\n    if (filterName === 'Mine') {\n      filters.push({\n        id: 'owners',\n        operator: 'rel_m_m',\n        value: `${user == null ? void 0 : user.userId}` });\n\n    } else\n    {\n      filters.push({\n        id: 'id',\n        operator: 'dashboard_is_favorite',\n        value: true });\n\n    }\n    return filters;\n  };\n  const getData = filter => fetchData({\n    pageIndex: 0,\n    pageSize: PAGE_SIZE,\n    sortBy: [\n    {\n      id: 'changed_on_delta_humanized',\n      desc: true }],\n\n\n    filters: getFilters(filter) });\n\n  if (loading)\n  return ___EmotionJSX(Loading, { position: \"inline\" });\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(SubMenu, { activeChild: dashboardFilter, tabs: [\n    {\n      name: 'Favorite',\n      label: t('Favorite'),\n      onClick: () => {\n        setDashboardFilter(TableTabTypes.FAVORITE);\n        setInLocalStorage(HOMEPAGE_DASHBOARD_FILTER, TableTabTypes.FAVORITE);\n      } },\n\n    {\n      name: 'Mine',\n      label: t('Mine'),\n      onClick: () => {\n        setDashboardFilter(TableTabTypes.MINE);\n        setInLocalStorage(HOMEPAGE_DASHBOARD_FILTER, TableTabTypes.MINE);\n      } }],\n\n    buttons: [\n    {\n      name: ___EmotionJSX(React.Fragment, null,\n      ___EmotionJSX(\"i\", { className: \"fa fa-plus\" }), \"Dashboard\"),\n\n\n      buttonStyle: 'tertiary',\n      onClick: () => {\n        window.location.assign('/dashboard/new');\n      } },\n\n    {\n      name: 'View All Â»',\n      buttonStyle: 'link',\n      onClick: () => {\n        const target = dashboardFilter === 'Favorite' ?\n        '/dashboard/list/?filters=(favorite:!t)' :\n        '/dashboard/list/';\n        history.push(target);\n      } }] }),\n\n\n  editModal && ___EmotionJSX(PropertiesModal, { dashboardId: editModal == null ? void 0 : editModal.id, show: true, onHide: () => setEditModal(undefined), onSubmit: handleDashboardEdit }),\n  dashboards.length > 0 && ___EmotionJSX(CardContainer, null,\n  _mapInstanceProperty(dashboards).call(dashboards, e => ___EmotionJSX(DashboardCard, { key: e.id, dashboard: e, hasPerm: hasPerm, bulkSelectEnabled: false, showThumbnails: showThumbnails, dashboardFilter: dashboardFilter, refreshData: refreshData, addDangerToast: addDangerToast, addSuccessToast: addSuccessToast, userId: user == null ? void 0 : user.userId, loading: loading, openDashboardEditModal: dashboard => setEditModal(dashboard), saveFavoriteStatus: saveFavoriteStatus, favoriteStatus: favoriteStatus[e.id], handleBulkDashboardExport: handleBulkDashboardExport }))),\n\n  dashboards.length === 0 && ___EmotionJSX(EmptyState, { tableName: \"DASHBOARDS\", tab: dashboardFilter }),\n  preparingExport && ___EmotionJSX(Loading, null));\n\n}__signature__(DashboardTable, \"useHistory{history}\\nuseListViewResource{{ state: { loading, resourceCollection: dashboards }, setResourceCollection: setDashboards, hasPerm, refreshData, fetchData, }}\\nuseMemo{dashboardIds}\\nuseFavoriteStatus{[saveFavoriteStatus, favoriteStatus]}\\nuseState{[editModal, setEditModal]}\\nuseState{[dashboardFilter, setDashboardFilter](defaultFilter)}\\nuseState{[preparingExport, setPreparingExport](false)}\\nuseEffect{}\", () => [useHistory, useListViewResource, useFavoriteStatus]);const _default =\nwithToasts(DashboardTable);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(PAGE_SIZE, \"PAGE_SIZE\", \"/app/superset-frontend/src/views/CRUD/welcome/DashboardTable.tsx\");reactHotLoader.register(DashboardTable, \"DashboardTable\", \"/app/superset-frontend/src/views/CRUD/welcome/DashboardTable.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/views/CRUD/welcome/DashboardTable.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/views/CRUD/welcome/DashboardTable.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useMemo, useEffect } from 'react';\nimport { SupersetClient, t } from '@superset-ui/core';\nimport { useListViewResource, useFavoriteStatus } from 'src/views/CRUD/hooks';\nimport {\n  Dashboard,\n  DashboardTableProps,\n  TableTabTypes,\n} from 'src/views/CRUD/types';\nimport handleResourceExport from 'src/utils/export';\nimport { useHistory } from 'react-router-dom';\nimport {\n  setInLocalStorage,\n  getFromLocalStorage,\n} from 'src/utils/localStorageHelpers';\nimport { createErrorHandler, CardContainer } from 'src/views/CRUD/utils';\nimport { HOMEPAGE_DASHBOARD_FILTER } from 'src/views/CRUD/storageKeys';\n\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\nimport Loading from 'src/components/Loading';\nimport PropertiesModal from 'src/dashboard/components/PropertiesModal';\nimport DashboardCard from 'src/views/CRUD/dashboard/DashboardCard';\nimport SubMenu from 'src/components/Menu/SubMenu';\nimport EmptyState from './EmptyState';\n\nconst PAGE_SIZE = 3;\n\nexport interface FilterValue {\n  col: string;\n  operator: string;\n  value: string | boolean | number | null | undefined;\n}\n\nfunction DashboardTable({\n  user,\n  addDangerToast,\n  addSuccessToast,\n  mine,\n  showThumbnails,\n}: DashboardTableProps) {\n  const history = useHistory();\n  const filterStore = getFromLocalStorage(HOMEPAGE_DASHBOARD_FILTER, null);\n  const defaultFilter = filterStore || TableTabTypes.MINE;\n\n  const {\n    state: { loading, resourceCollection: dashboards },\n    setResourceCollection: setDashboards,\n    hasPerm,\n    refreshData,\n    fetchData,\n  } = useListViewResource<Dashboard>(\n    'dashboard',\n    t('dashboard'),\n    addDangerToast,\n    true,\n    defaultFilter === 'Favorite' ? [] : mine,\n    [],\n    false,\n  );\n  const dashboardIds = useMemo(() => dashboards.map(c => c.id), [dashboards]);\n  const [saveFavoriteStatus, favoriteStatus] = useFavoriteStatus(\n    'dashboard',\n    dashboardIds,\n    addDangerToast,\n  );\n\n  const [editModal, setEditModal] = useState<Dashboard>();\n  const [dashboardFilter, setDashboardFilter] = useState(defaultFilter);\n  const [preparingExport, setPreparingExport] = useState<boolean>(false);\n\n  useEffect(() => {\n    getData(dashboardFilter);\n  }, [dashboardFilter]);\n\n  const handleBulkDashboardExport = (dashboardsToExport: Dashboard[]) => {\n    const ids = dashboardsToExport.map(({ id }) => id);\n    handleResourceExport('dashboard', ids, () => {\n      setPreparingExport(false);\n    });\n    setPreparingExport(true);\n  };\n\n  const handleDashboardEdit = (edits: Dashboard) =>\n    SupersetClient.get({\n      endpoint: `/api/v1/dashboard/${edits.id}`,\n    }).then(\n      ({ json = {} }) => {\n        setDashboards(\n          dashboards.map(dashboard => {\n            if (dashboard.id === json.id) {\n              return json.result;\n            }\n            return dashboard;\n          }),\n        );\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(\n          t('An error occurred while fetching dashboards: %s', errMsg),\n        ),\n      ),\n    );\n\n  const getFilters = (filterName: string) => {\n    const filters = [];\n    if (filterName === 'Mine') {\n      filters.push({\n        id: 'owners',\n        operator: 'rel_m_m',\n        value: `${user?.userId}`,\n      });\n    } else {\n      filters.push({\n        id: 'id',\n        operator: 'dashboard_is_favorite',\n        value: true,\n      });\n    }\n    return filters;\n  };\n\n  const getData = (filter: string) =>\n    fetchData({\n      pageIndex: 0,\n      pageSize: PAGE_SIZE,\n      sortBy: [\n        {\n          id: 'changed_on_delta_humanized',\n          desc: true,\n        },\n      ],\n      filters: getFilters(filter),\n    });\n\n  if (loading) return <Loading position=\"inline\" />;\n  return (\n    <>\n      <SubMenu\n        activeChild={dashboardFilter}\n        tabs={[\n          {\n            name: 'Favorite',\n            label: t('Favorite'),\n            onClick: () => {\n              setDashboardFilter(TableTabTypes.FAVORITE);\n              setInLocalStorage(\n                HOMEPAGE_DASHBOARD_FILTER,\n                TableTabTypes.FAVORITE,\n              );\n            },\n          },\n          {\n            name: 'Mine',\n            label: t('Mine'),\n            onClick: () => {\n              setDashboardFilter(TableTabTypes.MINE);\n              setInLocalStorage(HOMEPAGE_DASHBOARD_FILTER, TableTabTypes.MINE);\n            },\n          },\n        ]}\n        buttons={[\n          {\n            name: (\n              <>\n                <i className=\"fa fa-plus\" />\n                Dashboard\n              </>\n            ),\n            buttonStyle: 'tertiary',\n            onClick: () => {\n              window.location.assign('/dashboard/new');\n            },\n          },\n          {\n            name: 'View All Â»',\n            buttonStyle: 'link',\n            onClick: () => {\n              const target =\n                dashboardFilter === 'Favorite'\n                  ? '/dashboard/list/?filters=(favorite:!t)'\n                  : '/dashboard/list/';\n              history.push(target);\n            },\n          },\n        ]}\n      />\n      {editModal && (\n        <PropertiesModal\n          dashboardId={editModal?.id}\n          show\n          onHide={() => setEditModal(undefined)}\n          onSubmit={handleDashboardEdit}\n        />\n      )}\n      {dashboards.length > 0 && (\n        <CardContainer>\n          {dashboards.map(e => (\n            <DashboardCard\n              key={e.id}\n              dashboard={e}\n              hasPerm={hasPerm}\n              bulkSelectEnabled={false}\n              showThumbnails={showThumbnails}\n              dashboardFilter={dashboardFilter}\n              refreshData={refreshData}\n              addDangerToast={addDangerToast}\n              addSuccessToast={addSuccessToast}\n              userId={user?.userId}\n              loading={loading}\n              openDashboardEditModal={(dashboard: Dashboard) =>\n                setEditModal(dashboard)\n              }\n              saveFavoriteStatus={saveFavoriteStatus}\n              favoriteStatus={favoriteStatus[e.id]}\n              handleBulkDashboardExport={handleBulkDashboardExport}\n            />\n          ))}\n        </CardContainer>\n      )}\n      {dashboards.length === 0 && (\n        <EmptyState tableName=\"DASHBOARDS\" tab={dashboardFilter} />\n      )}\n      {preparingExport && <Loading />}\n    </>\n  );\n}\n\nexport default withToasts(DashboardTable);\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}