{"ast":null,"code":"import _forEachInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/for-each\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useSelector } from 'react-redux';\nimport { mergeExtraFormData } from '../../utils';\n// eslint-disable-next-line import/prefer-default-export\nexport function useCascadingFilters(id, dataMaskSelected) {var _filter$cascadeParent;\n  const { filters } = useSelector(state => state.nativeFilters);\n  const filter = filters[id];\n  const cascadeParentIds = (_filter$cascadeParent = filter == null ? void 0 : filter.cascadeParentIds) != null ? _filter$cascadeParent : [];\n  let cascadedFilters = {};\n  _forEachInstanceProperty(cascadeParentIds).call(cascadeParentIds, parentId => {\n    const parentState = dataMaskSelected == null ? void 0 : dataMaskSelected[parentId];\n    cascadedFilters = mergeExtraFormData(cascadedFilters, parentState == null ? void 0 : parentState.extraFormData);\n  });\n  return cascadedFilters;\n}__signature__(useCascadingFilters, \"useSelector{{ filters }}\", () => [useSelector]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(useCascadingFilters, \"useCascadingFilters\", \"/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/state.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/state.ts"],"names":[],"mappings":"uYAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,SAAS,WAAT,QAA4B,aAA5B;AAIA,SAAS,kBAAT,QAAmC,aAAnC;AAEA;AACA,OAAM,SAAU,mBAAV,CACJ,EADI,EAEJ,gBAFI,EAEkC;AAEtC,QAAM,EAAE,OAAF,KAAc,WAAW,CAC7B,KAAK,IAAI,KAAK,CAAC,aADc,CAA/B;AAGA,QAAM,MAAM,GAAG,OAAO,CAAC,EAAD,CAAtB;AACA,QAAM,gBAAgB,4BAAa,MAAb,oBAAa,MAAM,CAAE,gBAArB,oCAAyC,EAA/D;AACA,MAAI,eAAe,GAAG,EAAtB;AACA,2BAAA,gBAAgB,MAAhB,CAAA,gBAAgB,EAAS,QAAQ,IAAG;AAClC,UAAM,WAAW,GAAG,gBAAH,oBAAG,gBAAgB,CAAG,QAAH,CAApC;AACA,IAAA,eAAe,GAAG,kBAAkB,CAClC,eADkC,EAElC,WAFkC,oBAElC,WAAW,CAAE,aAFqB,CAApC;AAID,GANe,CAAhB;AAOA,SAAO,eAAP;AACD,C,cAlBe,mB,qCAIM,W,oLAJN,mB","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useSelector } from 'react-redux';\nimport { NativeFiltersState } from 'src/dashboard/reducers/types';\nimport { DataMaskStateWithId } from 'src/dataMask/types';\nimport { ExtraFormData } from '@superset-ui/core';\nimport { mergeExtraFormData } from '../../utils';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function useCascadingFilters(\n  id: string,\n  dataMaskSelected?: DataMaskStateWithId,\n): ExtraFormData {\n  const { filters } = useSelector<any, NativeFiltersState>(\n    state => state.nativeFilters,\n  );\n  const filter = filters[id];\n  const cascadeParentIds: string[] = filter?.cascadeParentIds ?? [];\n  let cascadedFilters = {};\n  cascadeParentIds.forEach(parentId => {\n    const parentState = dataMaskSelected?.[parentId];\n    cascadedFilters = mergeExtraFormData(\n      cascadedFilters,\n      parentState?.extraFormData,\n    );\n  });\n  return cascadedFilters;\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}