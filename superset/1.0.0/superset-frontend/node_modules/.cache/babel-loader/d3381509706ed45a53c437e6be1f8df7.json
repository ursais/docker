{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs3/core-js-stable/parse-int\";import _filterInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/filter\";import _includesInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/includes\";import _reverseInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/reverse\";import _mapInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/map\";import _sliceInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/slice\";import _concatInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/concat\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Card from 'src/components/Card';\nimport ProgressBar from 'src/components/ProgressBar';\nimport Label from 'src/components/Label';\nimport { t, styled } from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\nimport TableView from 'src/components/TableView';\nimport Button from 'src/components/Button';\nimport { fDuration } from 'src/modules/dates';\nimport Icons from 'src/components/Icons';\nimport Icon from 'src/components/Icon';\nimport { Tooltip } from 'src/components/Tooltip';\nimport ResultSet from '../ResultSet';\nimport ModalTrigger from '../../../components/ModalTrigger';\nimport HighlightedSql from '../HighlightedSql';\nimport { StaticPosition, verticalAlign, StyledTooltip } from './styles';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  columns: PropTypes.array,\n  actions: PropTypes.object,\n  queries: PropTypes.array,\n  onUserClicked: PropTypes.func,\n  onDbClicked: PropTypes.func,\n  displayLimit: PropTypes.number.isRequired };\n\nconst defaultProps = {\n  columns: ['started', 'duration', 'rows'],\n  queries: [],\n  onUserClicked: () => {},\n  onDbClicked: () => {} };\n\n\nconst openQuery = id => {\n  const url = `/superset/sqllab?queryId=${id}`;\n  window.open(url);\n};\n\nconst statusAttributes = {\n  success: {\n    color: ({ theme }) => theme.colors.success.base,\n    config: {\n      name: 'check',\n      label: t('Success'),\n      status: 'success' } },\n\n\n  failed: {\n    color: ({ theme }) => theme.colors.error.base,\n    config: {\n      name: 'x-small',\n      label: t('Failed'),\n      status: 'failed' } },\n\n\n  stopped: {\n    color: ({ theme }) => theme.colors.error.base,\n    config: {\n      name: 'x-small',\n      label: t('Failed'),\n      status: 'failed' } },\n\n\n  running: {\n    color: ({ theme }) => theme.colors.primary.base,\n    config: {\n      name: 'running',\n      label: t('Running'),\n      status: 'running' } },\n\n\n  fetching: {\n    color: ({ theme }) => theme.colors.primary.base,\n    config: {\n      name: 'queued',\n      label: t('fetching'),\n      status: 'fetching' } },\n\n\n  timed_out: {\n    color: ({ theme }) => theme.colors.grayscale.light1,\n    config: {\n      name: 'offline',\n      label: t('Offline'),\n      status: 'offline' } },\n\n\n  scheduled: {\n    color: ({ theme }) => theme.colors.greyscale.base,\n    config: {\n      name: 'queued',\n      label: t('Scheduled'),\n      status: 'queued' } },\n\n\n  pending: {\n    color: ({ theme }) => theme.colors.greyscale.base,\n    config: {\n      name: 'queued',\n      label: t('Scheduled'),\n      status: 'queued' } },\n\n\n  error: {\n    color: ({ theme }) => theme.colors.error.base,\n    config: {\n      name: 'error',\n      label: t('Unknown Status'),\n      status: 'unknown status!' } } };\n\n\n\n\nconst StatusIcon = styled(Icon, {\n  shouldForwardProp: prop => prop !== 'status' })\n`\n  color: ${({ status, theme }) => {var _statusAttributes$sta;return (\n    ((_statusAttributes$sta = statusAttributes[status]) == null ? void 0 : _statusAttributes$sta.color) || theme.colors.grayscale.base);}};\n`;\n\nconst QueryTable = props => {\n  const setHeaders = column => {var _context;\n    if (column === 'sql') {\n      return column.toUpperCase();\n    }\n    return _concatInstanceProperty(_context = column.charAt(0).toUpperCase()).call(_context, _sliceInstanceProperty(column).call(column, 1));\n  };\n  const columns = useMemo(\n  () => {var _context2;return (\n      _mapInstanceProperty(_context2 = props.columns).call(_context2, column => ({\n        accessor: column,\n        Header: () => setHeaders(column),\n        disableSortBy: true })));},\n\n  [props.columns]);\n\n\n  const user = useSelector(({ sqlLab: { user } }) => user);\n\n  const data = useMemo(() => {var _context3, _context4;\n    const restoreSql = query => {\n      props.actions.queryEditorSetSql({ id: query.sqlEditorId }, query.sql);\n    };\n\n    const openQueryInNewTab = query => {\n      props.actions.cloneQueryToNewTab(query, true);\n    };\n\n    const openAsyncResults = (query, displayLimit) => {\n      props.actions.fetchQueryResults(query, displayLimit);\n    };\n\n    const clearQueryResults = query => {\n      props.actions.clearQueryResults(query);\n    };\n\n    const removeQuery = query => {\n      props.actions.removeQuery(query);\n    };\n\n    return _reverseInstanceProperty(_context3 = _mapInstanceProperty(_context4 = props.queries).call(_context4,\n    query => {\n      const q = { ...query };\n      const status = statusAttributes[q.state] || statusAttributes.error;\n\n      if (q.endDttm) {\n        q.duration = fDuration(q.startDttm, q.endDttm);\n      }\n      const time = moment(q.startDttm).format().split('T');\n      q.time =\n      ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(\"span\", null,\n      time[0], \" \", ___EmotionJSX(\"br\", null), \" \", time[1]));\n\n\n\n      q.user =\n      ___EmotionJSX(Button, {\n        buttonSize: \"small\",\n        buttonStyle: \"link\",\n        onClick: () => props.onUserClicked(q.userId) },\n\n      q.user);\n\n\n      q.db =\n      ___EmotionJSX(Button, {\n        buttonSize: \"small\",\n        buttonStyle: \"link\",\n        onClick: () => props.onDbClicked(q.dbId) },\n\n      q.db);\n\n\n      q.started = moment(q.startDttm).format('HH:mm:ss');\n      q.querylink =\n      ___EmotionJSX(Button, {\n        buttonSize: \"small\",\n        buttonStyle: \"link\",\n        onClick: () => openQuery(q.queryId) },\n\n      ___EmotionJSX(\"i\", { className: \"fa fa-external-link m-r-3\" }),\n      t('Edit'));\n\n\n      q.sql =\n      ___EmotionJSX(Card, { css: [StaticPosition, process.env.NODE_ENV === \"production\" ? \"\" : \";label:q-sql;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL1NxbExhYi9jb21wb25lbnRzL1F1ZXJ5VGFibGUvaW5kZXguanN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQWlPZ0IiLCJmaWxlIjoiL2FwcC9zdXBlcnNldC1mcm9udGVuZC9zcmMvU3FsTGFiL2NvbXBvbmVudHMvUXVlcnlUYWJsZS9pbmRleC5qc3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgQ2FyZCBmcm9tICdzcmMvY29tcG9uZW50cy9DYXJkJztcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICdzcmMvY29tcG9uZW50cy9Qcm9ncmVzc0Jhcic7XG5pbXBvcnQgTGFiZWwgZnJvbSAnc3JjL2NvbXBvbmVudHMvTGFiZWwnO1xuaW1wb3J0IHsgdCwgc3R5bGVkIH0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuaW1wb3J0IHsgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgVGFibGVWaWV3IGZyb20gJ3NyYy9jb21wb25lbnRzL1RhYmxlVmlldyc7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ3NyYy9jb21wb25lbnRzL0J1dHRvbic7XG5pbXBvcnQgeyBmRHVyYXRpb24gfSBmcm9tICdzcmMvbW9kdWxlcy9kYXRlcyc7XG5pbXBvcnQgSWNvbnMgZnJvbSAnc3JjL2NvbXBvbmVudHMvSWNvbnMnO1xuaW1wb3J0IEljb24gZnJvbSAnc3JjL2NvbXBvbmVudHMvSWNvbic7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvVG9vbHRpcCc7XG5pbXBvcnQgUmVzdWx0U2V0IGZyb20gJy4uL1Jlc3VsdFNldCc7XG5pbXBvcnQgTW9kYWxUcmlnZ2VyIGZyb20gJy4uLy4uLy4uL2NvbXBvbmVudHMvTW9kYWxUcmlnZ2VyJztcbmltcG9ydCBIaWdobGlnaHRlZFNxbCBmcm9tICcuLi9IaWdobGlnaHRlZFNxbCc7XG5pbXBvcnQgeyBTdGF0aWNQb3NpdGlvbiwgdmVydGljYWxBbGlnbiwgU3R5bGVkVG9vbHRpcCB9IGZyb20gJy4vc3R5bGVzJztcblxuY29uc3QgcHJvcFR5cGVzID0ge1xuICBjb2x1bW5zOiBQcm9wVHlwZXMuYXJyYXksXG4gIGFjdGlvbnM6IFByb3BUeXBlcy5vYmplY3QsXG4gIHF1ZXJpZXM6IFByb3BUeXBlcy5hcnJheSxcbiAgb25Vc2VyQ2xpY2tlZDogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uRGJDbGlja2VkOiBQcm9wVHlwZXMuZnVuYyxcbiAgZGlzcGxheUxpbWl0OiBQcm9wVHlwZXMubnVtYmVyLmlzUmVxdWlyZWQsXG59O1xuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBjb2x1bW5zOiBbJ3N0YXJ0ZWQnLCAnZHVyYXRpb24nLCAncm93cyddLFxuICBxdWVyaWVzOiBbXSxcbiAgb25Vc2VyQ2xpY2tlZDogKCkgPT4ge30sXG4gIG9uRGJDbGlja2VkOiAoKSA9PiB7fSxcbn07XG5cbmNvbnN0IG9wZW5RdWVyeSA9IGlkID0+IHtcbiAgY29uc3QgdXJsID0gYC9zdXBlcnNldC9zcWxsYWI/cXVlcnlJZD0ke2lkfWA7XG4gIHdpbmRvdy5vcGVuKHVybCk7XG59O1xuXG5jb25zdCBzdGF0dXNBdHRyaWJ1dGVzID0ge1xuICBzdWNjZXNzOiB7XG4gICAgY29sb3I6ICh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5zdWNjZXNzLmJhc2UsXG4gICAgY29uZmlnOiB7XG4gICAgICBuYW1lOiAnY2hlY2snLFxuICAgICAgbGFiZWw6IHQoJ1N1Y2Nlc3MnKSxcbiAgICAgIHN0YXR1czogJ3N1Y2Nlc3MnLFxuICAgIH0sXG4gIH0sXG4gIGZhaWxlZDoge1xuICAgIGNvbG9yOiAoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZSxcbiAgICBjb25maWc6IHtcbiAgICAgIG5hbWU6ICd4LXNtYWxsJyxcbiAgICAgIGxhYmVsOiB0KCdGYWlsZWQnKSxcbiAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgfSxcbiAgfSxcbiAgc3RvcHBlZDoge1xuICAgIGNvbG9yOiAoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZSxcbiAgICBjb25maWc6IHtcbiAgICAgIG5hbWU6ICd4LXNtYWxsJyxcbiAgICAgIGxhYmVsOiB0KCdGYWlsZWQnKSxcbiAgICAgIHN0YXR1czogJ2ZhaWxlZCcsXG4gICAgfSxcbiAgfSxcbiAgcnVubmluZzoge1xuICAgIGNvbG9yOiAoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMucHJpbWFyeS5iYXNlLFxuICAgIGNvbmZpZzoge1xuICAgICAgbmFtZTogJ3J1bm5pbmcnLFxuICAgICAgbGFiZWw6IHQoJ1J1bm5pbmcnKSxcbiAgICAgIHN0YXR1czogJ3J1bm5pbmcnLFxuICAgIH0sXG4gIH0sXG4gIGZldGNoaW5nOiB7XG4gICAgY29sb3I6ICh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5wcmltYXJ5LmJhc2UsXG4gICAgY29uZmlnOiB7XG4gICAgICBuYW1lOiAncXVldWVkJyxcbiAgICAgIGxhYmVsOiB0KCdmZXRjaGluZycpLFxuICAgICAgc3RhdHVzOiAnZmV0Y2hpbmcnLFxuICAgIH0sXG4gIH0sXG4gIHRpbWVkX291dDoge1xuICAgIGNvbG9yOiAoeyB0aGVtZSB9KSA9PiB0aGVtZS5jb2xvcnMuZ3JheXNjYWxlLmxpZ2h0MSxcbiAgICBjb25maWc6IHtcbiAgICAgIG5hbWU6ICdvZmZsaW5lJyxcbiAgICAgIGxhYmVsOiB0KCdPZmZsaW5lJyksXG4gICAgICBzdGF0dXM6ICdvZmZsaW5lJyxcbiAgICB9LFxuICB9LFxuICBzY2hlZHVsZWQ6IHtcbiAgICBjb2xvcjogKHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLmdyZXlzY2FsZS5iYXNlLFxuICAgIGNvbmZpZzoge1xuICAgICAgbmFtZTogJ3F1ZXVlZCcsXG4gICAgICBsYWJlbDogdCgnU2NoZWR1bGVkJyksXG4gICAgICBzdGF0dXM6ICdxdWV1ZWQnLFxuICAgIH0sXG4gIH0sXG4gIHBlbmRpbmc6IHtcbiAgICBjb2xvcjogKHsgdGhlbWUgfSkgPT4gdGhlbWUuY29sb3JzLmdyZXlzY2FsZS5iYXNlLFxuICAgIGNvbmZpZzoge1xuICAgICAgbmFtZTogJ3F1ZXVlZCcsXG4gICAgICBsYWJlbDogdCgnU2NoZWR1bGVkJyksXG4gICAgICBzdGF0dXM6ICdxdWV1ZWQnLFxuICAgIH0sXG4gIH0sXG4gIGVycm9yOiB7XG4gICAgY29sb3I6ICh7IHRoZW1lIH0pID0+IHRoZW1lLmNvbG9ycy5lcnJvci5iYXNlLFxuICAgIGNvbmZpZzoge1xuICAgICAgbmFtZTogJ2Vycm9yJyxcbiAgICAgIGxhYmVsOiB0KCdVbmtub3duIFN0YXR1cycpLFxuICAgICAgc3RhdHVzOiAndW5rbm93biBzdGF0dXMhJyxcbiAgICB9LFxuICB9LFxufTtcblxuY29uc3QgU3RhdHVzSWNvbiA9IHN0eWxlZChJY29uLCB7XG4gIHNob3VsZEZvcndhcmRQcm9wOiBwcm9wID0+IHByb3AgIT09ICdzdGF0dXMnLFxufSlgXG4gIGNvbG9yOiAkeyh7IHN0YXR1cywgdGhlbWUgfSkgPT5cbiAgICBzdGF0dXNBdHRyaWJ1dGVzW3N0YXR1c10/LmNvbG9yIHx8IHRoZW1lLmNvbG9ycy5ncmF5c2NhbGUuYmFzZX07XG5gO1xuXG5jb25zdCBRdWVyeVRhYmxlID0gcHJvcHMgPT4ge1xuICBjb25zdCBzZXRIZWFkZXJzID0gY29sdW1uID0+IHtcbiAgICBpZiAoY29sdW1uID09PSAnc3FsJykge1xuICAgICAgcmV0dXJuIGNvbHVtbi50b1VwcGVyQ2FzZSgpO1xuICAgIH1cbiAgICByZXR1cm4gY29sdW1uLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpLmNvbmNhdChjb2x1bW4uc2xpY2UoMSkpO1xuICB9O1xuICBjb25zdCBjb2x1bW5zID0gdXNlTWVtbyhcbiAgICAoKSA9PlxuICAgICAgcHJvcHMuY29sdW1ucy5tYXAoY29sdW1uID0+ICh7XG4gICAgICAgIGFjY2Vzc29yOiBjb2x1bW4sXG4gICAgICAgIEhlYWRlcjogKCkgPT4gc2V0SGVhZGVycyhjb2x1bW4pLFxuICAgICAgICBkaXNhYmxlU29ydEJ5OiB0cnVlLFxuICAgICAgfSkpLFxuICAgIFtwcm9wcy5jb2x1bW5zXSxcbiAgKTtcblxuICBjb25zdCB1c2VyID0gdXNlU2VsZWN0b3IoKHsgc3FsTGFiOiB7IHVzZXIgfSB9KSA9PiB1c2VyKTtcblxuICBjb25zdCBkYXRhID0gdXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgcmVzdG9yZVNxbCA9IHF1ZXJ5ID0+IHtcbiAgICAgIHByb3BzLmFjdGlvbnMucXVlcnlFZGl0b3JTZXRTcWwoeyBpZDogcXVlcnkuc3FsRWRpdG9ySWQgfSwgcXVlcnkuc3FsKTtcbiAgICB9O1xuXG4gICAgY29uc3Qgb3BlblF1ZXJ5SW5OZXdUYWIgPSBxdWVyeSA9PiB7XG4gICAgICBwcm9wcy5hY3Rpb25zLmNsb25lUXVlcnlUb05ld1RhYihxdWVyeSwgdHJ1ZSk7XG4gICAgfTtcblxuICAgIGNvbnN0IG9wZW5Bc3luY1Jlc3VsdHMgPSAocXVlcnksIGRpc3BsYXlMaW1pdCkgPT4ge1xuICAgICAgcHJvcHMuYWN0aW9ucy5mZXRjaFF1ZXJ5UmVzdWx0cyhxdWVyeSwgZGlzcGxheUxpbWl0KTtcbiAgICB9O1xuXG4gICAgY29uc3QgY2xlYXJRdWVyeVJlc3VsdHMgPSBxdWVyeSA9PiB7XG4gICAgICBwcm9wcy5hY3Rpb25zLmNsZWFyUXVlcnlSZXN1bHRzKHF1ZXJ5KTtcbiAgICB9O1xuXG4gICAgY29uc3QgcmVtb3ZlUXVlcnkgPSBxdWVyeSA9PiB7XG4gICAgICBwcm9wcy5hY3Rpb25zLnJlbW92ZVF1ZXJ5KHF1ZXJ5KTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIHByb3BzLnF1ZXJpZXNcbiAgICAgIC5tYXAocXVlcnkgPT4ge1xuICAgICAgICBjb25zdCBxID0geyAuLi5xdWVyeSB9O1xuICAgICAgICBjb25zdCBzdGF0dXMgPSBzdGF0dXNBdHRyaWJ1dGVzW3Euc3RhdGVdIHx8IHN0YXR1c0F0dHJpYnV0ZXMuZXJyb3I7XG5cbiAgICAgICAgaWYgKHEuZW5kRHR0bSkge1xuICAgICAgICAgIHEuZHVyYXRpb24gPSBmRHVyYXRpb24ocS5zdGFydER0dG0sIHEuZW5kRHR0bSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGltZSA9IG1vbWVudChxLnN0YXJ0RHR0bSkuZm9ybWF0KCkuc3BsaXQoJ1QnKTtcbiAgICAgICAgcS50aW1lID0gKFxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAge3RpbWVbMF19IDxiciAvPiB7dGltZVsxXX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgICAgcS51c2VyID0gKFxuICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgIGJ1dHRvblNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICBidXR0b25TdHlsZT1cImxpbmtcIlxuICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcHJvcHMub25Vc2VyQ2xpY2tlZChxLnVzZXJJZCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3EudXNlcn1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgKTtcbiAgICAgICAgcS5kYiA9IChcbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBidXR0b25TaXplPVwic21hbGxcIlxuICAgICAgICAgICAgYnV0dG9uU3R5bGU9XCJsaW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHByb3BzLm9uRGJDbGlja2VkKHEuZGJJZCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAge3EuZGJ9XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICk7XG4gICAgICAgIHEuc3RhcnRlZCA9IG1vbWVudChxLnN0YXJ0RHR0bSkuZm9ybWF0KCdISDptbTpzcycpO1xuICAgICAgICBxLnF1ZXJ5bGluayA9IChcbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICBidXR0b25TaXplPVwic21hbGxcIlxuICAgICAgICAgICAgYnV0dG9uU3R5bGU9XCJsaW5rXCJcbiAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9wZW5RdWVyeShxLnF1ZXJ5SWQpfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWV4dGVybmFsLWxpbmsgbS1yLTNcIiAvPlxuICAgICAgICAgICAge3QoJ0VkaXQnKX1cbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgKTtcbiAgICAgICAgcS5zcWwgPSAoXG4gICAgICAgICAgPENhcmQgY3NzPXtbU3RhdGljUG9zaXRpb25dfT5cbiAgICAgICAgICAgIDxIaWdobGlnaHRlZFNxbFxuICAgICAgICAgICAgICBzcWw9e3Euc3FsfVxuICAgICAgICAgICAgICByYXdTcWw9e3EuZXhlY3V0ZWRTcWx9XG4gICAgICAgICAgICAgIHNocmlua1xuICAgICAgICAgICAgICBtYXhXaWR0aD17NjB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHEucmVzdWx0c0tleSkge1xuICAgICAgICAgIHEub3V0cHV0ID0gKFxuICAgICAgICAgICAgPE1vZGFsVHJpZ2dlclxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJSZXN1bHRzTW9kYWxcIlxuICAgICAgICAgICAgICB0cmlnZ2VyTm9kZT17XG4gICAgICAgICAgICAgICAgPExhYmVsIHR5cGU9XCJpbmZvXCIgY2xhc3NOYW1lPVwicG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAge3QoJ1ZpZXcgcmVzdWx0cycpfVxuICAgICAgICAgICAgICAgIDwvTGFiZWw+XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgbW9kYWxUaXRsZT17dCgnRGF0YSBwcmV2aWV3Jyl9XG4gICAgICAgICAgICAgIGJlZm9yZU9wZW49eygpID0+IG9wZW5Bc3luY1Jlc3VsdHMocXVlcnksIHByb3BzLmRpc3BsYXlMaW1pdCl9XG4gICAgICAgICAgICAgIG9uRXhpdD17KCkgPT4gY2xlYXJRdWVyeVJlc3VsdHMocXVlcnkpfVxuICAgICAgICAgICAgICBtb2RhbEJvZHk9e1xuICAgICAgICAgICAgICAgIDxSZXN1bHRTZXRcbiAgICAgICAgICAgICAgICAgIHNob3dTcWxcbiAgICAgICAgICAgICAgICAgIHVzZXI9e3VzZXJ9XG4gICAgICAgICAgICAgICAgICBxdWVyeT17cXVlcnl9XG4gICAgICAgICAgICAgICAgICBhY3Rpb25zPXtwcm9wcy5hY3Rpb25zfVxuICAgICAgICAgICAgICAgICAgaGVpZ2h0PXs0MDB9XG4gICAgICAgICAgICAgICAgICBkaXNwbGF5TGltaXQ9e3Byb3BzLmRpc3BsYXlMaW1pdH1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJlc3BvbnNpdmVcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBpZiBxdWVyeSB3YXMgcnVuIHVzaW5nIGN0YXMgYW5kIGZvcmNlX2N0YXNfc2NoZW1hIHdhcyBzZXRcbiAgICAgICAgICAvLyB0ZW1wVGFibGUgd2lsbCBoYXZlIHRoZSBzY2hlbWFcbiAgICAgICAgICBjb25zdCBzY2hlbWFVc2VkID1cbiAgICAgICAgICAgIHEuY3RhcyAmJiBxLnRlbXBUYWJsZSAmJiBxLnRlbXBUYWJsZS5pbmNsdWRlcygnLicpID8gJycgOiBxLnNjaGVtYTtcbiAgICAgICAgICBxLm91dHB1dCA9IFtzY2hlbWFVc2VkLCBxLnRlbXBUYWJsZV0uZmlsdGVyKHYgPT4gdikuam9pbignLicpO1xuICAgICAgICB9XG4gICAgICAgIHEucHJvZ3Jlc3MgPVxuICAgICAgICAgIHEuc3RhdGUgPT09ICdzdWNjZXNzJyA/IChcbiAgICAgICAgICAgIDxQcm9ncmVzc0JhclxuICAgICAgICAgICAgICBwZXJjZW50PXtwYXJzZUludChxLnByb2dyZXNzLnRvRml4ZWQoMCksIDEwKX1cbiAgICAgICAgICAgICAgc3RyaXBlZFxuICAgICAgICAgICAgICBzaG93SW5mbz17ZmFsc2V9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8UHJvZ3Jlc3NCYXJcbiAgICAgICAgICAgICAgcGVyY2VudD17cGFyc2VJbnQocS5wcm9ncmVzcy50b0ZpeGVkKDApLCAxMCl9XG4gICAgICAgICAgICAgIHN0cmlwZWRcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgKTtcbiAgICAgICAgcS5zdGF0ZSA9IChcbiAgICAgICAgICA8VG9vbHRpcCB0aXRsZT17c3RhdHVzLmNvbmZpZy5sYWJlbH0gcGxhY2VtZW50PVwiYm90dG9tXCI+XG4gICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAgPFN0YXR1c0ljb25cbiAgICAgICAgICAgICAgICBuYW1lPXtzdGF0dXMuY29uZmlnLm5hbWV9XG4gICAgICAgICAgICAgICAgc3RhdHVzPXtzdGF0dXMuY29uZmlnLnN0YXR1c31cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L1Rvb2x0aXA+XG4gICAgICAgICk7XG4gICAgICAgIHEuYWN0aW9ucyA9IChcbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPFN0eWxlZFRvb2x0aXBcbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVzdG9yZVNxbChxdWVyeSl9XG4gICAgICAgICAgICAgIHRvb2x0aXA9e3QoXG4gICAgICAgICAgICAgICAgJ092ZXJ3cml0ZSB0ZXh0IGluIHRoZSBlZGl0b3Igd2l0aCBhIHF1ZXJ5IG9uIHRoaXMgdGFibGUnLFxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJ0b3BcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvbnMuRWRpdCBpY29uU2l6ZT1cInNtYWxsXCIgLz5cbiAgICAgICAgICAgIDwvU3R5bGVkVG9vbHRpcD5cbiAgICAgICAgICAgIDxTdHlsZWRUb29sdGlwXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IG9wZW5RdWVyeUluTmV3VGFiKHF1ZXJ5KX1cbiAgICAgICAgICAgICAgdG9vbHRpcD17dCgnUnVuIHF1ZXJ5IGluIGEgbmV3IHRhYicpfVxuICAgICAgICAgICAgICBwbGFjZW1lbnQ9XCJ0b3BcIlxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvbnMuUGx1c0NpcmNsZU91dGxpbmVkXG4gICAgICAgICAgICAgICAgaWNvblNpemU9XCJ4LXNtYWxsXCJcbiAgICAgICAgICAgICAgICBjc3M9e3ZlcnRpY2FsQWxpZ259XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L1N0eWxlZFRvb2x0aXA+XG4gICAgICAgICAgICA8U3R5bGVkVG9vbHRpcFxuICAgICAgICAgICAgICB0b29sdGlwPXt0KCdSZW1vdmUgcXVlcnkgZnJvbSBsb2cnKX1cbiAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gcmVtb3ZlUXVlcnkocXVlcnkpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvbnMuVHJhc2ggaWNvblNpemU9XCJ4LXNtYWxsXCIgLz5cbiAgICAgICAgICAgIDwvU3R5bGVkVG9vbHRpcD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICAgICAgcmV0dXJuIHE7XG4gICAgICB9KVxuICAgICAgLnJldmVyc2UoKTtcbiAgfSwgW3Byb3BzXSk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT1cIlF1ZXJ5VGFibGVcIj5cbiAgICAgIDxUYWJsZVZpZXdcbiAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgZGF0YT17ZGF0YX1cbiAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtY29uZGVuc2VkXCJcbiAgICAgICAgcGFnZVNpemU9ezUwfVxuICAgICAgLz5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cblF1ZXJ5VGFibGUucHJvcFR5cGVzID0gcHJvcFR5cGVzO1xuUXVlcnlUYWJsZS5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG5cbmV4cG9ydCBkZWZhdWx0IFF1ZXJ5VGFibGU7XG4iXX0= */\"] },\n      ___EmotionJSX(HighlightedSql, {\n        sql: q.sql,\n        rawSql: q.executedSql,\n        shrink: true,\n        maxWidth: 60 }));\n\n\n\n      if (q.resultsKey) {\n        q.output =\n        ___EmotionJSX(ModalTrigger, {\n          className: \"ResultsModal\",\n          triggerNode:\n          ___EmotionJSX(Label, { type: \"info\", className: \"pointer\" },\n          t('View results')),\n\n\n          modalTitle: t('Data preview'),\n          beforeOpen: () => openAsyncResults(query, props.displayLimit),\n          onExit: () => clearQueryResults(query),\n          modalBody:\n          ___EmotionJSX(ResultSet, {\n            showSql: true,\n            user: user,\n            query: query,\n            actions: props.actions,\n            height: 400,\n            displayLimit: props.displayLimit }),\n\n\n          responsive: true });\n\n\n      } else {var _context5, _context6;\n        // if query was run using ctas and force_ctas_schema was set\n        // tempTable will have the schema\n        const schemaUsed =\n        q.ctas && q.tempTable && _includesInstanceProperty(_context5 = q.tempTable).call(_context5, '.') ? '' : q.schema;\n        q.output = _filterInstanceProperty(_context6 = [schemaUsed, q.tempTable]).call(_context6, v => v).join('.');\n      }\n      q.progress =\n      q.state === 'success' ?\n      ___EmotionJSX(ProgressBar, {\n        percent: _parseInt(q.progress.toFixed(0), 10),\n        striped: true,\n        showInfo: false }) :\n\n\n      ___EmotionJSX(ProgressBar, {\n        percent: _parseInt(q.progress.toFixed(0), 10),\n        striped: true });\n\n\n      q.state =\n      ___EmotionJSX(Tooltip, { title: status.config.label, placement: \"bottom\" },\n      ___EmotionJSX(\"span\", null,\n      ___EmotionJSX(StatusIcon, {\n        name: status.config.name,\n        status: status.config.status })));\n\n\n\n\n      q.actions =\n      ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(StyledTooltip, {\n        onClick: () => restoreSql(query),\n        tooltip: t(\n        'Overwrite text in the editor with a query on this table'),\n\n        placement: \"top\" },\n\n      ___EmotionJSX(Icons.Edit, { iconSize: \"small\" })),\n\n      ___EmotionJSX(StyledTooltip, {\n        onClick: () => openQueryInNewTab(query),\n        tooltip: t('Run query in a new tab'),\n        placement: \"top\" },\n\n      ___EmotionJSX(Icons.PlusCircleOutlined, {\n        iconSize: \"x-small\",\n        css: verticalAlign })),\n\n\n      ___EmotionJSX(StyledTooltip, {\n        tooltip: t('Remove query from log'),\n        onClick: () => removeQuery(query) },\n\n      ___EmotionJSX(Icons.Trash, { iconSize: \"x-small\" })));\n\n\n\n      return q;\n    })).call(_context3);\n\n  }, [props]);\n\n  return (\n    ___EmotionJSX(\"div\", { className: \"QueryTable\" },\n    ___EmotionJSX(TableView, {\n      columns: columns,\n      data: data,\n      className: \"table-condensed\",\n      pageSize: 50 })));\n\n\n\n};__signature__(QueryTable, \"useMemo{columns}\\nuseSelector{user}\\nuseMemo{data}\", () => [useSelector]);\n\nQueryTable.propTypes = propTypes;\nQueryTable.defaultProps = defaultProps;const _default =\n\nQueryTable;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/app/superset-frontend/src/SqlLab/components/QueryTable/index.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/app/superset-frontend/src/SqlLab/components/QueryTable/index.jsx\");reactHotLoader.register(openQuery, \"openQuery\", \"/app/superset-frontend/src/SqlLab/components/QueryTable/index.jsx\");reactHotLoader.register(statusAttributes, \"statusAttributes\", \"/app/superset-frontend/src/SqlLab/components/QueryTable/index.jsx\");reactHotLoader.register(StatusIcon, \"StatusIcon\", \"/app/superset-frontend/src/SqlLab/components/QueryTable/index.jsx\");reactHotLoader.register(QueryTable, \"QueryTable\", \"/app/superset-frontend/src/SqlLab/components/QueryTable/index.jsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/SqlLab/components/QueryTable/index.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/SqlLab/components/QueryTable/index.jsx"],"names":["React","useMemo","PropTypes","moment","Card","ProgressBar","Label","t","styled","useSelector","TableView","Button","fDuration","Icons","Icon","Tooltip","ResultSet","ModalTrigger","HighlightedSql","StaticPosition","verticalAlign","StyledTooltip","propTypes","columns","array","actions","object","queries","onUserClicked","func","onDbClicked","displayLimit","number","isRequired","defaultProps","openQuery","id","url","window","open","statusAttributes","success","color","theme","colors","base","config","name","label","status","failed","error","stopped","running","primary","fetching","timed_out","grayscale","light1","scheduled","greyscale","pending","StatusIcon","shouldForwardProp","prop","QueryTable","props","setHeaders","column","toUpperCase","charAt","accessor","Header","disableSortBy","user","sqlLab","data","restoreSql","query","queryEditorSetSql","sqlEditorId","sql","openQueryInNewTab","cloneQueryToNewTab","openAsyncResults","fetchQueryResults","clearQueryResults","removeQuery","q","state","endDttm","duration","startDttm","time","format","split","userId","db","dbId","started","querylink","queryId","executedSql","resultsKey","output","schemaUsed","ctas","tempTable","schema","v","join","progress","toFixed"],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport Card from 'src/components/Card';\nimport ProgressBar from 'src/components/ProgressBar';\nimport Label from 'src/components/Label';\nimport { t, styled } from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\nimport TableView from 'src/components/TableView';\nimport Button from 'src/components/Button';\nimport { fDuration } from 'src/modules/dates';\nimport Icons from 'src/components/Icons';\nimport Icon from 'src/components/Icon';\nimport { Tooltip } from 'src/components/Tooltip';\nimport ResultSet from '../ResultSet';\nimport ModalTrigger from '../../../components/ModalTrigger';\nimport HighlightedSql from '../HighlightedSql';\nimport { StaticPosition, verticalAlign, StyledTooltip } from './styles';\n\nconst propTypes = {\n  columns: PropTypes.array,\n  actions: PropTypes.object,\n  queries: PropTypes.array,\n  onUserClicked: PropTypes.func,\n  onDbClicked: PropTypes.func,\n  displayLimit: PropTypes.number.isRequired,\n};\nconst defaultProps = {\n  columns: ['started', 'duration', 'rows'],\n  queries: [],\n  onUserClicked: () => {},\n  onDbClicked: () => {},\n};\n\nconst openQuery = id => {\n  const url = `/superset/sqllab?queryId=${id}`;\n  window.open(url);\n};\n\nconst statusAttributes = {\n  success: {\n    color: ({ theme }) => theme.colors.success.base,\n    config: {\n      name: 'check',\n      label: t('Success'),\n      status: 'success',\n    },\n  },\n  failed: {\n    color: ({ theme }) => theme.colors.error.base,\n    config: {\n      name: 'x-small',\n      label: t('Failed'),\n      status: 'failed',\n    },\n  },\n  stopped: {\n    color: ({ theme }) => theme.colors.error.base,\n    config: {\n      name: 'x-small',\n      label: t('Failed'),\n      status: 'failed',\n    },\n  },\n  running: {\n    color: ({ theme }) => theme.colors.primary.base,\n    config: {\n      name: 'running',\n      label: t('Running'),\n      status: 'running',\n    },\n  },\n  fetching: {\n    color: ({ theme }) => theme.colors.primary.base,\n    config: {\n      name: 'queued',\n      label: t('fetching'),\n      status: 'fetching',\n    },\n  },\n  timed_out: {\n    color: ({ theme }) => theme.colors.grayscale.light1,\n    config: {\n      name: 'offline',\n      label: t('Offline'),\n      status: 'offline',\n    },\n  },\n  scheduled: {\n    color: ({ theme }) => theme.colors.greyscale.base,\n    config: {\n      name: 'queued',\n      label: t('Scheduled'),\n      status: 'queued',\n    },\n  },\n  pending: {\n    color: ({ theme }) => theme.colors.greyscale.base,\n    config: {\n      name: 'queued',\n      label: t('Scheduled'),\n      status: 'queued',\n    },\n  },\n  error: {\n    color: ({ theme }) => theme.colors.error.base,\n    config: {\n      name: 'error',\n      label: t('Unknown Status'),\n      status: 'unknown status!',\n    },\n  },\n};\n\nconst StatusIcon = styled(Icon, {\n  shouldForwardProp: prop => prop !== 'status',\n})`\n  color: ${({ status, theme }) =>\n    statusAttributes[status]?.color || theme.colors.grayscale.base};\n`;\n\nconst QueryTable = props => {\n  const setHeaders = column => {\n    if (column === 'sql') {\n      return column.toUpperCase();\n    }\n    return column.charAt(0).toUpperCase().concat(column.slice(1));\n  };\n  const columns = useMemo(\n    () =>\n      props.columns.map(column => ({\n        accessor: column,\n        Header: () => setHeaders(column),\n        disableSortBy: true,\n      })),\n    [props.columns],\n  );\n\n  const user = useSelector(({ sqlLab: { user } }) => user);\n\n  const data = useMemo(() => {\n    const restoreSql = query => {\n      props.actions.queryEditorSetSql({ id: query.sqlEditorId }, query.sql);\n    };\n\n    const openQueryInNewTab = query => {\n      props.actions.cloneQueryToNewTab(query, true);\n    };\n\n    const openAsyncResults = (query, displayLimit) => {\n      props.actions.fetchQueryResults(query, displayLimit);\n    };\n\n    const clearQueryResults = query => {\n      props.actions.clearQueryResults(query);\n    };\n\n    const removeQuery = query => {\n      props.actions.removeQuery(query);\n    };\n\n    return props.queries\n      .map(query => {\n        const q = { ...query };\n        const status = statusAttributes[q.state] || statusAttributes.error;\n\n        if (q.endDttm) {\n          q.duration = fDuration(q.startDttm, q.endDttm);\n        }\n        const time = moment(q.startDttm).format().split('T');\n        q.time = (\n          <div>\n            <span>\n              {time[0]} <br /> {time[1]}\n            </span>\n          </div>\n        );\n        q.user = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => props.onUserClicked(q.userId)}\n          >\n            {q.user}\n          </Button>\n        );\n        q.db = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => props.onDbClicked(q.dbId)}\n          >\n            {q.db}\n          </Button>\n        );\n        q.started = moment(q.startDttm).format('HH:mm:ss');\n        q.querylink = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => openQuery(q.queryId)}\n          >\n            <i className=\"fa fa-external-link m-r-3\" />\n            {t('Edit')}\n          </Button>\n        );\n        q.sql = (\n          <Card css={[StaticPosition]}>\n            <HighlightedSql\n              sql={q.sql}\n              rawSql={q.executedSql}\n              shrink\n              maxWidth={60}\n            />\n          </Card>\n        );\n        if (q.resultsKey) {\n          q.output = (\n            <ModalTrigger\n              className=\"ResultsModal\"\n              triggerNode={\n                <Label type=\"info\" className=\"pointer\">\n                  {t('View results')}\n                </Label>\n              }\n              modalTitle={t('Data preview')}\n              beforeOpen={() => openAsyncResults(query, props.displayLimit)}\n              onExit={() => clearQueryResults(query)}\n              modalBody={\n                <ResultSet\n                  showSql\n                  user={user}\n                  query={query}\n                  actions={props.actions}\n                  height={400}\n                  displayLimit={props.displayLimit}\n                />\n              }\n              responsive\n            />\n          );\n        } else {\n          // if query was run using ctas and force_ctas_schema was set\n          // tempTable will have the schema\n          const schemaUsed =\n            q.ctas && q.tempTable && q.tempTable.includes('.') ? '' : q.schema;\n          q.output = [schemaUsed, q.tempTable].filter(v => v).join('.');\n        }\n        q.progress =\n          q.state === 'success' ? (\n            <ProgressBar\n              percent={parseInt(q.progress.toFixed(0), 10)}\n              striped\n              showInfo={false}\n            />\n          ) : (\n            <ProgressBar\n              percent={parseInt(q.progress.toFixed(0), 10)}\n              striped\n            />\n          );\n        q.state = (\n          <Tooltip title={status.config.label} placement=\"bottom\">\n            <span>\n              <StatusIcon\n                name={status.config.name}\n                status={status.config.status}\n              />\n            </span>\n          </Tooltip>\n        );\n        q.actions = (\n          <div>\n            <StyledTooltip\n              onClick={() => restoreSql(query)}\n              tooltip={t(\n                'Overwrite text in the editor with a query on this table',\n              )}\n              placement=\"top\"\n            >\n              <Icons.Edit iconSize=\"small\" />\n            </StyledTooltip>\n            <StyledTooltip\n              onClick={() => openQueryInNewTab(query)}\n              tooltip={t('Run query in a new tab')}\n              placement=\"top\"\n            >\n              <Icons.PlusCircleOutlined\n                iconSize=\"x-small\"\n                css={verticalAlign}\n              />\n            </StyledTooltip>\n            <StyledTooltip\n              tooltip={t('Remove query from log')}\n              onClick={() => removeQuery(query)}\n            >\n              <Icons.Trash iconSize=\"x-small\" />\n            </StyledTooltip>\n          </div>\n        );\n        return q;\n      })\n      .reverse();\n  }, [props]);\n\n  return (\n    <div className=\"QueryTable\">\n      <TableView\n        columns={columns}\n        data={data}\n        className=\"table-condensed\"\n        pageSize={50}\n      />\n    </div>\n  );\n};\n\nQueryTable.propTypes = propTypes;\nQueryTable.defaultProps = defaultProps;\n\nexport default QueryTable;\n"]},"metadata":{},"sourceType":"module"}