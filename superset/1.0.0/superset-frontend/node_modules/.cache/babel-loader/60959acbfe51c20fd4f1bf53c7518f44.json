{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint global-require: 0 */\nimport $ from 'jquery';\nimport { SupersetClient } from '@superset-ui/core';\nimport { getClientErrorObject } from 'src/utils/getClientErrorObject';\nimport setupErrorMessages from 'src/setup/setupErrorMessages';\nfunction showApiMessage(resp) {\n  const template = '<div class=\"alert\"> ' +\n  '<button type=\"button\" class=\"close\" ' +\n  'data-dismiss=\"alert\">\\xD7</button> </div>';\n  const severity = resp.severity || 'info';\n  $(template).\n  addClass(`alert-${severity}`).\n  append(resp.message || '').\n  appendTo($('#alert-container'));\n}\nfunction toggleCheckbox(apiUrlPrefix, selector) {\n  SupersetClient.get({\n    endpoint: apiUrlPrefix + $(selector)[0].checked }).\n\n  then(() => undefined).\n  catch(response => getClientErrorObject(response).then(parsedResp => {\n    if (parsedResp && parsedResp.message) {\n      showApiMessage(parsedResp);\n    }\n  }));\n}\nexport default function setupApp() {\n  $(document).ready(function () {\n    $(':checkbox[data-checkbox-api-prefix]').change(function () {\n      const $this = $(this);\n      const prefix = $this.data('checkbox-api-prefix');\n      const id = $this.attr('id');\n      toggleCheckbox(prefix, `#${id}`);\n    });\n    // for language picker dropdown\n    $('#language-picker a').click(function (ev) {\n      ev.preventDefault();\n      SupersetClient.get({\n        url: ev.currentTarget.href,\n        parseMethod: null }).\n      then(() => {\n        window.location.reload();\n      });\n    });\n  });\n  // A set of hacks to allow apps to run within a FAB template\n  // this allows for the server side generated menus to function\n  window.$ = $;\n  window.jQuery = $;\n  require('bootstrap');\n  // setup appwide custom error messages\n  setupErrorMessages();\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(showApiMessage, \"showApiMessage\", \"/app/superset-frontend/src/setup/setupApp.ts\");reactHotLoader.register(toggleCheckbox, \"toggleCheckbox\", \"/app/superset-frontend/src/setup/setupApp.ts\");reactHotLoader.register(setupApp, \"setupApp\", \"/app/superset-frontend/src/setup/setupApp.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/setup/setupApp.ts"],"names":[],"mappings":"wSAAA;;;;;;;;;;;;;;;;;AAiBG;AACH;AACA,OAAO,CAAP,MAAc,QAAd;AACA,SAAS,cAAT,QAA+B,mBAA/B;AACA,SACE,oBADF,QAGO,gCAHP;AAIA,OAAO,kBAAP,MAA+B,8BAA/B;AAUA,SAAS,cAAT,CAAwB,IAAxB,EAA+C;AAC7C,QAAM,QAAQ,GACZ;AACA,wCADA;AAEA,6CAHF;AAIA,QAAM,QAAQ,GAAG,IAAI,CAAC,QAAL,IAAiB,MAAlC;AACA,EAAA,CAAC,CAAC,QAAD,CAAD;AACG,EAAA,QADH,CACY,SAAS,QAAQ,EAD7B;AAEG,EAAA,MAFH,CAEU,IAAI,CAAC,OAAL,IAAgB,EAF1B;AAGG,EAAA,QAHH,CAGY,CAAC,CAAC,kBAAD,CAHb;AAID;AAED,SAAS,cAAT,CAAwB,YAAxB,EAA8C,QAA9C,EAA8D;AAC5D,EAAA,cAAc,CAAC,GAAf,CAAmB;AACjB,IAAA,QAAQ,EAAE,YAAY,GAAI,CAAC,CAAC,QAAD,CAAD,CAAY,CAAZ,EAAoC,OAD7C,EAAnB;;AAGG,EAAA,IAHH,CAGQ,MAAM,SAHd;AAIG,EAAA,KAJH,CAIS,QAAQ,IACb,oBAAoB,CAAC,QAAD,CAApB,CAA+B,IAA/B,CAAoC,UAAU,IAAG;AAC/C,QAAI,UAAU,IAAI,UAAU,CAAC,OAA7B,EAAsC;AACpC,MAAA,cAAc,CAAC,UAAD,CAAd;AACD;AACF,GAJD,CALJ;AAWD;AAED,eAAc,SAAU,QAAV,GAAkB;AAC9B,EAAA,CAAC,CAAC,QAAD,CAAD,CAAY,KAAZ,CAAkB,YAAA;AAChB,IAAA,CAAC,CAAC,qCAAD,CAAD,CAAyC,MAAzC,CAAgD,YAAA;AAG9C,YAAM,KAAK,GAAG,CAAC,CAAC,IAAD,CAAf;AACA,YAAM,MAAM,GAAG,KAAK,CAAC,IAAN,CAAW,qBAAX,CAAf;AACA,YAAM,EAAE,GAAG,KAAK,CAAC,IAAN,CAAW,IAAX,CAAX;AACA,MAAA,cAAc,CAAC,MAAD,EAAS,IAAI,EAAE,EAAf,CAAd;AACD,KAPD;AASA;AACA,IAAA,CAAC,CAAC,oBAAD,CAAD,CAAwB,KAAxB,CAA8B,UAC5B,EAD4B,EAM3B;AAED,MAAA,EAAE,CAAC,cAAH;AACA,MAAA,cAAc,CAAC,GAAf,CAAmB;AACjB,QAAA,GAAG,EAAE,EAAE,CAAC,aAAH,CAAiB,IADL;AAEjB,QAAA,WAAW,EAAE,IAFI,EAAnB;AAGG,MAAA,IAHH,CAGQ,MAAK;AACX,QAAA,MAAM,CAAC,QAAP,CAAgB,MAAhB;AACD,OALD;AAMD,KAfD;AAgBD,GA3BD;AA6BA;AACA;AACA,EAAA,MAAM,CAAC,CAAP,GAAW,CAAX;AACA,EAAA,MAAM,CAAC,MAAP,GAAgB,CAAhB;AACA,EAAA,OAAO,CAAC,WAAD,CAAP;AAEA;AACA,EAAA,kBAAkB;AACnB,C,iLAhEQ,c,4FAYA,c,4FAce,Q","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint global-require: 0 */\nimport $ from 'jquery';\nimport { SupersetClient } from '@superset-ui/core';\nimport {\n  getClientErrorObject,\n  ClientErrorObject,\n} from 'src/utils/getClientErrorObject';\nimport setupErrorMessages from 'src/setup/setupErrorMessages';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\ndeclare global {\n  interface Window {\n    $: any;\n    jQuery: any;\n  }\n}\n\nfunction showApiMessage(resp: ClientErrorObject) {\n  const template =\n    '<div class=\"alert\"> ' +\n    '<button type=\"button\" class=\"close\" ' +\n    'data-dismiss=\"alert\">\\xD7</button> </div>';\n  const severity = resp.severity || 'info';\n  $(template)\n    .addClass(`alert-${severity}`)\n    .append(resp.message || '')\n    .appendTo($('#alert-container'));\n}\n\nfunction toggleCheckbox(apiUrlPrefix: string, selector: string) {\n  SupersetClient.get({\n    endpoint: apiUrlPrefix + ($(selector)[0] as HTMLInputElement).checked,\n  })\n    .then(() => undefined)\n    .catch(response =>\n      getClientErrorObject(response).then(parsedResp => {\n        if (parsedResp && parsedResp.message) {\n          showApiMessage(parsedResp);\n        }\n      }),\n    );\n}\n\nexport default function setupApp() {\n  $(document).ready(function () {\n    $(':checkbox[data-checkbox-api-prefix]').change(function (\n      this: HTMLElement,\n    ) {\n      const $this = $(this);\n      const prefix = $this.data('checkbox-api-prefix');\n      const id = $this.attr('id');\n      toggleCheckbox(prefix, `#${id}`);\n    });\n\n    // for language picker dropdown\n    $('#language-picker a').click(function (\n      ev: JQuery.ClickEvent<\n        HTMLLinkElement,\n        null,\n        HTMLLinkElement,\n        HTMLLinkElement\n      >,\n    ) {\n      ev.preventDefault();\n      SupersetClient.get({\n        url: ev.currentTarget.href,\n        parseMethod: null,\n      }).then(() => {\n        window.location.reload();\n      });\n    });\n  });\n\n  // A set of hacks to allow apps to run within a FAB template\n  // this allows for the server side generated menus to function\n  window.$ = $;\n  window.jQuery = $;\n  require('bootstrap');\n\n  // setup appwide custom error messages\n  setupErrorMessages();\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}