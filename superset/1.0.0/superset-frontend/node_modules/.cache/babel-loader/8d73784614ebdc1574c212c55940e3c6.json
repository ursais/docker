{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator.js\";import _startsWithInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/starts-with\";import _includesInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/includes\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { t } from '@superset-ui/core';\nimport { SEPARATOR } from 'src/explore/components/controls/DateFilterControl/utils';\nimport { Input } from 'src/common/components';\nimport { InfoTooltipWithTrigger } from '@superset-ui/chart-controls';\nimport DateFunctionTooltip from './DateFunctionTooltip';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nexport function AdvancedFrame(props) {\n  const advancedRange = getAdvancedRange(props.value || '');\n  const [since, until] = advancedRange.split(SEPARATOR);\n  if (advancedRange !== props.value) {\n    props.onChange(getAdvancedRange(props.value || ''));\n  }\n  function getAdvancedRange(value) {\n    if (_includesInstanceProperty(value).call(value, SEPARATOR)) {\n      return value;\n    }\n    if (_startsWithInstanceProperty(value).call(value, 'Last')) {\n      return [value, ''].join(SEPARATOR);\n    }\n    if (_startsWithInstanceProperty(value).call(value, 'Next')) {\n      return ['', value].join(SEPARATOR);\n    }\n    return SEPARATOR;\n  }\n  function onChange(control, value) {\n    if (control === 'since') {\n      props.onChange(`${value}${SEPARATOR}${until}`);\n    } else\n    {\n      props.onChange(`${since}${SEPARATOR}${value}`);\n    }\n  }\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(\"div\", { className: \"section-title\" },\n  t('Configure Advanced Time Range '),\n  ___EmotionJSX(DateFunctionTooltip, { placement: \"rightBottom\" },\n  ___EmotionJSX(\"i\", { className: \"fa fa-info-circle text-muted\" }))),\n\n\n  ___EmotionJSX(\"div\", { className: \"control-label\" },\n  t('START (INCLUSIVE)'), ' ',\n  ___EmotionJSX(InfoTooltipWithTrigger, { tooltip: t('Start date included in time range'), placement: \"right\" })),\n\n  ___EmotionJSX(Input, { key: \"since\", value: since, onChange: e => onChange('since', e.target.value) }),\n  ___EmotionJSX(\"div\", { className: \"control-label\" },\n  t('END (EXCLUSIVE)'), ' ',\n  ___EmotionJSX(InfoTooltipWithTrigger, { tooltip: t('End date excluded from time range'), placement: \"right\" })),\n\n  ___EmotionJSX(Input, { key: \"until\", value: until, onChange: e => onChange('until', e.target.value) }));\n\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(AdvancedFrame, \"AdvancedFrame\", \"/app/superset-frontend/src/explore/components/controls/DateFilterControl/components/AdvancedFrame.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/explore/components/controls/DateFilterControl/components/AdvancedFrame.tsx"],"names":[],"mappings":"siBAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,CAAT,QAAkB,mBAAlB;AACA,SAAS,SAAT,QAA0B,yDAA1B;AACA,SAAS,KAAT,QAAsB,uBAAtB;AACA,SAAS,sBAAT,QAAuC,6BAAvC;AAEA,OAAO,mBAAP,MAAgC,uBAAhC,C;AAEA,OAAM,SAAU,aAAV,CAAwB,KAAxB,EAAkD;AACtD,QAAM,aAAa,GAAG,gBAAgB,CAAC,KAAK,CAAC,KAAN,IAAe,EAAhB,CAAtC;AACA,QAAM,CAAC,KAAD,EAAQ,KAAR,IAAiB,aAAa,CAAC,KAAd,CAAoB,SAApB,CAAvB;AACA,MAAI,aAAa,KAAK,KAAK,CAAC,KAA5B,EAAmC;AACjC,IAAA,KAAK,CAAC,QAAN,CAAe,gBAAgB,CAAC,KAAK,CAAC,KAAN,IAAe,EAAhB,CAA/B;AACD;AAED,WAAS,gBAAT,CAA0B,KAA1B,EAAuC;AACrC,QAAI,0BAAA,KAAK,MAAL,CAAA,KAAK,EAAU,SAAV,CAAT,EAA+B;AAC7B,aAAO,KAAP;AACD;AACD,QAAI,4BAAA,KAAK,MAAL,CAAA,KAAK,EAAY,MAAZ,CAAT,EAA8B;AAC5B,aAAO,CAAC,KAAD,EAAQ,EAAR,EAAY,IAAZ,CAAiB,SAAjB,CAAP;AACD;AACD,QAAI,4BAAA,KAAK,MAAL,CAAA,KAAK,EAAY,MAAZ,CAAT,EAA8B;AAC5B,aAAO,CAAC,EAAD,EAAK,KAAL,EAAY,IAAZ,CAAiB,SAAjB,CAAP;AACD;AACD,WAAO,SAAP;AACD;AAED,WAAS,QAAT,CAAkB,OAAlB,EAA8C,KAA9C,EAA2D;AACzD,QAAI,OAAO,KAAK,OAAhB,EAAyB;AACvB,MAAA,KAAK,CAAC,QAAN,CAAe,GAAG,KAAK,GAAG,SAAS,GAAG,KAAK,EAA3C;AACD,KAFD;AAEO;AACL,MAAA,KAAK,CAAC,QAAN,CAAe,GAAG,KAAK,GAAG,SAAS,GAAG,KAAK,EAA3C;AACD;AACF;AAED,SACE;AACE,yBAAK,SAAS,EAAC,eAAf;AACG,EAAA,CAAC,CAAC,gCAAD,CADJ;AAEE,gBAAC,mBAAD,IAAqB,SAAS,EAAC,aAA/B;AACE,uBAAG,SAAS,EAAC,8BAAb,GADF,CAFF,CADF;;;AAOE,yBAAK,SAAS,EAAC,eAAf;AACG,EAAA,CAAC,CAAC,mBAAD,CADJ,EAC2B,GAD3B;AAEE,gBAAC,sBAAD,IACE,OAAO,EAAE,CAAC,CAAC,mCAAD,CADZ,EAEE,SAAS,EAAC,OAFZ,GAFF,CAPF;;AAcE,gBAAC,KAAD,IACE,GAAG,EAAC,OADN,EAEE,KAAK,EAAE,KAFT,EAGE,QAAQ,EAAE,CAAC,IAAI,QAAQ,CAAC,OAAD,EAAU,CAAC,CAAC,MAAF,CAAS,KAAnB,CAHzB,GAdF;AAmBE,yBAAK,SAAS,EAAC,eAAf;AACG,EAAA,CAAC,CAAC,iBAAD,CADJ,EACyB,GADzB;AAEE,gBAAC,sBAAD,IACE,OAAO,EAAE,CAAC,CAAC,mCAAD,CADZ,EAEE,SAAS,EAAC,OAFZ,GAFF,CAnBF;;AA0BE,gBAAC,KAAD,IACE,GAAG,EAAC,OADN,EAEE,KAAK,EAAE,KAFT,EAGE,QAAQ,EAAE,CAAC,IAAI,QAAQ,CAAC,OAAD,EAAU,CAAC,CAAC,MAAF,CAAS,KAAnB,CAHzB,GA1BF,CADF;;AAkCD,C,iLA9De,a","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { t } from '@superset-ui/core';\nimport { SEPARATOR } from 'src/explore/components/controls/DateFilterControl/utils';\nimport { Input } from 'src/common/components';\nimport { InfoTooltipWithTrigger } from '@superset-ui/chart-controls';\nimport { FrameComponentProps } from 'src/explore/components/controls/DateFilterControl/types';\nimport DateFunctionTooltip from './DateFunctionTooltip';\n\nexport function AdvancedFrame(props: FrameComponentProps) {\n  const advancedRange = getAdvancedRange(props.value || '');\n  const [since, until] = advancedRange.split(SEPARATOR);\n  if (advancedRange !== props.value) {\n    props.onChange(getAdvancedRange(props.value || ''));\n  }\n\n  function getAdvancedRange(value: string): string {\n    if (value.includes(SEPARATOR)) {\n      return value;\n    }\n    if (value.startsWith('Last')) {\n      return [value, ''].join(SEPARATOR);\n    }\n    if (value.startsWith('Next')) {\n      return ['', value].join(SEPARATOR);\n    }\n    return SEPARATOR;\n  }\n\n  function onChange(control: 'since' | 'until', value: string) {\n    if (control === 'since') {\n      props.onChange(`${value}${SEPARATOR}${until}`);\n    } else {\n      props.onChange(`${since}${SEPARATOR}${value}`);\n    }\n  }\n\n  return (\n    <>\n      <div className=\"section-title\">\n        {t('Configure Advanced Time Range ')}\n        <DateFunctionTooltip placement=\"rightBottom\">\n          <i className=\"fa fa-info-circle text-muted\" />\n        </DateFunctionTooltip>\n      </div>\n      <div className=\"control-label\">\n        {t('START (INCLUSIVE)')}{' '}\n        <InfoTooltipWithTrigger\n          tooltip={t('Start date included in time range')}\n          placement=\"right\"\n        />\n      </div>\n      <Input\n        key=\"since\"\n        value={since}\n        onChange={e => onChange('since', e.target.value)}\n      />\n      <div className=\"control-label\">\n        {t('END (EXCLUSIVE)')}{' '}\n        <InfoTooltipWithTrigger\n          tooltip={t('End date excluded from time range')}\n          placement=\"right\"\n        />\n      </div>\n      <Input\n        key=\"until\"\n        value={until}\n        onChange={e => onChange('until', e.target.value)}\n      />\n    </>\n  );\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}