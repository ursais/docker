{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";import _bindInstanceProperty from \"@babel/runtime-corejs3/core-js-stable/instance/bind\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport ErrorBoundary from 'src/components/ErrorBoundary';\nimport controlMap from './controls';\nimport './Control.less';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nexport default class Control extends React.PureComponent {\n  constructor(props) {var _context, _context2, _context3;\n    super(props);\n    this.state = { hovered: false };\n    this.onChange = _bindInstanceProperty(_context = this.onChange).call(_context, this);\n    this.onMouseEnter = _bindInstanceProperty(_context2 = this.setHover).call(_context2, this, true);\n    this.onMouseLeave = _bindInstanceProperty(_context3 = this.setHover).call(_context3, this, false);\n  }\n  onChange(value, errors) {\n    this.props.actions.setControlValue(this.props.name, value, errors);\n  }\n  setHover(hovered) {\n    this.setState({ hovered });\n  }\n  render() {\n    const { type, hidden } = this.props;\n    if (!type)\n    return null;\n    const ControlComponent = typeof type === 'string' ? controlMap[type] : type;\n    if (!ControlComponent) {\n      return `Unknown controlType: ${type}`;\n    }\n    return ___EmotionJSX(\"div\", { className: \"Control\", \"data-test\": this.props.name, style: hidden ? { display: 'none' } : undefined, onMouseEnter: this.onMouseEnter, onMouseLeave: this.onMouseLeave },\n    ___EmotionJSX(ErrorBoundary, null,\n    ___EmotionJSX(ControlComponent, _extends({ onChange: this.onChange, hovered: this.state.hovered }, this.props))));\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(Control, \"Control\", \"/app/superset-frontend/src/explore/components/Control.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/explore/components/Control.tsx"],"names":[],"mappings":"8bAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,OAAO,KAAP,MAAiC,OAAjC;AAGA,OAAO,aAAP,MAA0B,8BAA1B;AAEA,OAAO,UAAP,MAAuB,YAAvB;AAEA,OAAO,gBAAP,C;AAoBA,eAAc,MAAO,OAAP,SAAuB,KAAK,CAAC,aAA7B,CAGb;AAKC,EAAA,WAAA,CAAY,KAAZ,EAA+B;AAC7B,UAAM,KAAN;AACA,SAAK,KAAL,GAAa,EAAE,OAAO,EAAE,KAAX,EAAb;AACA,SAAK,QAAL,GAAgB,sCAAK,QAAL,iBAAmB,IAAnB,CAAhB;AACA,SAAK,YAAL,GAAoB,uCAAK,QAAL,kBAAmB,IAAnB,EAAyB,IAAzB,CAApB;AACA,SAAK,YAAL,GAAoB,uCAAK,QAAL,kBAAmB,IAAnB,EAAyB,KAAzB,CAApB;AACD;AAED,EAAA,QAAQ,CAAC,KAAD,EAAa,MAAb,EAA0B;AAChC,SAAK,KAAL,CAAW,OAAX,CAAmB,eAAnB,CAAmC,KAAK,KAAL,CAAW,IAA9C,EAAoD,KAApD,EAA2D,MAA3D;AACD;AAED,EAAA,QAAQ,CAAC,OAAD,EAAiB;AACvB,SAAK,QAAL,CAAc,EAAE,OAAF,EAAd;AACD;AAED,EAAA,MAAM,GAAA;AACJ,UAAM,EAAE,IAAF,EAAQ,MAAR,KAAmB,KAAK,KAA9B;AACA,QAAI,CAAC,IAAL;AAAW,WAAO,IAAP;AACX,UAAM,gBAAgB,GAAG,OAAO,IAAP,KAAgB,QAAhB,GAA2B,UAAU,CAAC,IAAD,CAArC,GAA8C,IAAvE;AACA,QAAI,CAAC,gBAAL,EAAuB;AACrB,aAAO,wBAAwB,IAAI,EAAnC;AACD;AACD,WACE,uBACE,SAAS,EAAC,SADZ,EAEE,aAAW,KAAK,KAAL,CAAW,IAFxB,EAGE,KAAK,EAAE,MAAM,GAAG,EAAE,OAAO,EAAE,MAAX,EAAH,GAAyB,SAHxC,EAIE,YAAY,EAAE,KAAK,YAJrB,EAKE,YAAY,EAAE,KAAK,YALrB;AAOE,kBAAC,aAAD;AACE,kBAAC,gBAAD,aACE,QAAQ,EAAE,KAAK,QADjB,EAEE,OAAO,EAAE,KAAK,KAAL,CAAW,OAFtB,IAGM,KAAK,KAHX,EADF,CAPF,CADF;;;AAiBD,GA7CF;AAAA;AAAA,6B,iLAHoB,O","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { ReactNode } from 'react';\nimport { ControlType } from '@superset-ui/chart-controls';\nimport { JsonValue, QueryFormData } from '@superset-ui/core';\nimport ErrorBoundary from 'src/components/ErrorBoundary';\nimport { ExploreActions } from 'src/explore/actions/exploreActions';\nimport controlMap from './controls';\n\nimport './Control.less';\n\nexport type ControlProps = {\n  // the actual action dispatcher (via bindActionCreators) has identical\n  // signature to the original action factory.\n  actions: Partial<ExploreActions> & Pick<ExploreActions, 'setControlValue'>;\n  type: ControlType;\n  label?: ReactNode;\n  name: string;\n  description?: ReactNode;\n  tooltipOnClick?: () => ReactNode;\n  places?: number;\n  rightNode?: ReactNode;\n  formData?: QueryFormData | null;\n  value?: JsonValue;\n  validationErrors?: any[];\n  hidden?: boolean;\n  renderTrigger?: boolean;\n};\n\nexport default class Control extends React.PureComponent<\n  ControlProps,\n  { hovered: boolean }\n> {\n  onMouseEnter: () => void;\n\n  onMouseLeave: () => void;\n\n  constructor(props: ControlProps) {\n    super(props);\n    this.state = { hovered: false };\n    this.onChange = this.onChange.bind(this);\n    this.onMouseEnter = this.setHover.bind(this, true);\n    this.onMouseLeave = this.setHover.bind(this, false);\n  }\n\n  onChange(value: any, errors: any[]) {\n    this.props.actions.setControlValue(this.props.name, value, errors);\n  }\n\n  setHover(hovered: boolean) {\n    this.setState({ hovered });\n  }\n\n  render() {\n    const { type, hidden } = this.props;\n    if (!type) return null;\n    const ControlComponent = typeof type === 'string' ? controlMap[type] : type;\n    if (!ControlComponent) {\n      return `Unknown controlType: ${type}`;\n    }\n    return (\n      <div\n        className=\"Control\"\n        data-test={this.props.name}\n        style={hidden ? { display: 'none' } : undefined}\n        onMouseEnter={this.onMouseEnter}\n        onMouseLeave={this.onMouseLeave}\n      >\n        <ErrorBoundary>\n          <ControlComponent\n            onChange={this.onChange}\n            hovered={this.state.hovered}\n            {...this.props}\n          />\n        </ErrorBoundary>\n      </div>\n    );\n  }\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}