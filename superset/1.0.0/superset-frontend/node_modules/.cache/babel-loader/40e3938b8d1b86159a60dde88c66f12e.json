{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport Modal from 'src/components/Modal';\nimport Button from 'src/components/Button';\nimport SyntaxHighlighterCopy from 'src/views/CRUD/data/components/SyntaxHighlighterCopy';\nimport withToasts from 'src/messageToasts/enhancers/withToasts';\nimport { useQueryPreviewState } from 'src/views/CRUD/data/hooks';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst QueryTitle = styled.div`\n  color: ${({ theme }) => theme.colors.secondary.light2};\n  font-size: ${({ theme }) => theme.typography.sizes.s - 1}px;\n  margin-bottom: 0;\n  text-transform: uppercase;\n`;\nconst QueryLabel = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\n  font-size: ${({ theme }) => theme.typography.sizes.m - 1}px;\n  padding: 4px 0 16px 0;\n`;\nconst StyledModal = styled(Modal)`\n  .ant-modal-content {\n  }\n\n  .ant-modal-body {\n    padding: 24px;\n  }\n\n  pre {\n    font-size: ${({ theme }) => theme.typography.sizes.xs}px;\n    font-weight: ${({ theme }) => theme.typography.weights.normal};\n    line-height: ${({ theme }) => theme.typography.sizes.l}px;\n    height: 375px;\n    border: none;\n  }\n`;\nconst SavedQueryPreviewModal = ({ fetchData, onHide, openInSqlLab, queries, savedQuery, show, addDangerToast, addSuccessToast }) => {\n  const { handleKeyPress, handleDataChange, disablePrevious, disableNext } = useQueryPreviewState({\n    queries,\n    currentQueryId: savedQuery.id,\n    fetchData });\n\n  return ___EmotionJSX(\"div\", { role: \"none\", onKeyUp: handleKeyPress },\n  ___EmotionJSX(StyledModal, { onHide: onHide, show: show, title: t('Query preview'), footer: [\n    ___EmotionJSX(Button, { \"data-test\": \"previous-saved-query\", key: \"previous-saved-query\", disabled: disablePrevious, onClick: () => handleDataChange(true) },\n    t('Previous')),\n\n    ___EmotionJSX(Button, { \"data-test\": \"next-saved-query\", key: \"next-saved-query\", disabled: disableNext, onClick: () => handleDataChange(false) },\n    t('Next')),\n\n    ___EmotionJSX(Button, { \"data-test\": \"open-in-sql-lab\", key: \"open-in-sql-lab\", buttonStyle: \"primary\", onClick: () => openInSqlLab(savedQuery.id) },\n    t('Open in SQL Lab'))] },\n\n\n  ___EmotionJSX(QueryTitle, null, t('Query name')),\n  ___EmotionJSX(QueryLabel, null, savedQuery.label),\n  ___EmotionJSX(SyntaxHighlighterCopy, { language: \"sql\", addDangerToast: addDangerToast, addSuccessToast: addSuccessToast },\n  savedQuery.sql || '')));\n\n\n\n};__signature__(SavedQueryPreviewModal, \"useQueryPreviewState{{ handleKeyPress, handleDataChange, disablePrevious, disableNext, }}\", () => [useQueryPreviewState]);const _default =\nwithToasts(SavedQueryPreviewModal);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(QueryTitle, \"QueryTitle\", \"/app/superset-frontend/src/views/CRUD/data/savedquery/SavedQueryPreviewModal.tsx\");reactHotLoader.register(QueryLabel, \"QueryLabel\", \"/app/superset-frontend/src/views/CRUD/data/savedquery/SavedQueryPreviewModal.tsx\");reactHotLoader.register(StyledModal, \"StyledModal\", \"/app/superset-frontend/src/views/CRUD/data/savedquery/SavedQueryPreviewModal.tsx\");reactHotLoader.register(SavedQueryPreviewModal, \"SavedQueryPreviewModal\", \"/app/superset-frontend/src/views/CRUD/data/savedquery/SavedQueryPreviewModal.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/views/CRUD/data/savedquery/SavedQueryPreviewModal.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/views/CRUD/data/savedquery/SavedQueryPreviewModal.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { FunctionComponent } from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport Modal from 'src/components/Modal';\nimport Button from 'src/components/Button';\nimport SyntaxHighlighterCopy from 'src/views/CRUD/data/components/SyntaxHighlighterCopy';\nimport withToasts, { ToastProps } from 'src/messageToasts/enhancers/withToasts';\nimport { useQueryPreviewState } from 'src/views/CRUD/data/hooks';\n\nconst QueryTitle = styled.div`\n  color: ${({ theme }) => theme.colors.secondary.light2};\n  font-size: ${({ theme }) => theme.typography.sizes.s - 1}px;\n  margin-bottom: 0;\n  text-transform: uppercase;\n`;\n\nconst QueryLabel = styled.div`\n  color: ${({ theme }) => theme.colors.grayscale.dark2};\n  font-size: ${({ theme }) => theme.typography.sizes.m - 1}px;\n  padding: 4px 0 16px 0;\n`;\n\nconst StyledModal = styled(Modal)`\n  .ant-modal-content {\n  }\n\n  .ant-modal-body {\n    padding: 24px;\n  }\n\n  pre {\n    font-size: ${({ theme }) => theme.typography.sizes.xs}px;\n    font-weight: ${({ theme }) => theme.typography.weights.normal};\n    line-height: ${({ theme }) => theme.typography.sizes.l}px;\n    height: 375px;\n    border: none;\n  }\n`;\n\ntype SavedQueryObject = {\n  id: number;\n  label: string;\n  sql: string;\n};\n\ninterface SavedQueryPreviewModalProps extends ToastProps {\n  fetchData: (id: number) => {};\n  onHide: () => void;\n  openInSqlLab: (id: number) => {};\n  queries: Array<SavedQueryObject>;\n  savedQuery: SavedQueryObject;\n  show: boolean;\n}\n\nconst SavedQueryPreviewModal: FunctionComponent<SavedQueryPreviewModalProps> = ({\n  fetchData,\n  onHide,\n  openInSqlLab,\n  queries,\n  savedQuery,\n  show,\n  addDangerToast,\n  addSuccessToast,\n}) => {\n  const {\n    handleKeyPress,\n    handleDataChange,\n    disablePrevious,\n    disableNext,\n  } = useQueryPreviewState<SavedQueryObject>({\n    queries,\n    currentQueryId: savedQuery.id,\n    fetchData,\n  });\n\n  return (\n    <div role=\"none\" onKeyUp={handleKeyPress}>\n      <StyledModal\n        onHide={onHide}\n        show={show}\n        title={t('Query preview')}\n        footer={[\n          <Button\n            data-test=\"previous-saved-query\"\n            key=\"previous-saved-query\"\n            disabled={disablePrevious}\n            onClick={() => handleDataChange(true)}\n          >\n            {t('Previous')}\n          </Button>,\n          <Button\n            data-test=\"next-saved-query\"\n            key=\"next-saved-query\"\n            disabled={disableNext}\n            onClick={() => handleDataChange(false)}\n          >\n            {t('Next')}\n          </Button>,\n          <Button\n            data-test=\"open-in-sql-lab\"\n            key=\"open-in-sql-lab\"\n            buttonStyle=\"primary\"\n            onClick={() => openInSqlLab(savedQuery.id)}\n          >\n            {t('Open in SQL Lab')}\n          </Button>,\n        ]}\n      >\n        <QueryTitle>{t('Query name')}</QueryTitle>\n        <QueryLabel>{savedQuery.label}</QueryLabel>\n        <SyntaxHighlighterCopy\n          language=\"sql\"\n          addDangerToast={addDangerToast}\n          addSuccessToast={addSuccessToast}\n        >\n          {savedQuery.sql || ''}\n        </SyntaxHighlighterCopy>\n      </StyledModal>\n    </div>\n  );\n};\n\nexport default withToasts(SavedQueryPreviewModal);\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}