{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport Icon from 'src/components/Icon';\nimport copyTextToClipboard from 'src/utils/copy';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\nconst SyntaxHighlighterWrapper = styled.div`\n  margin-top: -24px;\n\n  &:hover {\n    svg {\n      visibility: visible;\n    }\n  }\n\n  svg {\n    position: relative;\n    top: 40px;\n    left: 512px;\n    visibility: hidden;\n    margin: -4px;\n  }\n`;\nexport default function SyntaxHighlighterCopy({ addDangerToast, addSuccessToast, children, ...syntaxHighlighterProps }) {\n  function copyToClipboard(textToCopy) {\n    copyTextToClipboard(textToCopy).\n    then(() => {\n      if (addSuccessToast) {\n        addSuccessToast(t('SQL Copied!'));\n      }\n    }).\n    catch(() => {\n      if (addDangerToast) {\n        addDangerToast(t('Sorry, your browser does not support copying.'));\n      }\n    });\n  }\n  return ___EmotionJSX(SyntaxHighlighterWrapper, null,\n  ___EmotionJSX(Icon, { tabIndex: 0, name: \"copy\", role: \"button\", onClick: e => {\n      e.preventDefault();\n      e.currentTarget.blur();\n      copyToClipboard(children);\n    } }),\n  ___EmotionJSX(SyntaxHighlighter, _extends({ style: github }, syntaxHighlighterProps),\n  children));\n\n\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SyntaxHighlighterWrapper, \"SyntaxHighlighterWrapper\", \"/app/superset-frontend/src/views/CRUD/data/components/SyntaxHighlighterCopy/index.tsx\");reactHotLoader.register(SyntaxHighlighterCopy, \"SyntaxHighlighterCopy\", \"/app/superset-frontend/src/views/CRUD/data/components/SyntaxHighlighterCopy/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/views/CRUD/data/components/SyntaxHighlighterCopy/index.tsx"],"names":[],"mappings":"sWAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,MAAT,EAAiB,CAAjB,QAA0B,mBAA1B;AAEA,OAAO,SAAP,MAAsB,sDAAtB;AACA,OAAO,UAAP,MAAuB,2DAAvB;AACA,OAAO,cAAP,MAA2B,2DAA3B;AACA,OAAO,UAAP,MAAuB,uDAAvB;AACA,OAAO,MAAP,MAAmB,sDAAnB;AACA,OAAO,iBAAP,MAA8B,yCAA9B;AAEA,OAAO,IAAP,MAAiB,qBAAjB;AACA,OAAO,mBAAP,MAAgC,gBAAhC,C;AAEA,iBAAiB,CAAC,gBAAlB,CAAmC,KAAnC,EAA0C,SAA1C;AACA,iBAAiB,CAAC,gBAAlB,CAAmC,UAAnC,EAA+C,cAA/C;AACA,iBAAiB,CAAC,gBAAlB,CAAmC,MAAnC,EAA2C,UAA3C;AACA,iBAAiB,CAAC,gBAAlB,CAAmC,MAAnC,EAA2C,UAA3C;AAEA,MAAM,wBAAwB,GAAG,MAAM,CAAC,GAAG;;;;;;;;;;;;;;;;AAgB1C,CAhBD;AAkBA,eAAc,SAAU,qBAAV,CAAgC,EAC5C,cAD4C,EAE5C,eAF4C,EAG5C,QAH4C,EAI5C,GAAG,sBAJyC,EAAhC,EAUb;AACC,WAAS,eAAT,CAAyB,UAAzB,EAA2C;AACzC,IAAA,mBAAmB,CAAC,UAAD,CAAnB;AACG,IAAA,IADH,CACQ,MAAK;AACT,UAAI,eAAJ,EAAqB;AACnB,QAAA,eAAe,CAAC,CAAC,CAAC,aAAD,CAAF,CAAf;AACD;AACF,KALH;AAMG,IAAA,KANH,CAMS,MAAK;AACV,UAAI,cAAJ,EAAoB;AAClB,QAAA,cAAc,CAAC,CAAC,CAAC,+CAAD,CAAF,CAAd;AACD;AACF,KAVH;AAWD;AACD,SACE,cAAC,wBAAD;AACE,gBAAC,IAAD,IACE,QAAQ,EAAE,CADZ,EAEE,IAAI,EAAC,MAFP,EAGE,IAAI,EAAC,QAHP,EAIE,OAAO,EAAE,CAAC,IAAG;AACX,MAAA,CAAC,CAAC,cAAF;AACA,MAAA,CAAC,CAAC,aAAF,CAAgB,IAAhB;AACA,MAAA,eAAe,CAAC,QAAD,CAAf;AACD,KARH,GADF;AAWE,gBAAC,iBAAD,aAAmB,KAAK,EAAE,MAA1B,IAAsC,sBAAtC;AACG,EAAA,QADH,CAXF,CADF;;;AAiBD,C,iLA3DK,wB,+IAkBkB,qB","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport { SyntaxHighlighterProps } from 'react-syntax-highlighter';\nimport sqlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport htmlSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/htmlbars';\nimport markdownSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/markdown';\nimport jsonSyntax from 'react-syntax-highlighter/dist/cjs/languages/hljs/json';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport { ToastProps } from 'src/messageToasts/enhancers/withToasts';\nimport Icon from 'src/components/Icon';\nimport copyTextToClipboard from 'src/utils/copy';\n\nSyntaxHighlighter.registerLanguage('sql', sqlSyntax);\nSyntaxHighlighter.registerLanguage('markdown', markdownSyntax);\nSyntaxHighlighter.registerLanguage('html', htmlSyntax);\nSyntaxHighlighter.registerLanguage('json', jsonSyntax);\n\nconst SyntaxHighlighterWrapper = styled.div`\n  margin-top: -24px;\n\n  &:hover {\n    svg {\n      visibility: visible;\n    }\n  }\n\n  svg {\n    position: relative;\n    top: 40px;\n    left: 512px;\n    visibility: hidden;\n    margin: -4px;\n  }\n`;\n\nexport default function SyntaxHighlighterCopy({\n  addDangerToast,\n  addSuccessToast,\n  children,\n  ...syntaxHighlighterProps\n}: SyntaxHighlighterProps & {\n  children: string;\n  addDangerToast?: ToastProps['addDangerToast'];\n  addSuccessToast?: ToastProps['addSuccessToast'];\n  language: 'sql' | 'markdown' | 'html' | 'json';\n}) {\n  function copyToClipboard(textToCopy: string) {\n    copyTextToClipboard(textToCopy)\n      .then(() => {\n        if (addSuccessToast) {\n          addSuccessToast(t('SQL Copied!'));\n        }\n      })\n      .catch(() => {\n        if (addDangerToast) {\n          addDangerToast(t('Sorry, your browser does not support copying.'));\n        }\n      });\n  }\n  return (\n    <SyntaxHighlighterWrapper>\n      <Icon\n        tabIndex={0}\n        name=\"copy\"\n        role=\"button\"\n        onClick={e => {\n          e.preventDefault();\n          e.currentTarget.blur();\n          copyToClipboard(children);\n        }}\n      />\n      <SyntaxHighlighter style={github} {...syntaxHighlighterProps}>\n        {children}\n      </SyntaxHighlighter>\n    </SyntaxHighlighterWrapper>\n  );\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}