{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { useUrlShortener } from 'src/common/hooks/useUrlShortener';\nimport copyTextToClipboard from 'src/utils/copy';\nimport { t } from '@superset-ui/core';\nimport { Menu } from 'src/common/components';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst ShareMenuItems = props => {\n  const { url, copyMenuItemTitle, emailMenuItemTitle, emailSubject, emailBody, addDangerToast, addSuccessToast, ...rest } = props;\n  const getShortUrl = useUrlShortener(url);\n  async function onCopyLink() {\n    try {\n      const shortUrl = await getShortUrl();\n      await copyTextToClipboard(shortUrl);\n      addSuccessToast(t('Copied to clipboard!'));\n    }\n    catch (error) {\n      addDangerToast(t('Sorry, your browser does not support copying.'));\n    }\n  }\n  async function onShareByEmail() {\n    try {\n      const shortUrl = await getShortUrl();\n      const bodyWithLink = `${emailBody}${shortUrl}`;\n      window.location.href = `mailto:?Subject=${emailSubject}%20&Body=${bodyWithLink}`;\n    }\n    catch (error) {\n      addDangerToast(t('Sorry, something went wrong. Try again later.'));\n    }\n  }\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(Menu.Item, _extends({ key: \"copy-url\" }, rest),\n  ___EmotionJSX(\"div\", { onClick: onCopyLink, role: \"button\", tabIndex: 0 },\n  copyMenuItemTitle)),\n\n\n  ___EmotionJSX(Menu.Item, _extends({ key: \"share-by-email\" }, rest),\n  ___EmotionJSX(\"div\", { onClick: onShareByEmail, role: \"button\", tabIndex: 0 },\n  emailMenuItemTitle)));\n\n\n\n};__signature__(ShareMenuItems, \"useUrlShortener{getShortUrl}\", () => [useUrlShortener]);const _default =\nShareMenuItems;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ShareMenuItems, \"ShareMenuItems\", \"/app/superset-frontend/src/dashboard/components/menu/ShareMenuItems/index.tsx\");reactHotLoader.register(_default, \"default\", \"/app/superset-frontend/src/dashboard/components/menu/ShareMenuItems/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/dashboard/components/menu/ShareMenuItems/index.tsx"],"names":[],"mappings":"sWAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,OAAO,KAAP,MAAkB,OAAlB;AACA,SAAS,eAAT,QAAgC,kCAAhC;AACA,OAAO,mBAAP,MAAgC,gBAAhC;AACA,SAAS,CAAT,QAAkB,mBAAlB;AACA,SAAS,IAAT,QAAqB,uBAArB,C;AAYA,MAAM,cAAc,GAAI,KAAD,IAA8B;AACnD,QAAM,EACJ,GADI,EAEJ,iBAFI,EAGJ,kBAHI,EAIJ,YAJI,EAKJ,SALI,EAMJ,cANI,EAOJ,eAPI,EAQJ,GAAG,IARC,KASF,KATJ;AAWA,QAAM,WAAW,GAAG,eAAe,CAAC,GAAD,CAAnC;AAEA,iBAAe,UAAf,GAAyB;AACvB,QAAI;AACF,YAAM,QAAQ,GAAG,MAAM,WAAW,EAAlC;AACA,YAAM,mBAAmB,CAAC,QAAD,CAAzB;AACA,MAAA,eAAe,CAAC,CAAC,CAAC,sBAAD,CAAF,CAAf;AACD;AAAC,WAAO,KAAP,EAAc;AACd,MAAA,cAAc,CAAC,CAAC,CAAC,+CAAD,CAAF,CAAd;AACD;AACF;AAED,iBAAe,cAAf,GAA6B;AAC3B,QAAI;AACF,YAAM,QAAQ,GAAG,MAAM,WAAW,EAAlC;AACA,YAAM,YAAY,GAAG,GAAG,SAAS,GAAG,QAAQ,EAA5C;AACA,MAAA,MAAM,CAAC,QAAP,CAAgB,IAAhB,GAAuB,mBAAmB,YAAY,YAAY,YAAY,EAA9E;AACD;AAAC,WAAO,KAAP,EAAc;AACd,MAAA,cAAc,CAAC,CAAC,CAAC,+CAAD,CAAF,CAAd;AACD;AACF;AAED,SACE;AACE,gBAAC,IAAD,CAAM,IAAN,aAAW,GAAG,EAAC,UAAf,IAA8B,IAA9B;AACE,yBAAK,OAAO,EAAE,UAAd,EAA0B,IAAI,EAAC,QAA/B,EAAwC,QAAQ,EAAE,CAAlD;AACG,EAAA,iBADH,CADF,CADF;;;AAME,gBAAC,IAAD,CAAM,IAAN,aAAW,GAAG,EAAC,gBAAf,IAAoC,IAApC;AACE,yBAAK,OAAO,EAAE,cAAd,EAA8B,IAAI,EAAC,QAAnC,EAA4C,QAAQ,EAAE,CAAtD;AACG,EAAA,kBADH,CADF,CANF,CADF;;;;AAcD,CAhDD,C,cAAM,c,yCAYgB,e;AAsCP,c,CAAf,wB,iLAlDM,c","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { useUrlShortener } from 'src/common/hooks/useUrlShortener';\nimport copyTextToClipboard from 'src/utils/copy';\nimport { t } from '@superset-ui/core';\nimport { Menu } from 'src/common/components';\n\ninterface ShareMenuItemProps {\n  url: string;\n  copyMenuItemTitle: string;\n  emailMenuItemTitle: string;\n  emailSubject: string;\n  emailBody: string;\n  addDangerToast: Function;\n  addSuccessToast: Function;\n}\n\nconst ShareMenuItems = (props: ShareMenuItemProps) => {\n  const {\n    url,\n    copyMenuItemTitle,\n    emailMenuItemTitle,\n    emailSubject,\n    emailBody,\n    addDangerToast,\n    addSuccessToast,\n    ...rest\n  } = props;\n\n  const getShortUrl = useUrlShortener(url);\n\n  async function onCopyLink() {\n    try {\n      const shortUrl = await getShortUrl();\n      await copyTextToClipboard(shortUrl);\n      addSuccessToast(t('Copied to clipboard!'));\n    } catch (error) {\n      addDangerToast(t('Sorry, your browser does not support copying.'));\n    }\n  }\n\n  async function onShareByEmail() {\n    try {\n      const shortUrl = await getShortUrl();\n      const bodyWithLink = `${emailBody}${shortUrl}`;\n      window.location.href = `mailto:?Subject=${emailSubject}%20&Body=${bodyWithLink}`;\n    } catch (error) {\n      addDangerToast(t('Sorry, something went wrong. Try again later.'));\n    }\n  }\n\n  return (\n    <>\n      <Menu.Item key=\"copy-url\" {...rest}>\n        <div onClick={onCopyLink} role=\"button\" tabIndex={0}>\n          {copyMenuItemTitle}\n        </div>\n      </Menu.Item>\n      <Menu.Item key=\"share-by-email\" {...rest}>\n        <div onClick={onShareByEmail} role=\"button\" tabIndex={0}>\n          {emailMenuItemTitle}\n        </div>\n      </Menu.Item>\n    </>\n  );\n};\n\nexport default ShareMenuItems;\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}