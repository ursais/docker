{"ast":null,"code":"import \"core-js/modules/web.dom-collections.iterator.js\";import _Array$isArray from \"@babel/runtime-corejs3/core-js-stable/array/is-array\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useMemo } from 'react';\nimport moment from 'moment';\nimport { styled } from '@superset-ui/core';\nimport { RangePicker as AntRangePicker } from 'src/components/DatePicker';\nimport { FilterContainer, FilterTitle } from './Base';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst RangePicker = styled(AntRangePicker)`\n  padding: 0 11px;\n  transform: translateX(-7px);\n`;\nconst RangeFilterContainer = styled(FilterContainer)`\n  margin-right: 1em;\n`;\nexport default function DateRangeFilter({ Header, initialValue, onSubmit }) {\n  const [value, setValue] = useState(initialValue != null ? initialValue : null);\n  const momentValue = useMemo(() => {\n    if (!value || _Array$isArray(value) && !value.length)\n    return null;\n    return [moment(value[0]), moment(value[1])];\n  }, [value]);\n  return ___EmotionJSX(RangeFilterContainer, null,\n  ___EmotionJSX(FilterTitle, null, Header, \":\"),\n  ___EmotionJSX(RangePicker, { showTime: true, bordered: false, value: momentValue, onChange: momentRange => {var _momentRange$0$valueO, _momentRange$, _momentRange$1$valueO, _momentRange$2;\n      if (!momentRange) {\n        setValue(null);\n        onSubmit([]);\n        return;\n      }\n      const changeValue = [(_momentRange$0$valueO = (_momentRange$ =\n      momentRange[0]) == null ? void 0 : _momentRange$.valueOf()) != null ? _momentRange$0$valueO : 0, (_momentRange$1$valueO = (_momentRange$2 =\n      momentRange[1]) == null ? void 0 : _momentRange$2.valueOf()) != null ? _momentRange$1$valueO : 0];\n\n      setValue(changeValue);\n      onSubmit(changeValue);\n    } }));\n\n}__signature__(DateRangeFilter, \"useState{[value, setValue](initialValue ?? null)}\\nuseMemo{momentValue}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(RangePicker, \"RangePicker\", \"/app/superset-frontend/src/components/ListView/Filters/DateRange.tsx\");reactHotLoader.register(RangeFilterContainer, \"RangeFilterContainer\", \"/app/superset-frontend/src/components/ListView/Filters/DateRange.tsx\");reactHotLoader.register(DateRangeFilter, \"DateRangeFilter\", \"/app/superset-frontend/src/components/ListView/Filters/DateRange.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"sources":["/app/superset-frontend/src/components/ListView/Filters/DateRange.tsx"],"names":[],"mappings":"mbAAA;;;;;;;;;;;;;;;;;AAiBG;AACH,OAAO,KAAP,IAAgB,QAAhB,EAA0B,OAA1B,QAAyC,OAAzC;AACA,OAAO,MAAP,MAA+B,QAA/B;AACA,SAAS,MAAT,QAAuB,mBAAvB;AACA,SAAS,WAAW,IAAI,cAAxB,QAA8C,2BAA9C;AACA,SAAS,eAAT,EAAsC,WAAtC,QAAyD,QAAzD,C;AASA,MAAM,WAAW,GAAG,MAAM,CAAC,cAAD,CAAgB;;;AAGzC,CAHD;AAKA,MAAM,oBAAoB,GAAG,MAAM,CAAC,eAAD,CAAiB;;AAEnD,CAFD;AAIA,eAAc,SAAU,eAAV,CAA0B,EACtC,MADsC,EAEtC,YAFsC,EAGtC,QAHsC,EAA1B,EAIS;AACrB,QAAM,CAAC,KAAD,EAAQ,QAAR,IAAoB,QAAQ,CAAoB,YAApB,WAAoB,YAApB,GAAoC,IAApC,CAAlC;AACA,QAAM,WAAW,GAAG,OAAO,CAAC,MAA8B;AACxD,QAAI,CAAC,KAAD,IAAW,eAAc,KAAd,KAAwB,CAAC,KAAK,CAAC,MAA9C;AAAuD,WAAO,IAAP;AACvD,WAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAD,CAAN,CAAP,EAAmB,MAAM,CAAC,KAAK,CAAC,CAAD,CAAN,CAAzB,CAAP;AACD,GAH0B,EAGxB,CAAC,KAAD,CAHwB,CAA3B;AAKA,SACE,cAAC,oBAAD;AACE,gBAAC,WAAD,QAAc,MAAd,MADF;AAEE,gBAAC,WAAD,IACE,QAAQ,MADV,EAEE,QAAQ,EAAE,KAFZ,EAGE,KAAK,EAAE,WAHT,EAIE,QAAQ,EAAE,WAAW,IAAG;AACtB,UAAI,CAAC,WAAL,EAAkB;AAChB,QAAA,QAAQ,CAAC,IAAD,CAAR;AACA,QAAA,QAAQ,CAAC,EAAD,CAAR;AACA;AACD;AACD,YAAM,WAAW,GAAG;AAClB,MAAA,WAAW,CAAC,CAAD,CADO,qBAClB,cAAgB,OAAhB,EADkB,oCACW,CADX;AAElB,MAAA,WAAW,CAAC,CAAD,CAFO,qBAElB,eAAgB,OAAhB,EAFkB,oCAEW,CAFX,CAApB;;AAIA,MAAA,QAAQ,CAAC,WAAD,CAAR;AACA,MAAA,QAAQ,CAAC,WAAD,CAAR;AACD,KAhBH,GAFF,CADF;;AAuBD,C,cAlCuB,e,8PATlB,W,iHAKA,oB,0HAIkB,e","sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useMemo } from 'react';\nimport moment, { Moment } from 'moment';\nimport { styled } from '@superset-ui/core';\nimport { RangePicker as AntRangePicker } from 'src/components/DatePicker';\nimport { FilterContainer, BaseFilter, FilterTitle } from './Base';\n\ninterface DateRangeFilterProps extends BaseFilter {\n  onSubmit: (val: number[]) => void;\n  name: string;\n}\n\ntype ValueState = [number, number];\n\nconst RangePicker = styled(AntRangePicker)`\n  padding: 0 11px;\n  transform: translateX(-7px);\n`;\n\nconst RangeFilterContainer = styled(FilterContainer)`\n  margin-right: 1em;\n`;\n\nexport default function DateRangeFilter({\n  Header,\n  initialValue,\n  onSubmit,\n}: DateRangeFilterProps) {\n  const [value, setValue] = useState<ValueState | null>(initialValue ?? null);\n  const momentValue = useMemo((): [Moment, Moment] | null => {\n    if (!value || (Array.isArray(value) && !value.length)) return null;\n    return [moment(value[0]), moment(value[1])];\n  }, [value]);\n\n  return (\n    <RangeFilterContainer>\n      <FilterTitle>{Header}:</FilterTitle>\n      <RangePicker\n        showTime\n        bordered={false}\n        value={momentValue}\n        onChange={momentRange => {\n          if (!momentRange) {\n            setValue(null);\n            onSubmit([]);\n            return;\n          }\n          const changeValue = [\n            momentRange[0]?.valueOf() ?? 0,\n            momentRange[1]?.valueOf() ?? 0,\n          ] as ValueState;\n          setValue(changeValue);\n          onSubmit(changeValue);\n        }}\n      />\n    </RangeFilterContainer>\n  );\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}