(window["webpackJsonp"] = window["webpackJsonp"] || []).push([[193],{

/***/ "./src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx":
/*!************************************************************************************!*\
  !*** ./src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx ***!
  \************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* WEBPACK VAR INJECTION */(function(module) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return AnnotationLayer; });\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/concat */ \"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/concat.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/find */ \"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/find.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/for-each */ \"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/for-each.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_entries__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/entries */ \"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/entries.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_entries__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_entries__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/filter */ \"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/filter.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/map */ \"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/map.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/bind */ \"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/bind.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @babel/runtime-corejs3/core-js-stable/instance/includes */ \"./node_modules/@babel/runtime-corejs3/core-js-stable/instance/includes.js\");\n/* harmony import */ var _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! prop-types */ \"./node_modules/prop-types/index.js\");\n/* harmony import */ var prop_types__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(prop_types__WEBPACK_IMPORTED_MODULE_9__);\n/* harmony import */ var react_color__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! react-color */ \"./node_modules/react-color/lib/index.js\");\n/* harmony import */ var react_color__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(react_color__WEBPACK_IMPORTED_MODULE_10__);\n/* harmony import */ var src_components_Button__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! src/components/Button */ \"./src/components/Button/index.tsx\");\n/* harmony import */ var mathjs__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! mathjs */ \"./node_modules/mathjs/lib/esm/entry/impureFunctionsAny.generated.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! @superset-ui/core */ \"./node_modules/@superset-ui/core/esm/chart/registries/ChartMetadataRegistrySingleton.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @superset-ui/core */ \"./node_modules/@superset-ui/core/esm/validator/validateNonEmpty.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! @superset-ui/core */ \"./node_modules/@superset-ui/core/esm/connection/SupersetClient.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! @superset-ui/core */ \"./node_modules/@superset-ui/core/esm/translation/TranslatorSingleton.js\");\n/* harmony import */ var _superset_ui_core__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! @superset-ui/core */ \"./node_modules/@superset-ui/core/esm/color/CategoricalSchemeRegistrySingleton.js\");\n/* harmony import */ var src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! src/explore/components/controls/SelectControl */ \"./src/explore/components/controls/SelectControl.jsx\");\n/* harmony import */ var src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! src/explore/components/controls/TextControl */ \"./src/explore/components/controls/TextControl/index.tsx\");\n/* harmony import */ var src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! src/explore/components/controls/CheckboxControl */ \"./src/explore/components/controls/CheckboxControl.jsx\");\n/* harmony import */ var src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! src/modules/AnnotationTypes */ \"./src/modules/AnnotationTypes.js\");\n/* harmony import */ var src_components_PopoverSection__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! src/components/PopoverSection */ \"./src/components/PopoverSection/index.tsx\");\n/* harmony import */ var src_explore_components_ControlHeader__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! src/explore/components/ControlHeader */ \"./src/explore/components/ControlHeader.jsx\");\n/* harmony import */ var _emotion_react__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! @emotion/react */ \"./node_modules/@emotion/react/dist/emotion-react.browser.esm.js\");\n(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();function _EMOTION_STRINGIFIED_CSS_ERROR__() {return \"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop).\";}var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nconst AUTOMATIC_COLOR = '';\n\nconst propTypes = {\n  name: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  annotationType: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  sourceType: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  color: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  opacity: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  style: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  width: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number,\n  showMarkers: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,\n  hideLine: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,\n  value: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.oneOfType([prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string, prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.number]),\n  overrides: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.object,\n  show: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.bool,\n  titleColumn: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  descriptionColumns: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.arrayOf(prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string),\n  timeColumn: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  intervalEndColumn: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  vizType: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n\n  error: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n  colorScheme: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.string,\n\n  addAnnotationLayer: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,\n  removeAnnotationLayer: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,\n  close: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func,\n\n  onPopoverClear: prop_types__WEBPACK_IMPORTED_MODULE_9___default.a.func };\n\n\nconst defaultProps = {\n  name: '',\n  annotationType: src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"DEFAULT_ANNOTATION_TYPE\"],\n  sourceType: '',\n  color: AUTOMATIC_COLOR,\n  opacity: '',\n  style: 'solid',\n  width: 1,\n  showMarkers: false,\n  hideLine: false,\n  overrides: {},\n  colorScheme: 'd3Category10',\n  show: true,\n  titleColumn: '',\n  descriptionColumns: [],\n  timeColumn: '',\n  intervalEndColumn: '',\n\n  addAnnotationLayer: () => {},\n  removeAnnotationLayer: () => {},\n  close: () => {},\n  onPopoverClear: () => {} };var _ref =  false ? undefined : { name: \"1jn9azd-AnnotationLayer\", styles: \"overflow:hidden;text-overflow:ellipsis;white-space:nowrap;label:AnnotationLayer;\", map: \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9Bbm5vdGF0aW9uTGF5ZXJDb250cm9sL0Fubm90YXRpb25MYXllci5qc3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBb1hRIiwiZmlsZSI6Ii9hcHAvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9Bbm5vdGF0aW9uTGF5ZXJDb250cm9sL0Fubm90YXRpb25MYXllci5qc3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IENvbXBhY3RQaWNrZXIgfSBmcm9tICdyZWFjdC1jb2xvcic7XG5pbXBvcnQgQnV0dG9uIGZyb20gJ3NyYy9jb21wb25lbnRzL0J1dHRvbic7XG5pbXBvcnQgeyBwYXJzZSBhcyBtYXRoanNQYXJzZSB9IGZyb20gJ21hdGhqcyc7XG5pbXBvcnQge1xuICB0LFxuICBTdXBlcnNldENsaWVudCxcbiAgZ2V0Q2F0ZWdvcmljYWxTY2hlbWVSZWdpc3RyeSxcbiAgZ2V0Q2hhcnRNZXRhZGF0YVJlZ2lzdHJ5LFxuICB2YWxpZGF0ZU5vbkVtcHR5LFxufSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5cbmltcG9ydCBTZWxlY3RDb250cm9sIGZyb20gJ3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvU2VsZWN0Q29udHJvbCc7XG5pbXBvcnQgVGV4dENvbnRyb2wgZnJvbSAnc3JjL2V4cGxvcmUvY29tcG9uZW50cy9jb250cm9scy9UZXh0Q29udHJvbCc7XG5pbXBvcnQgQ2hlY2tib3hDb250cm9sIGZyb20gJ3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvQ2hlY2tib3hDb250cm9sJztcbmltcG9ydCB7XG4gIEFOTk9UQVRJT05fU09VUkNFX1RZUEVTLFxuICBBTk5PVEFUSU9OX1RZUEVTLFxuICBBTk5PVEFUSU9OX1RZUEVTX01FVEFEQVRBLFxuICBERUZBVUxUX0FOTk9UQVRJT05fVFlQRSxcbiAgcmVxdWlyZXNRdWVyeSxcbiAgQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVNfTUVUQURBVEEsXG59IGZyb20gJ3NyYy9tb2R1bGVzL0Fubm90YXRpb25UeXBlcyc7XG5pbXBvcnQgUG9wb3ZlclNlY3Rpb24gZnJvbSAnc3JjL2NvbXBvbmVudHMvUG9wb3ZlclNlY3Rpb24nO1xuaW1wb3J0IENvbnRyb2xIZWFkZXIgZnJvbSAnc3JjL2V4cGxvcmUvY29tcG9uZW50cy9Db250cm9sSGVhZGVyJztcblxuY29uc3QgQVVUT01BVElDX0NPTE9SID0gJyc7XG5cbmNvbnN0IHByb3BUeXBlcyA9IHtcbiAgbmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgYW5ub3RhdGlvblR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHNvdXJjZVR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNvbG9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBvcGFjaXR5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgd2lkdGg6IFByb3BUeXBlcy5udW1iZXIsXG4gIHNob3dNYXJrZXJzOiBQcm9wVHlwZXMuYm9vbCxcbiAgaGlkZUxpbmU6IFByb3BUeXBlcy5ib29sLFxuICB2YWx1ZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pLFxuICBvdmVycmlkZXM6IFByb3BUeXBlcy5vYmplY3QsXG4gIHNob3c6IFByb3BUeXBlcy5ib29sLFxuICB0aXRsZUNvbHVtbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGVzY3JpcHRpb25Db2x1bW5zOiBQcm9wVHlwZXMuYXJyYXlPZihQcm9wVHlwZXMuc3RyaW5nKSxcbiAgdGltZUNvbHVtbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgaW50ZXJ2YWxFbmRDb2x1bW46IFByb3BUeXBlcy5zdHJpbmcsXG4gIHZpelR5cGU6IFByb3BUeXBlcy5zdHJpbmcsXG5cbiAgZXJyb3I6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNvbG9yU2NoZW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIGFkZEFubm90YXRpb25MYXllcjogUHJvcFR5cGVzLmZ1bmMsXG4gIHJlbW92ZUFubm90YXRpb25MYXllcjogUHJvcFR5cGVzLmZ1bmMsXG4gIGNsb3NlOiBQcm9wVHlwZXMuZnVuYyxcblxuICBvblBvcG92ZXJDbGVhcjogUHJvcFR5cGVzLmZ1bmMsXG59O1xuXG5jb25zdCBkZWZhdWx0UHJvcHMgPSB7XG4gIG5hbWU6ICcnLFxuICBhbm5vdGF0aW9uVHlwZTogREVGQVVMVF9BTk5PVEFUSU9OX1RZUEUsXG4gIHNvdXJjZVR5cGU6ICcnLFxuICBjb2xvcjogQVVUT01BVElDX0NPTE9SLFxuICBvcGFjaXR5OiAnJyxcbiAgc3R5bGU6ICdzb2xpZCcsXG4gIHdpZHRoOiAxLFxuICBzaG93TWFya2VyczogZmFsc2UsXG4gIGhpZGVMaW5lOiBmYWxzZSxcbiAgb3ZlcnJpZGVzOiB7fSxcbiAgY29sb3JTY2hlbWU6ICdkM0NhdGVnb3J5MTAnLFxuICBzaG93OiB0cnVlLFxuICB0aXRsZUNvbHVtbjogJycsXG4gIGRlc2NyaXB0aW9uQ29sdW1uczogW10sXG4gIHRpbWVDb2x1bW46ICcnLFxuICBpbnRlcnZhbEVuZENvbHVtbjogJycsXG5cbiAgYWRkQW5ub3RhdGlvbkxheWVyOiAoKSA9PiB7fSxcbiAgcmVtb3ZlQW5ub3RhdGlvbkxheWVyOiAoKSA9PiB7fSxcbiAgY2xvc2U6ICgpID0+IHt9LFxuICBvblBvcG92ZXJDbGVhcjogKCkgPT4ge30sXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbm5vdGF0aW9uTGF5ZXIgZXh0ZW5kcyBSZWFjdC5QdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGFubm90YXRpb25UeXBlLFxuICAgICAgc291cmNlVHlwZSxcbiAgICAgIGNvbG9yLFxuICAgICAgb3BhY2l0eSxcbiAgICAgIHN0eWxlLFxuICAgICAgd2lkdGgsXG4gICAgICBzaG93TWFya2VycyxcbiAgICAgIGhpZGVMaW5lLFxuICAgICAgdmFsdWUsXG4gICAgICBvdmVycmlkZXMsXG4gICAgICBzaG93LFxuICAgICAgdGl0bGVDb2x1bW4sXG4gICAgICBkZXNjcmlwdGlvbkNvbHVtbnMsXG4gICAgICB0aW1lQ29sdW1uLFxuICAgICAgaW50ZXJ2YWxFbmRDb2x1bW4sXG4gICAgICB2aXpUeXBlLFxuICAgIH0gPSBwcm9wcztcblxuICAgIC8vIE9ubHkgYWxsb3cgb3ZlcnJpZGUgd2hvbGUgdGltZV9yYW5nZVxuICAgIGlmICgnc2luY2UnIGluIG92ZXJyaWRlcyB8fCAndW50aWwnIGluIG92ZXJyaWRlcykge1xuICAgICAgb3ZlcnJpZGVzLnRpbWVfcmFuZ2UgPSBudWxsO1xuICAgICAgZGVsZXRlIG92ZXJyaWRlcy5zaW5jZTtcbiAgICAgIGRlbGV0ZSBvdmVycmlkZXMudW50aWw7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgYW5ub3RhdGlvblR5cGUgaXMgc3VwcG9ydGVkIGJ5IHRoaXMgY2hhcnRcbiAgICBjb25zdCBtZXRhZGF0YSA9IGdldENoYXJ0TWV0YWRhdGFSZWdpc3RyeSgpLmdldCh2aXpUeXBlKTtcbiAgICBjb25zdCBzdXBwb3J0ZWRBbm5vdGF0aW9uVHlwZXMgPSBtZXRhZGF0YT8uc3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzIHx8IFtdO1xuICAgIGNvbnN0IHZhbGlkQW5ub3RhdGlvblR5cGUgPSBzdXBwb3J0ZWRBbm5vdGF0aW9uVHlwZXMuaW5jbHVkZXMoXG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICApXG4gICAgICA/IGFubm90YXRpb25UeXBlXG4gICAgICA6IHN1cHBvcnRlZEFubm90YXRpb25UeXBlc1swXTtcblxuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICAvLyBiYXNlXG4gICAgICBuYW1lLFxuICAgICAgYW5ub3RhdGlvblR5cGU6IHZhbGlkQW5ub3RhdGlvblR5cGUsXG4gICAgICBzb3VyY2VUeXBlLFxuICAgICAgdmFsdWUsXG4gICAgICBvdmVycmlkZXMsXG4gICAgICBzaG93LFxuICAgICAgLy8gc2xpY2VcbiAgICAgIHRpdGxlQ29sdW1uLFxuICAgICAgZGVzY3JpcHRpb25Db2x1bW5zLFxuICAgICAgdGltZUNvbHVtbixcbiAgICAgIGludGVydmFsRW5kQ29sdW1uLFxuICAgICAgLy8gZGlzcGxheVxuICAgICAgY29sb3I6IGNvbG9yIHx8IEFVVE9NQVRJQ19DT0xPUixcbiAgICAgIG9wYWNpdHksXG4gICAgICBzdHlsZSxcbiAgICAgIHdpZHRoLFxuICAgICAgc2hvd01hcmtlcnMsXG4gICAgICBoaWRlTGluZSxcbiAgICAgIC8vIHJlZkRhdGFcbiAgICAgIGlzTmV3OiAhbmFtZSxcbiAgICAgIGlzTG9hZGluZ09wdGlvbnM6IHRydWUsXG4gICAgICB2YWx1ZU9wdGlvbnM6IFtdLFxuICAgIH07XG4gICAgdGhpcy5zdWJtaXRBbm5vdGF0aW9uID0gdGhpcy5zdWJtaXRBbm5vdGF0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5kZWxldGVBbm5vdGF0aW9uID0gdGhpcy5kZWxldGVBbm5vdGF0aW9uLmJpbmQodGhpcyk7XG4gICAgdGhpcy5hcHBseUFubm90YXRpb24gPSB0aGlzLmFwcGx5QW5ub3RhdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZmV0Y2hPcHRpb25zID0gdGhpcy5mZXRjaE9wdGlvbnMuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUFubm90YXRpb25UeXBlID0gdGhpcy5oYW5kbGVBbm5vdGF0aW9uVHlwZS5iaW5kKHRoaXMpO1xuICAgIHRoaXMuaGFuZGxlQW5ub3RhdGlvblNvdXJjZVR5cGUgPSB0aGlzLmhhbmRsZUFubm90YXRpb25Tb3VyY2VUeXBlLmJpbmQoXG4gICAgICB0aGlzLFxuICAgICk7XG4gICAgdGhpcy5oYW5kbGVWYWx1ZSA9IHRoaXMuaGFuZGxlVmFsdWUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmlzVmFsaWRGb3JtID0gdGhpcy5pc1ZhbGlkRm9ybS5iaW5kKHRoaXMpO1xuICAgIHRoaXMucG9wb3ZlckNsZWFyV3JhcHBlciA9IHRoaXMucG9wb3ZlckNsZWFyV3JhcHBlci5iaW5kKHRoaXMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgY29uc3QgeyBhbm5vdGF0aW9uVHlwZSwgc291cmNlVHlwZSwgaXNMb2FkaW5nT3B0aW9ucyB9ID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLmZldGNoT3B0aW9ucyhhbm5vdGF0aW9uVHlwZSwgc291cmNlVHlwZSwgaXNMb2FkaW5nT3B0aW9ucyk7XG4gIH1cblxuICBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICBpZiAocHJldlN0YXRlLnNvdXJjZVR5cGUgIT09IHRoaXMuc3RhdGUuc291cmNlVHlwZSkge1xuICAgICAgdGhpcy5mZXRjaE9wdGlvbnModGhpcy5zdGF0ZS5hbm5vdGF0aW9uVHlwZSwgdGhpcy5zdGF0ZS5zb3VyY2VUeXBlLCB0cnVlKTtcbiAgICB9XG4gIH1cblxuICBnZXRTdXBwb3J0ZWRTb3VyY2VUeXBlcyhhbm5vdGF0aW9uVHlwZSkge1xuICAgIC8vIEdldCB2aXMgdHlwZXMgdGhhdCBjYW4gYmUgc291cmNlLlxuICAgIGNvbnN0IHNvdXJjZXMgPSBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnkoKVxuICAgICAgLmVudHJpZXMoKVxuICAgICAgLmZpbHRlcigoeyB2YWx1ZTogY2hhcnRNZXRhZGF0YSB9KSA9PlxuICAgICAgICBjaGFydE1ldGFkYXRhLmNhbkJlQW5ub3RhdGlvblR5cGUoYW5ub3RhdGlvblR5cGUpLFxuICAgICAgKVxuICAgICAgLm1hcCgoeyBrZXksIHZhbHVlOiBjaGFydE1ldGFkYXRhIH0pID0+ICh7XG4gICAgICAgIHZhbHVlOiBrZXksXG4gICAgICAgIGxhYmVsOiBjaGFydE1ldGFkYXRhLm5hbWUsXG4gICAgICB9KSk7XG4gICAgLy8gUHJlcGVuZCBuYXRpdmUgc291cmNlIGlmIGFwcGxpY2FibGVcbiAgICBpZiAoQU5OT1RBVElPTl9UWVBFU19NRVRBREFUQVthbm5vdGF0aW9uVHlwZV0/LnN1cHBvcnROYXRpdmVTb3VyY2UpIHtcbiAgICAgIHNvdXJjZXMudW5zaGlmdChBTk5PVEFUSU9OX1NPVVJDRV9UWVBFU19NRVRBREFUQS5OQVRJVkUpO1xuICAgIH1cbiAgICByZXR1cm4gc291cmNlcztcbiAgfVxuXG4gIGlzVmFsaWRGb3JtdWxhKHZhbHVlLCBhbm5vdGF0aW9uVHlwZSkge1xuICAgIGlmIChhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5GT1JNVUxBKSB7XG4gICAgICB0cnkge1xuICAgICAgICBtYXRoanNQYXJzZSh2YWx1ZSkuY29tcGlsZSgpLmV2YWx1YXRlKHsgeDogMCB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaXNWYWxpZEZvcm0oKSB7XG4gICAgY29uc3Qge1xuICAgICAgbmFtZSxcbiAgICAgIGFubm90YXRpb25UeXBlLFxuICAgICAgc291cmNlVHlwZSxcbiAgICAgIHZhbHVlLFxuICAgICAgdGltZUNvbHVtbixcbiAgICAgIGludGVydmFsRW5kQ29sdW1uLFxuICAgIH0gPSB0aGlzLnN0YXRlO1xuICAgIGNvbnN0IGVycm9ycyA9IFtcbiAgICAgIHZhbGlkYXRlTm9uRW1wdHkobmFtZSksXG4gICAgICB2YWxpZGF0ZU5vbkVtcHR5KGFubm90YXRpb25UeXBlKSxcbiAgICAgIHZhbGlkYXRlTm9uRW1wdHkodmFsdWUpLFxuICAgIF07XG4gICAgaWYgKHNvdXJjZVR5cGUgIT09IEFOTk9UQVRJT05fU09VUkNFX1RZUEVTLk5BVElWRSkge1xuICAgICAgaWYgKGFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLkVWRU5UKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHZhbGlkYXRlTm9uRW1wdHkodGltZUNvbHVtbikpO1xuICAgICAgfVxuICAgICAgaWYgKGFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLklOVEVSVkFMKSB7XG4gICAgICAgIGVycm9ycy5wdXNoKHZhbGlkYXRlTm9uRW1wdHkodGltZUNvbHVtbikpO1xuICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0ZU5vbkVtcHR5KGludGVydmFsRW5kQ29sdW1uKSk7XG4gICAgICB9XG4gICAgfVxuICAgIGVycm9ycy5wdXNoKHRoaXMuaXNWYWxpZEZvcm11bGEodmFsdWUsIGFubm90YXRpb25UeXBlKSk7XG4gICAgcmV0dXJuICFlcnJvcnMuZmlsdGVyKHggPT4geCkubGVuZ3RoO1xuICB9XG5cbiAgcG9wb3ZlckNsZWFyV3JhcHBlcih2YWx1ZSwgYWN0aW9uTWV0YSwgY2FsbGJhY2spIHtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKHZhbHVlKTtcbiAgICB9XG4gICAgaWYgKGFjdGlvbk1ldGE/LmFjdGlvbiA9PT0gJ2NsZWFyJykge1xuICAgICAgdGhpcy5wcm9wcy5vblBvcG92ZXJDbGVhcih0cnVlKTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVBbm5vdGF0aW9uVHlwZShhbm5vdGF0aW9uVHlwZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICBzb3VyY2VUeXBlOiBudWxsLFxuICAgICAgdmFsdWU6IG51bGwsXG4gICAgfSk7XG4gIH1cblxuICBoYW5kbGVBbm5vdGF0aW9uU291cmNlVHlwZShzb3VyY2VUeXBlKSB7XG4gICAgY29uc3QgeyBzb3VyY2VUeXBlOiBwcmV2U291cmNlVHlwZSB9ID0gdGhpcy5zdGF0ZTtcblxuICAgIGlmIChwcmV2U291cmNlVHlwZSAhPT0gc291cmNlVHlwZSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IHNvdXJjZVR5cGUsIHZhbHVlOiBudWxsLCBpc0xvYWRpbmdPcHRpb25zOiB0cnVlIH0pO1xuICAgIH1cbiAgfVxuXG4gIGhhbmRsZVZhbHVlKHZhbHVlKSB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB2YWx1ZSxcbiAgICAgIGRlc2NyaXB0aW9uQ29sdW1uczogbnVsbCxcbiAgICAgIGludGVydmFsRW5kQ29sdW1uOiBudWxsLFxuICAgICAgdGltZUNvbHVtbjogbnVsbCxcbiAgICAgIHRpdGxlQ29sdW1uOiBudWxsLFxuICAgICAgb3ZlcnJpZGVzOiB7IHRpbWVfcmFuZ2U6IG51bGwgfSxcbiAgICB9KTtcbiAgfVxuXG4gIGZldGNoT3B0aW9ucyhhbm5vdGF0aW9uVHlwZSwgc291cmNlVHlwZSwgaXNMb2FkaW5nT3B0aW9ucykge1xuICAgIGlmIChpc0xvYWRpbmdPcHRpb25zKSB7XG4gICAgICBpZiAoc291cmNlVHlwZSA9PT0gQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVMuTkFUSVZFKSB7XG4gICAgICAgIFN1cGVyc2V0Q2xpZW50LmdldCh7XG4gICAgICAgICAgZW5kcG9pbnQ6ICcvYW5ub3RhdGlvbmxheWVybW9kZWx2aWV3L2FwaS9yZWFkPycsXG4gICAgICAgIH0pLnRoZW4oKHsganNvbiB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgbGF5ZXJzID0ganNvblxuICAgICAgICAgICAgPyBqc29uLnJlc3VsdC5tYXAobGF5ZXIgPT4gKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogbGF5ZXIuaWQsXG4gICAgICAgICAgICAgICAgbGFiZWw6IGxheWVyLm5hbWUsXG4gICAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgOiBbXTtcbiAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgIGlzTG9hZGluZ09wdGlvbnM6IGZhbHNlLFxuICAgICAgICAgICAgdmFsdWVPcHRpb25zOiBsYXllcnMsXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyZXF1aXJlc1F1ZXJ5KHNvdXJjZVR5cGUpKSB7XG4gICAgICAgIFN1cGVyc2V0Q2xpZW50LmdldCh7IGVuZHBvaW50OiAnL3N1cGVyc2V0L3VzZXJfc2xpY2VzJyB9KS50aGVuKFxuICAgICAgICAgICh7IGpzb24gfSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVnaXN0cnkgPSBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnkoKTtcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICBpc0xvYWRpbmdPcHRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgdmFsdWVPcHRpb25zOiBqc29uXG4gICAgICAgICAgICAgICAgLmZpbHRlcih4ID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gcmVnaXN0cnkuZ2V0KHgudml6X3R5cGUpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgbWV0YWRhdGEgJiYgbWV0YWRhdGEuY2FuQmVBbm5vdGF0aW9uVHlwZShhbm5vdGF0aW9uVHlwZSlcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAubWFwKHggPT4gKHsgdmFsdWU6IHguaWQsIGxhYmVsOiB4LnRpdGxlLCBzbGljZTogeCB9KSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9LFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgaXNMb2FkaW5nT3B0aW9uczogZmFsc2UsXG4gICAgICAgICAgdmFsdWVPcHRpb25zOiBbXSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZGVsZXRlQW5ub3RhdGlvbigpIHtcbiAgICB0aGlzLnByb3BzLnJlbW92ZUFubm90YXRpb25MYXllcigpO1xuICAgIHRoaXMucHJvcHMuY2xvc2UoKTtcbiAgfVxuXG4gIGFwcGx5QW5ub3RhdGlvbigpIHtcbiAgICBpZiAodGhpcy5pc1ZhbGlkRm9ybSgpKSB7XG4gICAgICBjb25zdCBhbm5vdGF0aW9uRmllbGRzID0gW1xuICAgICAgICAnbmFtZScsXG4gICAgICAgICdhbm5vdGF0aW9uVHlwZScsXG4gICAgICAgICdzb3VyY2VUeXBlJyxcbiAgICAgICAgJ2NvbG9yJyxcbiAgICAgICAgJ29wYWNpdHknLFxuICAgICAgICAnc3R5bGUnLFxuICAgICAgICAnd2lkdGgnLFxuICAgICAgICAnc2hvd01hcmtlcnMnLFxuICAgICAgICAnaGlkZUxpbmUnLFxuICAgICAgICAndmFsdWUnLFxuICAgICAgICAnb3ZlcnJpZGVzJyxcbiAgICAgICAgJ3Nob3cnLFxuICAgICAgICAndGl0bGVDb2x1bW4nLFxuICAgICAgICAnZGVzY3JpcHRpb25Db2x1bW5zJyxcbiAgICAgICAgJ3RpbWVDb2x1bW4nLFxuICAgICAgICAnaW50ZXJ2YWxFbmRDb2x1bW4nLFxuICAgICAgXTtcbiAgICAgIGNvbnN0IG5ld0Fubm90YXRpb24gPSB7fTtcbiAgICAgIGFubm90YXRpb25GaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICAgIGlmICh0aGlzLnN0YXRlW2ZpZWxkXSAhPT0gbnVsbCkge1xuICAgICAgICAgIG5ld0Fubm90YXRpb25bZmllbGRdID0gdGhpcy5zdGF0ZVtmaWVsZF07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICBpZiAobmV3QW5ub3RhdGlvbi5jb2xvciA9PT0gQVVUT01BVElDX0NPTE9SKSB7XG4gICAgICAgIG5ld0Fubm90YXRpb24uY29sb3IgPSBudWxsO1xuICAgICAgfVxuXG4gICAgICB0aGlzLnByb3BzLmFkZEFubm90YXRpb25MYXllcihuZXdBbm5vdGF0aW9uKTtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc05ldzogZmFsc2UgfSk7XG4gICAgfVxuICB9XG5cbiAgc3VibWl0QW5ub3RhdGlvbigpIHtcbiAgICB0aGlzLmFwcGx5QW5ub3RhdGlvbigpO1xuICAgIHRoaXMucHJvcHMuY2xvc2UoKTtcbiAgfVxuXG4gIHJlbmRlck9wdGlvbihvcHRpb24pIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHNwYW5cbiAgICAgICAgY3NzPXt7XG4gICAgICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgICAgICAgIHRleHRPdmVyZmxvdzogJ2VsbGlwc2lzJyxcbiAgICAgICAgICB3aGl0ZVNwYWNlOiAnbm93cmFwJyxcbiAgICAgICAgfX1cbiAgICAgICAgdGl0bGU9e29wdGlvbi5sYWJlbH1cbiAgICAgID5cbiAgICAgICAge29wdGlvbi5sYWJlbH1cbiAgICAgIDwvc3Bhbj5cbiAgICApO1xuICB9XG5cbiAgcmVuZGVyVmFsdWVDb25maWd1cmF0aW9uKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFubm90YXRpb25UeXBlLFxuICAgICAgc291cmNlVHlwZSxcbiAgICAgIHZhbHVlLFxuICAgICAgdmFsdWVPcHRpb25zLFxuICAgICAgaXNMb2FkaW5nT3B0aW9ucyxcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBsZXQgbGFiZWwgPSAnJztcbiAgICBsZXQgZGVzY3JpcHRpb24gPSAnJztcbiAgICBpZiAocmVxdWlyZXNRdWVyeShzb3VyY2VUeXBlKSkge1xuICAgICAgaWYgKHNvdXJjZVR5cGUgPT09IEFOTk9UQVRJT05fU09VUkNFX1RZUEVTLk5BVElWRSkge1xuICAgICAgICBsYWJlbCA9ICdBbm5vdGF0aW9uIGxheWVyJztcbiAgICAgICAgZGVzY3JpcHRpb24gPSAnU2VsZWN0IHRoZSBBbm5vdGF0aW9uIExheWVyIHlvdSB3b3VsZCBsaWtlIHRvIHVzZS4nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGFiZWwgPSB0KCdDaGFydCcpO1xuICAgICAgICBkZXNjcmlwdGlvbiA9IGBVc2UgYSBwcmUgZGVmaW5lZCBTdXBlcnNldCBDaGFydCBhcyBhIHNvdXJjZSBmb3IgYW5ub3RhdGlvbnMgYW5kIG92ZXJsYXlzLlxuICAgICAgICB5b3VyIGNoYXJ0IG11c3QgYmUgb25lIG9mIHRoZXNlIHZpc3VhbGl6YXRpb24gdHlwZXM6XG4gICAgICAgIFske3RoaXMuZ2V0U3VwcG9ydGVkU291cmNlVHlwZXMoYW5ub3RhdGlvblR5cGUpXG4gICAgICAgICAgLm1hcCh4ID0+IHgubGFiZWwpXG4gICAgICAgICAgLmpvaW4oJywgJyl9XWA7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5GT1JNVUxBKSB7XG4gICAgICBsYWJlbCA9ICdGb3JtdWxhJztcbiAgICAgIGRlc2NyaXB0aW9uID0gYEV4cGVjdHMgYSBmb3JtdWxhIHdpdGggZGVwZW5kaW5nIHRpbWUgcGFyYW1ldGVyICd4J1xuICAgICAgICBpbiBtaWxsaXNlY29uZHMgc2luY2UgZXBvY2guIG1hdGhqcyBpcyB1c2VkIHRvIGV2YWx1YXRlIHRoZSBmb3JtdWxhcy5cbiAgICAgICAgRXhhbXBsZTogJzJ4KzUnYDtcbiAgICB9XG4gICAgaWYgKHJlcXVpcmVzUXVlcnkoc291cmNlVHlwZSkpIHtcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxTZWxlY3RDb250cm9sXG4gICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdmFsdWVcIlxuICAgICAgICAgIHNob3dIZWFkZXJcbiAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9ufVxuICAgICAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlwiXG4gICAgICAgICAgb3B0aW9ucz17dmFsdWVPcHRpb25zfVxuICAgICAgICAgIGlzTG9hZGluZz17aXNMb2FkaW5nT3B0aW9uc31cbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgXywgYWN0aW9uTWV0YSkgPT5cbiAgICAgICAgICAgIHRoaXMucG9wb3ZlckNsZWFyV3JhcHBlcih2YWx1ZSwgYWN0aW9uTWV0YSwgdGhpcy5oYW5kbGVWYWx1ZSlcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsaWRhdGlvbkVycm9ycz17IXZhbHVlID8gWydNYW5kYXRvcnknXSA6IFtdfVxuICAgICAgICAgIG9wdGlvblJlbmRlcmVyPXt0aGlzLnJlbmRlck9wdGlvbn1cbiAgICAgICAgLz5cbiAgICAgICk7XG4gICAgfVxuICAgIGlmIChhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5GT1JNVUxBKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8VGV4dENvbnRyb2xcbiAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci12YWx1ZVwiXG4gICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgIHNob3dIZWFkZXJcbiAgICAgICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb259XG4gICAgICAgICAgbGFiZWw9e2xhYmVsfVxuICAgICAgICAgIHBsYWNlaG9sZGVyPVwiXCJcbiAgICAgICAgICB2YWx1ZT17dmFsdWV9XG4gICAgICAgICAgb25DaGFuZ2U9e3RoaXMuaGFuZGxlVmFsdWV9XG4gICAgICAgICAgdmFsaWRhdGlvbkVycm9ycz17XG4gICAgICAgICAgICB0aGlzLmlzVmFsaWRGb3JtdWxhKHZhbHVlLCBhbm5vdGF0aW9uVHlwZSkgPyBbJ0JhZCBmb3JtdWxhLiddIDogW11cbiAgICAgICAgICB9XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICByZW5kZXJTbGljZUNvbmZpZ3VyYXRpb24oKSB7XG4gICAgY29uc3Qge1xuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgICBzb3VyY2VUeXBlLFxuICAgICAgdmFsdWUsXG4gICAgICB2YWx1ZU9wdGlvbnMsXG4gICAgICBvdmVycmlkZXMsXG4gICAgICB0aXRsZUNvbHVtbixcbiAgICAgIHRpbWVDb2x1bW4sXG4gICAgICBpbnRlcnZhbEVuZENvbHVtbixcbiAgICAgIGRlc2NyaXB0aW9uQ29sdW1ucyxcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCB7IHNsaWNlIH0gPSB2YWx1ZU9wdGlvbnMuZmluZCh4ID0+IHgudmFsdWUgPT09IHZhbHVlKSB8fCB7fTtcbiAgICBpZiAoc291cmNlVHlwZSAhPT0gQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVMuTkFUSVZFICYmIHNsaWNlKSB7XG4gICAgICBjb25zdCBjb2x1bW5zID0gKHNsaWNlLmRhdGEuZ3JvdXBieSB8fCBbXSlcbiAgICAgICAgLmNvbmNhdChzbGljZS5kYXRhLmFsbF9jb2x1bW5zIHx8IFtdKVxuICAgICAgICAubWFwKHggPT4gKHsgdmFsdWU6IHgsIGxhYmVsOiB4IH0pKTtcbiAgICAgIGNvbnN0IHRpbWVDb2x1bW5PcHRpb25zID0gc2xpY2UuZGF0YS5pbmNsdWRlX3RpbWVcbiAgICAgICAgPyBbeyB2YWx1ZTogJ19fdGltZXN0YW1wJywgbGFiZWw6ICdfX3RpbWVzdGFtcCcgfV0uY29uY2F0KGNvbHVtbnMpXG4gICAgICAgIDogY29sdW1ucztcbiAgICAgIHJldHVybiAoXG4gICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luUmlnaHQ6ICcycmVtJyB9fT5cbiAgICAgICAgICA8UG9wb3ZlclNlY3Rpb25cbiAgICAgICAgICAgIGlzU2VsZWN0ZWRcbiAgICAgICAgICAgIHRpdGxlPXt0KCdBbm5vdGF0aW9uIFNsaWNlIENvbmZpZ3VyYXRpb24nKX1cbiAgICAgICAgICAgIGluZm89e3QoYFRoaXMgc2VjdGlvbiBhbGxvd3MgeW91IHRvIGNvbmZpZ3VyZSBob3cgdG8gdXNlIHRoZSBzbGljZVxuICAgICAgICAgICAgICAgdG8gZ2VuZXJhdGUgYW5ub3RhdGlvbnMuYCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgeyhhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5FVkVOVCB8fFxuICAgICAgICAgICAgICBhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5JTlRFUlZBTCkgJiYgKFxuICAgICAgICAgICAgICA8U2VsZWN0Q29udHJvbFxuICAgICAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci10aW1lLWNvbHVtblwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e1xuICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuSU5URVJWQUxcbiAgICAgICAgICAgICAgICAgICAgPyAnSW50ZXJ2YWwgc3RhcnQgY29sdW1uJ1xuICAgICAgICAgICAgICAgICAgICA6ICdFdmVudCB0aW1lIGNvbHVtbidcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb249XCJUaGlzIGNvbHVtbiBtdXN0IGNvbnRhaW4gZGF0ZS90aW1lIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9ycz17IXRpbWVDb2x1bW4gPyBbJ01hbmRhdG9yeSddIDogW119XG4gICAgICAgICAgICAgICAgY2xlYXJhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXt0aW1lQ29sdW1uT3B0aW9uc31cbiAgICAgICAgICAgICAgICB2YWx1ZT17dGltZUNvbHVtbn1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB0aGlzLnNldFN0YXRlKHsgdGltZUNvbHVtbjogdiB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICB7YW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuSU5URVJWQUwgJiYgKFxuICAgICAgICAgICAgICA8U2VsZWN0Q29udHJvbFxuICAgICAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1pbnRlcnZhbEVuZFwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJJbnRlcnZhbCBFbmQgY29sdW1uXCJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj1cIlRoaXMgY29sdW1uIG11c3QgY29udGFpbiBkYXRlL3RpbWUgaW5mb3JtYXRpb24uXCJcbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3JzPXshaW50ZXJ2YWxFbmRDb2x1bW4gPyBbJ01hbmRhdG9yeSddIDogW119XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICB2YWx1ZT17aW50ZXJ2YWxFbmRDb2x1bW59XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgXywgYWN0aW9uTWV0YSkgPT5cbiAgICAgICAgICAgICAgICAgIHRoaXMucG9wb3ZlckNsZWFyV3JhcHBlcih2YWx1ZSwgYWN0aW9uTWV0YSwgdiA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgaW50ZXJ2YWxFbmRDb2x1bW46IHYgfSksXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxTZWxlY3RDb250cm9sXG4gICAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdGl0bGVcIlxuICAgICAgICAgICAgICBsYWJlbD1cIlRpdGxlIENvbHVtblwiXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiUGljayBhIHRpdGxlIGZvciB5b3UgYW5ub3RhdGlvbi5cIlxuICAgICAgICAgICAgICBvcHRpb25zPXtbeyB2YWx1ZTogJycsIGxhYmVsOiAnTm9uZScgfV0uY29uY2F0KGNvbHVtbnMpfVxuICAgICAgICAgICAgICB2YWx1ZT17dGl0bGVDb2x1bW59XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIF8sIGFjdGlvbk1ldGEpID0+XG4gICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyQ2xlYXJXcmFwcGVyKHZhbHVlLCBhY3Rpb25NZXRhLCB2ID0+XG4gICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgdGl0bGVDb2x1bW46IHYgfSksXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAvPlxuICAgICAgICAgICAge2Fubm90YXRpb25UeXBlICE9PSBBTk5PVEFUSU9OX1RZUEVTLlRJTUVfU0VSSUVTICYmIChcbiAgICAgICAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdGl0bGVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiRGVzY3JpcHRpb24gQ29sdW1uc1wiXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e2BQaWNrIG9uZSBvciBtb3JlIGNvbHVtbnMgdGhhdCBzaG91bGQgYmUgc2hvd24gaW4gdGhlXG4gICAgICAgICAgICAgICAgICBhbm5vdGF0aW9uLiBJZiB5b3UgZG9uJ3Qgc2VsZWN0IGEgY29sdW1uIGFsbCBvZiB0aGVtIHdpbGwgYmUgc2hvd24uYH1cbiAgICAgICAgICAgICAgICBtdWx0aVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2Rlc2NyaXB0aW9uQ29sdW1uc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBfLCBhY3Rpb25NZXRhKSA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyQ2xlYXJXcmFwcGVyKHZhbHVlLCBhY3Rpb25NZXRhLCB2ID0+XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBkZXNjcmlwdGlvbkNvbHVtbnM6IHYgfSksXG4gICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDxkaXYgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMXJlbScgfX0+XG4gICAgICAgICAgICAgIDxDaGVja2JveENvbnRyb2xcbiAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tb3ZlcnJpZGUtdGltZV9yYW5nZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJPdmVycmlkZSB0aW1lIHJhbmdlXCJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17YFRoaXMgY29udHJvbHMgd2hldGhlciB0aGUgXCJ0aW1lX3JhbmdlXCIgZmllbGQgZnJvbSB0aGUgY3VycmVudFxuICAgICAgICAgICAgICAgICAgdmlldyBzaG91bGQgYmUgcGFzc2VkIGRvd24gdG8gdGhlIGNoYXJ0IGNvbnRhaW5pbmcgdGhlIGFubm90YXRpb24gZGF0YS5gfVxuICAgICAgICAgICAgICAgIHZhbHVlPXsndGltZV9yYW5nZScgaW4gb3ZlcnJpZGVzfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvdmVycmlkZXMudGltZV9yYW5nZTtcbiAgICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlczogeyAuLi5vdmVycmlkZXMsIHRpbWVfcmFuZ2U6IG51bGwgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3ZlcnJpZGVzOiB7IC4uLm92ZXJyaWRlcyB9IH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxDaGVja2JveENvbnRyb2xcbiAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tb3ZlcnJpZGUtdGltZWdyYWluXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIk92ZXJyaWRlIHRpbWUgZ3JhaW5cIlxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtgVGhpcyBjb250cm9scyB3aGV0aGVyIHRoZSB0aW1lIGdyYWluIGZpZWxkIGZyb20gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgIHZpZXcgc2hvdWxkIGJlIHBhc3NlZCBkb3duIHRvIHRoZSBjaGFydCBjb250YWluaW5nIHRoZSBhbm5vdGF0aW9uIGRhdGEuYH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17J3RpbWVfZ3JhaW5fc3FsYScgaW4gb3ZlcnJpZGVzfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvdmVycmlkZXMudGltZV9ncmFpbl9zcWxhO1xuICAgICAgICAgICAgICAgICAgZGVsZXRlIG92ZXJyaWRlcy5ncmFudWxhcml0eTtcbiAgICAgICAgICAgICAgICAgIGlmICh2KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ub3ZlcnJpZGVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZV9ncmFpbl9zcWxhOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZ3JhbnVsYXJpdHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgb3ZlcnJpZGVzOiB7IC4uLm92ZXJyaWRlcyB9IH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgIDxUZXh0Q29udHJvbFxuICAgICAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci10aW1lc2hpZnRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiVGltZSBTaGlmdFwiXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e2BUaW1lIGRlbHRhIGluIG5hdHVyYWwgbGFuZ3VhZ2VcbiAgICAgICAgICAgICAgICAgIChleGFtcGxlOiAgMjQgaG91cnMsIDcgZGF5cywgNTYgd2Vla3MsIDM2NSBkYXlzKWB9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtvdmVycmlkZXMudGltZV9zaGlmdH1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG92ZXJyaWRlczogeyAuLi5vdmVycmlkZXMsIHRpbWVfc2hpZnQ6IHYgfSB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvUG9wb3ZlclNlY3Rpb24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmVuZGVyRGlzcGxheUNvbmZpZ3VyYXRpb24oKSB7XG4gICAgY29uc3Qge1xuICAgICAgY29sb3IsXG4gICAgICBvcGFjaXR5LFxuICAgICAgc3R5bGUsXG4gICAgICB3aWR0aCxcbiAgICAgIHNob3dNYXJrZXJzLFxuICAgICAgaGlkZUxpbmUsXG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBjb2xvclNjaGVtZSA9IGdldENhdGVnb3JpY2FsU2NoZW1lUmVnaXN0cnkoKVxuICAgICAgLmdldCh0aGlzLnByb3BzLmNvbG9yU2NoZW1lKVxuICAgICAgLmNvbG9ycy5jb25jYXQoKTtcbiAgICBpZiAoXG4gICAgICBjb2xvciAmJlxuICAgICAgY29sb3IgIT09IEFVVE9NQVRJQ19DT0xPUiAmJlxuICAgICAgIWNvbG9yU2NoZW1lLmZpbmQoeCA9PiB4LnRvTG93ZXJDYXNlKCkgPT09IGNvbG9yLnRvTG93ZXJDYXNlKCkpXG4gICAgKSB7XG4gICAgICBjb2xvclNjaGVtZS5wdXNoKGNvbG9yKTtcbiAgICB9XG4gICAgcmV0dXJuIChcbiAgICAgIDxQb3BvdmVyU2VjdGlvblxuICAgICAgICBpc1NlbGVjdGVkXG4gICAgICAgIHRpdGxlPXt0KCdEaXNwbGF5IGNvbmZpZ3VyYXRpb24nKX1cbiAgICAgICAgaW5mbz17dCgnQ29uZmlndXJlIHlvdXIgaG93IHlvdSBvdmVybGF5IGlzIGRpc3BsYXllZCBoZXJlLicpfVxuICAgICAgPlxuICAgICAgICA8U2VsZWN0Q29udHJvbFxuICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXN0cm9rZVwiXG4gICAgICAgICAgbGFiZWw9e3QoJ1N0eWxlJyl9XG4gICAgICAgICAgLy8gc2VlICcuLi8uLi8uLi92aXN1YWxpemF0aW9ucy9udmQzX3Zpcy5jc3MnXG4gICAgICAgICAgb3B0aW9ucz17W1xuICAgICAgICAgICAgeyB2YWx1ZTogJ3NvbGlkJywgbGFiZWw6ICdTb2xpZCcgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICdkYXNoZWQnLCBsYWJlbDogJ0Rhc2hlZCcgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICdsb25nRGFzaGVkJywgbGFiZWw6ICdMb25nIGRhc2hlZCcgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICdkb3R0ZWQnLCBsYWJlbDogJ0RvdHRlZCcgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIHZhbHVlPXtzdHlsZX1cbiAgICAgICAgICBjbGVhcmFibGU9e2ZhbHNlfVxuICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHRoaXMuc2V0U3RhdGUoeyBzdHlsZTogdiB9KX1cbiAgICAgICAgLz5cbiAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1vcGFjaXR5XCJcbiAgICAgICAgICBsYWJlbD17dCgnT3BhY2l0eScpfVxuICAgICAgICAgIC8vIHNlZSAnLi4vLi4vLi4vdmlzdWFsaXphdGlvbnMvbnZkM192aXMuY3NzJ1xuICAgICAgICAgIG9wdGlvbnM9e1tcbiAgICAgICAgICAgIHsgdmFsdWU6ICcnLCBsYWJlbDogJ1NvbGlkJyB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ29wYWNpdHlMb3cnLCBsYWJlbDogJzAuMicgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICdvcGFjaXR5TWVkaXVtJywgbGFiZWw6ICcwLjUnIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAnb3BhY2l0eUhpZ2gnLCBsYWJlbDogJzAuOCcgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAgIHZhbHVlPXtvcGFjaXR5fVxuICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIF8sIGFjdGlvbk1ldGEpID0+XG4gICAgICAgICAgICB0aGlzLnBvcG92ZXJDbGVhcldyYXBwZXIodmFsdWUsIGFjdGlvbk1ldGEsIHYgPT5cbiAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG9wYWNpdHk6IHYgfSksXG4gICAgICAgICAgICApXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxDb250cm9sSGVhZGVyIGxhYmVsPXt0KCdDb2xvcicpfSAvPlxuICAgICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAnY29sdW1uJyB9fT5cbiAgICAgICAgICAgIDxDb21wYWN0UGlja2VyXG4gICAgICAgICAgICAgIGNvbG9yPXtjb2xvcn1cbiAgICAgICAgICAgICAgY29sb3JzPXtjb2xvclNjaGVtZX1cbiAgICAgICAgICAgICAgb25DaGFuZ2VDb21wbGV0ZT17diA9PiB0aGlzLnNldFN0YXRlKHsgY29sb3I6IHYuaGV4IH0pfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgc3R5bGU9e3sgbWFyZ2luVG9wOiAnMC41cmVtJywgbWFyZ2luQm90dG9tOiAnMC41cmVtJyB9fVxuICAgICAgICAgICAgICBidXR0b25TdHlsZT17Y29sb3IgPT09IEFVVE9NQVRJQ19DT0xPUiA/ICdzdWNjZXNzJyA6ICdkZWZhdWx0J31cbiAgICAgICAgICAgICAgYnV0dG9uU2l6ZT1cInhzbWFsbFwiXG4gICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHRoaXMuc2V0U3RhdGUoeyBjb2xvcjogQVVUT01BVElDX0NPTE9SIH0pfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICBBdXRvbWF0aWMgQ29sb3JcbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPFRleHRDb250cm9sXG4gICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItc3Ryb2tlLXdpZHRoXCJcbiAgICAgICAgICBsYWJlbD17dCgnTGluZSB3aWR0aCcpfVxuICAgICAgICAgIGlzSW50XG4gICAgICAgICAgdmFsdWU9e3dpZHRofVxuICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHRoaXMuc2V0U3RhdGUoeyB3aWR0aDogdiB9KX1cbiAgICAgICAgLz5cbiAgICAgICAge2Fubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLlRJTUVfU0VSSUVTICYmIChcbiAgICAgICAgICA8Q2hlY2tib3hDb250cm9sXG4gICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1zaG93LW1hcmtlcnNcIlxuICAgICAgICAgICAgbGFiZWw9XCJTaG93IE1hcmtlcnNcIlxuICAgICAgICAgICAgZGVzY3JpcHRpb249XCJTaG93cyBvciBoaWRlcyBtYXJrZXJzIGZvciB0aGUgdGltZSBzZXJpZXNcIlxuICAgICAgICAgICAgdmFsdWU9e3Nob3dNYXJrZXJzfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IHNob3dNYXJrZXJzOiB2IH0pfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICAgIHthbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5USU1FX1NFUklFUyAmJiAoXG4gICAgICAgICAgPENoZWNrYm94Q29udHJvbFxuICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItaGlkZS1saW5lXCJcbiAgICAgICAgICAgIGxhYmVsPVwiSGlkZSBMaW5lXCJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiSGlkZXMgdGhlIExpbmUgZm9yIHRoZSB0aW1lIHNlcmllc1wiXG4gICAgICAgICAgICB2YWx1ZT17aGlkZUxpbmV9XG4gICAgICAgICAgICBvbkNoYW5nZT17diA9PiB0aGlzLnNldFN0YXRlKHsgaGlkZUxpbmU6IHYgfSl9XG4gICAgICAgICAgLz5cbiAgICAgICAgKX1cbiAgICAgIDwvUG9wb3ZlclNlY3Rpb24+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGlzTmV3LCBuYW1lLCBhbm5vdGF0aW9uVHlwZSwgc291cmNlVHlwZSwgc2hvdyB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBpc1ZhbGlkID0gdGhpcy5pc1ZhbGlkRm9ybSgpO1xuICAgIGNvbnN0IG1ldGFkYXRhID0gZ2V0Q2hhcnRNZXRhZGF0YVJlZ2lzdHJ5KCkuZ2V0KHRoaXMucHJvcHMudml6VHlwZSk7XG4gICAgY29uc3Qgc3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzID0gbWV0YWRhdGFcbiAgICAgID8gbWV0YWRhdGEuc3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzLm1hcChcbiAgICAgICAgICB0eXBlID0+IEFOTk9UQVRJT05fVFlQRVNfTUVUQURBVEFbdHlwZV0sXG4gICAgICAgIClcbiAgICAgIDogW107XG4gICAgY29uc3Qgc3VwcG9ydGVkU291cmNlVHlwZXMgPSB0aGlzLmdldFN1cHBvcnRlZFNvdXJjZVR5cGVzKGFubm90YXRpb25UeXBlKTtcblxuICAgIHJldHVybiAoXG4gICAgICA8PlxuICAgICAgICB7dGhpcy5wcm9wcy5lcnJvciAmJiAoXG4gICAgICAgICAgPHNwYW4gc3R5bGU9e3sgY29sb3I6ICdyZWQnIH19PkVSUk9SOiB7dGhpcy5wcm9wcy5lcnJvcn08L3NwYW4+XG4gICAgICAgICl9XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBmbGV4RGlyZWN0aW9uOiAncm93JyB9fT5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMnJlbScgfX0+XG4gICAgICAgICAgICA8UG9wb3ZlclNlY3Rpb25cbiAgICAgICAgICAgICAgaXNTZWxlY3RlZFxuICAgICAgICAgICAgICB0aXRsZT17dCgnTGF5ZXIgY29uZmlndXJhdGlvbicpfVxuICAgICAgICAgICAgICBpbmZvPXt0KCdDb25maWd1cmUgdGhlIGJhc2ljcyBvZiB5b3VyIEFubm90YXRpb24gTGF5ZXIuJyl9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIDxUZXh0Q29udHJvbFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLW5hbWVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXt0KCdOYW1lJyl9XG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIlxuICAgICAgICAgICAgICAgIHZhbHVlPXtuYW1lfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHRoaXMuc2V0U3RhdGUoeyBuYW1lOiB2IH0pfVxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnM9eyFuYW1lID8gW3QoJ01hbmRhdG9yeScpXSA6IFtdfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hDb250cm9sXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItaGlkZVwiXG4gICAgICAgICAgICAgICAgbGFiZWw9e3QoJ0hpZGUgbGF5ZXInKX1cbiAgICAgICAgICAgICAgICB2YWx1ZT17IXNob3d9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IHNob3c6ICF2IH0pfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8U2VsZWN0Q29udHJvbFxuICAgICAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17dCgnQ2hvb3NlIHRoZSBhbm5vdGF0aW9uIGxheWVyIHR5cGUnKX1cbiAgICAgICAgICAgICAgICBsYWJlbD17dCgnQW5ub3RhdGlvbiBsYXllciB0eXBlJyl9XG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdHlwZVwiXG4gICAgICAgICAgICAgICAgY2xlYXJhYmxlPXtmYWxzZX1cbiAgICAgICAgICAgICAgICBvcHRpb25zPXtzdXBwb3J0ZWRBbm5vdGF0aW9uVHlwZXN9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2Fubm90YXRpb25UeXBlfVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZUFubm90YXRpb25UeXBlfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICB7c3VwcG9ydGVkU291cmNlVHlwZXMubGVuZ3RoID4gMCAmJiAoXG4gICAgICAgICAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiQ2hvb3NlIHRoZSBzb3VyY2Ugb2YgeW91ciBhbm5vdGF0aW9uc1wiXG4gICAgICAgICAgICAgICAgICBsYWJlbD1cIkFubm90YXRpb24gU291cmNlXCJcbiAgICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLXNvdXJjZS10eXBlXCJcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM9e3N1cHBvcnRlZFNvdXJjZVR5cGVzfVxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NvdXJjZVR5cGV9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBfLCBhY3Rpb25NZXRhKSA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnBvcG92ZXJDbGVhcldyYXBwZXIoXG4gICAgICAgICAgICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgYWN0aW9uTWV0YSxcbiAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUFubm90YXRpb25Tb3VyY2VUeXBlLFxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3JzPXshc291cmNlVHlwZSA/IFt0KCdNYW5kYXRvcnknKV0gOiBbXX1cbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICB7dGhpcy5yZW5kZXJWYWx1ZUNvbmZpZ3VyYXRpb24oKX1cbiAgICAgICAgICAgIDwvUG9wb3ZlclNlY3Rpb24+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAge3RoaXMucmVuZGVyU2xpY2VDb25maWd1cmF0aW9uKCl9XG4gICAgICAgICAge3RoaXMucmVuZGVyRGlzcGxheUNvbmZpZ3VyYXRpb24oKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9e3sgZGlzcGxheTogJ2ZsZXgnLCBqdXN0aWZ5Q29udGVudDogJ3NwYWNlLWJldHdlZW4nIH19PlxuICAgICAgICAgIHtpc05ldyA/IChcbiAgICAgICAgICAgIDxCdXR0b24gYnV0dG9uU2l6ZT1cInNtYWxsXCIgb25DbGljaz17KCkgPT4gdGhpcy5wcm9wcy5jbG9zZSgpfT5cbiAgICAgICAgICAgICAge3QoJ0NhbmNlbCcpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKSA6IChcbiAgICAgICAgICAgIDxCdXR0b24gYnV0dG9uU2l6ZT1cInNtYWxsXCIgb25DbGljaz17dGhpcy5kZWxldGVBbm5vdGF0aW9ufT5cbiAgICAgICAgICAgICAge3QoJ1JlbW92ZScpfVxuICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgKX1cbiAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBidXR0b25TaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzVmFsaWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuYXBwbHlBbm5vdGF0aW9ufVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dCgnQXBwbHknKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuXG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIGJ1dHRvblNpemU9XCJzbWFsbFwiXG4gICAgICAgICAgICAgIGJ1dHRvblN0eWxlPVwicHJpbWFyeVwiXG4gICAgICAgICAgICAgIGRpc2FibGVkPXshaXNWYWxpZH1cbiAgICAgICAgICAgICAgb25DbGljaz17dGhpcy5zdWJtaXRBbm5vdGF0aW9ufVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICB7dCgnT0snKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvPlxuICAgICk7XG4gIH1cbn1cblxuQW5ub3RhdGlvbkxheWVyLnByb3BUeXBlcyA9IHByb3BUeXBlcztcbkFubm90YXRpb25MYXllci5kZWZhdWx0UHJvcHMgPSBkZWZhdWx0UHJvcHM7XG4iXX0= */\", toString: _EMOTION_STRINGIFIED_CSS_ERROR__ };\n\n\nclass AnnotationLayer extends react__WEBPACK_IMPORTED_MODULE_8___default.a.PureComponent {\n  constructor(props) {var _context, _context2, _context3, _context4, _context5, _context6, _context7, _context8, _context9;\n    super(props);\n    const {\n      name,\n      annotationType,\n      sourceType,\n      color,\n      opacity,\n      style,\n      width,\n      showMarkers,\n      hideLine,\n      value,\n      overrides,\n      show,\n      titleColumn,\n      descriptionColumns,\n      timeColumn,\n      intervalEndColumn,\n      vizType } =\n    props;\n\n    // Only allow override whole time_range\n    if ('since' in overrides || 'until' in overrides) {\n      overrides.time_range = null;\n      delete overrides.since;\n      delete overrides.until;\n    }\n\n    // Check if annotationType is supported by this chart\n    const metadata = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])().get(vizType);\n    const supportedAnnotationTypes = (metadata == null ? void 0 : metadata.supportedAnnotationTypes) || [];\n    const validAnnotationType = _babel_runtime_corejs3_core_js_stable_instance_includes__WEBPACK_IMPORTED_MODULE_7___default()(supportedAnnotationTypes).call(supportedAnnotationTypes,\n    annotationType) ?\n\n    annotationType :\n    supportedAnnotationTypes[0];\n\n    this.state = {\n      // base\n      name,\n      annotationType: validAnnotationType,\n      sourceType,\n      value,\n      overrides,\n      show,\n      // slice\n      titleColumn,\n      descriptionColumns,\n      timeColumn,\n      intervalEndColumn,\n      // display\n      color: color || AUTOMATIC_COLOR,\n      opacity,\n      style,\n      width,\n      showMarkers,\n      hideLine,\n      // refData\n      isNew: !name,\n      isLoadingOptions: true,\n      valueOptions: [] };\n\n    this.submitAnnotation = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context = this.submitAnnotation).call(_context, this);\n    this.deleteAnnotation = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context2 = this.deleteAnnotation).call(_context2, this);\n    this.applyAnnotation = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context3 = this.applyAnnotation).call(_context3, this);\n    this.fetchOptions = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context4 = this.fetchOptions).call(_context4, this);\n    this.handleAnnotationType = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context5 = this.handleAnnotationType).call(_context5, this);\n    this.handleAnnotationSourceType = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context6 = this.handleAnnotationSourceType).call(_context6,\n    this);\n\n    this.handleValue = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context7 = this.handleValue).call(_context7, this);\n    this.isValidForm = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context8 = this.isValidForm).call(_context8, this);\n    this.popoverClearWrapper = _babel_runtime_corejs3_core_js_stable_instance_bind__WEBPACK_IMPORTED_MODULE_6___default()(_context9 = this.popoverClearWrapper).call(_context9, this);\n  }\n\n  componentDidMount() {\n    const { annotationType, sourceType, isLoadingOptions } = this.state;\n    this.fetchOptions(annotationType, sourceType, isLoadingOptions);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.sourceType !== this.state.sourceType) {\n      this.fetchOptions(this.state.annotationType, this.state.sourceType, true);\n    }\n  }\n\n  getSupportedSourceTypes(annotationType) {var _context10, _context11, _context12, _ANNOTATION_TYPES_MET;\n    // Get vis types that can be source.\n    const sources = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(_context10 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(_context11 = _babel_runtime_corejs3_core_js_stable_instance_entries__WEBPACK_IMPORTED_MODULE_3___default()(_context12 = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])()).call(_context12)).call(_context11,\n\n    ({ value: chartMetadata }) =>\n    chartMetadata.canBeAnnotationType(annotationType))).call(_context10,\n\n    ({ key, value: chartMetadata }) => ({\n      value: key,\n      label: chartMetadata.name }));\n\n    // Prepend native source if applicable\n    if ((_ANNOTATION_TYPES_MET = src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES_METADATA\"][annotationType]) != null && _ANNOTATION_TYPES_MET.supportNativeSource) {\n      sources.unshift(src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_SOURCE_TYPES_METADATA\"].NATIVE);\n    }\n    return sources;\n  }\n\n  isValidFormula(value, annotationType) {\n    if (annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].FORMULA) {\n      try {\n        Object(mathjs__WEBPACK_IMPORTED_MODULE_12__[\"parse\"])(value).compile().evaluate({ x: 0 });\n      } catch (err) {\n        return true;\n      }\n    }\n    return false;\n  }\n\n  isValidForm() {\n    const {\n      name,\n      annotationType,\n      sourceType,\n      value,\n      timeColumn,\n      intervalEndColumn } =\n    this.state;\n    const errors = [\n    Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(name),\n    Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(annotationType),\n    Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(value)];\n\n    if (sourceType !== src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_SOURCE_TYPES\"].NATIVE) {\n      if (annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].EVENT) {\n        errors.push(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(timeColumn));\n      }\n      if (annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].INTERVAL) {\n        errors.push(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(timeColumn));\n        errors.push(Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_14__[\"default\"])(intervalEndColumn));\n      }\n    }\n    errors.push(this.isValidFormula(value, annotationType));\n    return !_babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(errors).call(errors, x => x).length;\n  }\n\n  popoverClearWrapper(value, actionMeta, callback) {\n    if (callback) {\n      callback(value);\n    }\n    if ((actionMeta == null ? void 0 : actionMeta.action) === 'clear') {\n      this.props.onPopoverClear(true);\n    }\n  }\n\n  handleAnnotationType(annotationType) {\n    this.setState({\n      annotationType,\n      sourceType: null,\n      value: null });\n\n  }\n\n  handleAnnotationSourceType(sourceType) {\n    const { sourceType: prevSourceType } = this.state;\n\n    if (prevSourceType !== sourceType) {\n      this.setState({ sourceType, value: null, isLoadingOptions: true });\n    }\n  }\n\n  handleValue(value) {\n    this.setState({\n      value,\n      descriptionColumns: null,\n      intervalEndColumn: null,\n      timeColumn: null,\n      titleColumn: null,\n      overrides: { time_range: null } });\n\n  }\n\n  fetchOptions(annotationType, sourceType, isLoadingOptions) {\n    if (isLoadingOptions) {\n      if (sourceType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_SOURCE_TYPES\"].NATIVE) {\n        _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__[\"default\"].get({\n          endpoint: '/annotationlayermodelview/api/read?' }).\n        then(({ json }) => {var _context13;\n          const layers = json ?\n          _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(_context13 = json.result).call(_context13, layer => ({\n            value: layer.id,\n            label: layer.name })) :\n\n          [];\n          this.setState({\n            isLoadingOptions: false,\n            valueOptions: layers });\n\n        });\n      } else if (Object(src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"requiresQuery\"])(sourceType)) {\n        _superset_ui_core__WEBPACK_IMPORTED_MODULE_15__[\"default\"].get({ endpoint: '/superset/user_slices' }).then(\n        ({ json }) => {var _context14;\n          const registry = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])();\n          this.setState({\n            isLoadingOptions: false,\n            valueOptions: _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(_context14 = _babel_runtime_corejs3_core_js_stable_instance_filter__WEBPACK_IMPORTED_MODULE_4___default()(json).call(json,\n            x => {\n              const metadata = registry.get(x.viz_type);\n              return (\n                metadata && metadata.canBeAnnotationType(annotationType));\n\n            })).call(_context14,\n            x => ({ value: x.id, label: x.title, slice: x })) });\n\n        });\n\n      } else {\n        this.setState({\n          isLoadingOptions: false,\n          valueOptions: [] });\n\n      }\n    }\n  }\n\n  deleteAnnotation() {\n    this.props.removeAnnotationLayer();\n    this.props.close();\n  }\n\n  applyAnnotation() {\n    if (this.isValidForm()) {\n      const annotationFields = [\n      'name',\n      'annotationType',\n      'sourceType',\n      'color',\n      'opacity',\n      'style',\n      'width',\n      'showMarkers',\n      'hideLine',\n      'value',\n      'overrides',\n      'show',\n      'titleColumn',\n      'descriptionColumns',\n      'timeColumn',\n      'intervalEndColumn'];\n\n      const newAnnotation = {};\n      _babel_runtime_corejs3_core_js_stable_instance_for_each__WEBPACK_IMPORTED_MODULE_2___default()(annotationFields).call(annotationFields, field => {\n        if (this.state[field] !== null) {\n          newAnnotation[field] = this.state[field];\n        }\n      });\n\n      if (newAnnotation.color === AUTOMATIC_COLOR) {\n        newAnnotation.color = null;\n      }\n\n      this.props.addAnnotationLayer(newAnnotation);\n      this.setState({ isNew: false });\n    }\n  }\n\n  submitAnnotation() {\n    this.applyAnnotation();\n    this.props.close();\n  }\n\n  renderOption(option) {\n    return (\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"span\", {\n        css: _ref,\n\n\n\n\n        title: option.label },\n\n      option.label));\n\n\n  }\n\n  renderValueConfiguration() {\n    const {\n      annotationType,\n      sourceType,\n      value,\n      valueOptions,\n      isLoadingOptions } =\n    this.state;\n    let label = '';\n    let description = '';\n    if (Object(src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"requiresQuery\"])(sourceType)) {\n      if (sourceType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_SOURCE_TYPES\"].NATIVE) {\n        label = 'Annotation layer';\n        description = 'Select the Annotation Layer you would like to use.';\n      } else {var _context15;\n        label = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Chart');\n        description = `Use a pre defined Superset Chart as a source for annotations and overlays.\n        your chart must be one of these visualization types:\n        [${_babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(_context15 = this.getSupportedSourceTypes(annotationType)).call(_context15,\n        x => x.label).\n        join(', ')}]`;\n      }\n    } else if (annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].FORMULA) {\n      label = 'Formula';\n      description = `Expects a formula with depending time parameter 'x'\n        in milliseconds since epoch. mathjs is used to evaluate the formulas.\n        Example: '2x+5'`;\n    }\n    if (Object(src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"requiresQuery\"])(sourceType)) {\n      return (\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n          name: \"annotation-layer-value\",\n          showHeader: true,\n          hovered: true,\n          description: description,\n          label: label,\n          placeholder: \"\",\n          options: valueOptions,\n          isLoading: isLoadingOptions,\n          value: value,\n          onChange: (value, _, actionMeta) =>\n          this.popoverClearWrapper(value, actionMeta, this.handleValue),\n\n          validationErrors: !value ? ['Mandatory'] : [],\n          optionRenderer: this.renderOption }));\n\n\n    }\n    if (annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].FORMULA) {\n      return (\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n          name: \"annotation-layer-value\",\n          hovered: true,\n          showHeader: true,\n          description: description,\n          label: label,\n          placeholder: \"\",\n          value: value,\n          onChange: this.handleValue,\n          validationErrors:\n          this.isValidFormula(value, annotationType) ? ['Bad formula.'] : [] }));\n\n\n\n    }\n    return '';\n  }\n\n  renderSliceConfiguration() {\n    const {\n      annotationType,\n      sourceType,\n      value,\n      valueOptions,\n      overrides,\n      titleColumn,\n      timeColumn,\n      intervalEndColumn,\n      descriptionColumns } =\n    this.state;\n    const { slice } = _babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default()(valueOptions).call(valueOptions, x => x.value === value) || {};\n    if (sourceType !== src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_SOURCE_TYPES\"].NATIVE && slice) {var _context16, _context17, _context18, _context19;\n      const columns = _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(_context16 = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context17 = slice.data.groupby || []).call(_context17,\n      slice.data.all_columns || [])).call(_context16,\n      x => ({ value: x, label: x }));\n      const timeColumnOptions = slice.data.include_time ?\n      _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context18 = [{ value: '__timestamp', label: '__timestamp' }]).call(_context18, columns) :\n      columns;\n      return (\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"div\", { style: { marginRight: '2rem' } },\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_components_PopoverSection__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n          isSelected: true,\n          title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Annotation Slice Configuration'),\n          info: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])(`This section allows you to configure how to use the slice\n               to generate annotations.`) },\n\n        (annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].EVENT ||\n        annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].INTERVAL) &&\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n          hovered: true,\n          name: \"annotation-layer-time-column\",\n          label:\n          annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].INTERVAL ?\n          'Interval start column' :\n          'Event time column',\n\n          description: \"This column must contain date/time information.\",\n          validationErrors: !timeColumn ? ['Mandatory'] : [],\n          clearable: false,\n          options: timeColumnOptions,\n          value: timeColumn,\n          onChange: v => this.setState({ timeColumn: v }) }),\n\n\n        annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].INTERVAL &&\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n          hovered: true,\n          name: \"annotation-layer-intervalEnd\",\n          label: \"Interval End column\",\n          description: \"This column must contain date/time information.\",\n          validationErrors: !intervalEndColumn ? ['Mandatory'] : [],\n          options: columns,\n          value: intervalEndColumn,\n          onChange: (value, _, actionMeta) =>\n          this.popoverClearWrapper(value, actionMeta, (v) =>\n          this.setState({ intervalEndColumn: v })) }),\n\n\n\n\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n          hovered: true,\n          name: \"annotation-layer-title\",\n          label: \"Title Column\",\n          description: \"Pick a title for you annotation.\",\n          options: _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context19 = [{ value: '', label: 'None' }]).call(_context19, columns),\n          value: titleColumn,\n          onChange: (value, _, actionMeta) =>\n          this.popoverClearWrapper(value, actionMeta, (v) =>\n          this.setState({ titleColumn: v })) }),\n\n\n\n        annotationType !== src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].TIME_SERIES &&\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n          hovered: true,\n          name: \"annotation-layer-title\",\n          label: \"Description Columns\",\n          description: `Pick one or more columns that should be shown in the\n                  annotation. If you don't select a column all of them will be shown.`,\n          multi: true,\n          options: columns,\n          value: descriptionColumns,\n          onChange: (value, _, actionMeta) =>\n          this.popoverClearWrapper(value, actionMeta, (v) =>\n          this.setState({ descriptionColumns: v })) }),\n\n\n\n\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"div\", { style: { marginTop: '1rem' } },\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n          hovered: true,\n          name: \"annotation-override-time_range\",\n          label: \"Override time range\",\n          description: `This controls whether the \"time_range\" field from the current\n                  view should be passed down to the chart containing the annotation data.`,\n          value: 'time_range' in overrides,\n          onChange: v => {\n            delete overrides.time_range;\n            if (v) {\n              this.setState({\n                overrides: { ...overrides, time_range: null } });\n\n            } else {\n              this.setState({ overrides: { ...overrides } });\n            }\n          } }),\n\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n          hovered: true,\n          name: \"annotation-override-timegrain\",\n          label: \"Override time grain\",\n          description: `This controls whether the time grain field from the current\n                  view should be passed down to the chart containing the annotation data.`,\n          value: 'time_grain_sqla' in overrides,\n          onChange: v => {\n            delete overrides.time_grain_sqla;\n            delete overrides.granularity;\n            if (v) {\n              this.setState({\n                overrides: {\n                  ...overrides,\n                  time_grain_sqla: null,\n                  granularity: null } });\n\n\n            } else {\n              this.setState({ overrides: { ...overrides } });\n            }\n          } }),\n\n        Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n          hovered: true,\n          name: \"annotation-layer-timeshift\",\n          label: \"Time Shift\",\n          description: `Time delta in natural language\n                  (example:  24 hours, 7 days, 56 weeks, 365 days)`,\n          placeholder: \"\",\n          value: overrides.time_shift,\n          onChange: (v) =>\n          this.setState({ overrides: { ...overrides, time_shift: v } }) })))));\n\n\n\n\n\n\n    }\n    return '';\n  }\n\n  renderDisplayConfiguration() {var _context20;\n    const {\n      color,\n      opacity,\n      style,\n      width,\n      showMarkers,\n      hideLine,\n      annotationType } =\n    this.state;\n    const colorScheme = _babel_runtime_corejs3_core_js_stable_instance_concat__WEBPACK_IMPORTED_MODULE_0___default()(_context20 = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_17__[\"default\"])().\n    get(this.props.colorScheme).\n    colors).call(_context20);\n    if (\n    color &&\n    color !== AUTOMATIC_COLOR &&\n    !_babel_runtime_corejs3_core_js_stable_instance_find__WEBPACK_IMPORTED_MODULE_1___default()(colorScheme).call(colorScheme, x => x.toLowerCase() === color.toLowerCase()))\n    {\n      colorScheme.push(color);\n    }\n    return (\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_components_PopoverSection__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n        isSelected: true,\n        title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Display configuration'),\n        info: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Configure your how you overlay is displayed here.') },\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n        name: \"annotation-layer-stroke\",\n        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Style')\n        // see '../../../visualizations/nvd3_vis.css'\n        , options: [\n        { value: 'solid', label: 'Solid' },\n        { value: 'dashed', label: 'Dashed' },\n        { value: 'longDashed', label: 'Long dashed' },\n        { value: 'dotted', label: 'Dotted' }],\n\n        value: style,\n        clearable: false,\n        onChange: v => this.setState({ style: v }) }),\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n        name: \"annotation-layer-opacity\",\n        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Opacity')\n        // see '../../../visualizations/nvd3_vis.css'\n        , options: [\n        { value: '', label: 'Solid' },\n        { value: 'opacityLow', label: '0.2' },\n        { value: 'opacityMedium', label: '0.5' },\n        { value: 'opacityHigh', label: '0.8' }],\n\n        value: opacity,\n        onChange: (value, _, actionMeta) =>\n        this.popoverClearWrapper(value, actionMeta, (v) =>\n        this.setState({ opacity: v })) }),\n\n\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"div\", null,\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_ControlHeader__WEBPACK_IMPORTED_MODULE_23__[\"default\"], { label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Color') }),\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"div\", { style: { display: 'flex', flexDirection: 'column' } },\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(react_color__WEBPACK_IMPORTED_MODULE_10__[\"CompactPicker\"], {\n        color: color,\n        colors: colorScheme,\n        onChangeComplete: v => this.setState({ color: v.hex }) }),\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_components_Button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        style: { marginTop: '0.5rem', marginBottom: '0.5rem' },\n        buttonStyle: color === AUTOMATIC_COLOR ? 'success' : 'default',\n        buttonSize: \"xsmall\",\n        onClick: () => this.setState({ color: AUTOMATIC_COLOR }) }, \"Automatic Color\"))),\n\n\n\n\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n        name: \"annotation-layer-stroke-width\",\n        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Line width'),\n        isInt: true,\n        value: width,\n        onChange: v => this.setState({ width: v }) }),\n\n      annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].TIME_SERIES &&\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n        hovered: true,\n        name: \"annotation-layer-show-markers\",\n        label: \"Show Markers\",\n        description: \"Shows or hides markers for the time series\",\n        value: showMarkers,\n        onChange: v => this.setState({ showMarkers: v }) }),\n\n\n      annotationType === src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES\"].TIME_SERIES &&\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n        hovered: true,\n        name: \"annotation-layer-hide-line\",\n        label: \"Hide Line\",\n        description: \"Hides the Line for the time series\",\n        value: hideLine,\n        onChange: v => this.setState({ hideLine: v }) })));\n\n\n\n\n  }\n\n  render() {var _context21;\n    const { isNew, name, annotationType, sourceType, show } = this.state;\n    const isValid = this.isValidForm();\n    const metadata = Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_13__[\"default\"])().get(this.props.vizType);\n    const supportedAnnotationTypes = metadata ?\n    _babel_runtime_corejs3_core_js_stable_instance_map__WEBPACK_IMPORTED_MODULE_5___default()(_context21 = metadata.supportedAnnotationTypes).call(_context21,\n    type => src_modules_AnnotationTypes__WEBPACK_IMPORTED_MODULE_21__[\"ANNOTATION_TYPES_METADATA\"][type]) :\n\n    [];\n    const supportedSourceTypes = this.getSupportedSourceTypes(annotationType);\n\n    return (\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(react__WEBPACK_IMPORTED_MODULE_8___default.a.Fragment, null,\n      this.props.error &&\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"span\", { style: { color: 'red' } }, \"ERROR: \", this.props.error),\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"div\", { style: { display: 'flex', flexDirection: 'row' } },\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"div\", { style: { marginRight: '2rem' } },\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_components_PopoverSection__WEBPACK_IMPORTED_MODULE_22__[\"default\"], {\n        isSelected: true,\n        title: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Layer configuration'),\n        info: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Configure the basics of your Annotation Layer.') },\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_TextControl__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n        name: \"annotation-layer-name\",\n        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Name'),\n        placeholder: \"\",\n        value: name,\n        onChange: v => this.setState({ name: v }),\n        validationErrors: !name ? [Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Mandatory')] : [] }),\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_CheckboxControl__WEBPACK_IMPORTED_MODULE_20__[\"default\"], {\n        name: \"annotation-layer-hide\",\n        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Hide layer'),\n        value: !show,\n        onChange: v => this.setState({ show: !v }) }),\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n        hovered: true,\n        description: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Choose the annotation layer type'),\n        label: Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Annotation layer type'),\n        name: \"annotation-layer-type\",\n        clearable: false,\n        options: supportedAnnotationTypes,\n        value: annotationType,\n        onChange: this.handleAnnotationType }),\n\n      supportedSourceTypes.length > 0 &&\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_explore_components_controls_SelectControl__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n        hovered: true,\n        description: \"Choose the source of your annotations\",\n        label: \"Annotation Source\",\n        name: \"annotation-source-type\",\n        options: supportedSourceTypes,\n        value: sourceType,\n        onChange: (value, _, actionMeta) =>\n        this.popoverClearWrapper(\n        value,\n        actionMeta,\n        this.handleAnnotationSourceType),\n\n\n        validationErrors: !sourceType ? [Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Mandatory')] : [] }),\n\n\n      this.renderValueConfiguration())),\n\n\n      this.renderSliceConfiguration(),\n      this.renderDisplayConfiguration()),\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"div\", { style: { display: 'flex', justifyContent: 'space-between' } },\n      isNew ?\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_components_Button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], { buttonSize: \"small\", onClick: () => this.props.close() },\n      Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Cancel')) :\n\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_components_Button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], { buttonSize: \"small\", onClick: this.deleteAnnotation },\n      Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Remove')),\n\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(\"div\", null,\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_components_Button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        buttonSize: \"small\",\n        disabled: !isValid,\n        onClick: this.applyAnnotation },\n\n      Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('Apply')),\n\n\n      Object(_emotion_react__WEBPACK_IMPORTED_MODULE_24__[\"jsx\"])(src_components_Button__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n        buttonSize: \"small\",\n        buttonStyle: \"primary\",\n        disabled: !isValid,\n        onClick: this.submitAnnotation },\n\n      Object(_superset_ui_core__WEBPACK_IMPORTED_MODULE_16__[\"t\"])('OK'))))));\n\n\n\n\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nAnnotationLayer.propTypes = propTypes;\nAnnotationLayer.defaultProps = defaultProps;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(AUTOMATIC_COLOR, \"AUTOMATIC_COLOR\", \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\");reactHotLoader.register(propTypes, \"propTypes\", \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\");reactHotLoader.register(AnnotationLayer, \"AnnotationLayer\", \"/app/superset-frontend/src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../../../../node_modules/webpack/buildin/harmony-module.js */ \"./node_modules/webpack/buildin/harmony-module.js\")(module)))//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0Fubm90YXRpb25MYXllckNvbnRyb2wvQW5ub3RhdGlvbkxheWVyLmpzeC5qcyIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvQW5ub3RhdGlvbkxheWVyQ29udHJvbC9Bbm5vdGF0aW9uTGF5ZXIuanN4PzlhNGEiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBDb21wYWN0UGlja2VyIH0gZnJvbSAncmVhY3QtY29sb3InO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdzcmMvY29tcG9uZW50cy9CdXR0b24nO1xuaW1wb3J0IHsgcGFyc2UgYXMgbWF0aGpzUGFyc2UgfSBmcm9tICdtYXRoanMnO1xuaW1wb3J0IHtcbiAgdCxcbiAgU3VwZXJzZXRDbGllbnQsXG4gIGdldENhdGVnb3JpY2FsU2NoZW1lUmVnaXN0cnksXG4gIGdldENoYXJ0TWV0YWRhdGFSZWdpc3RyeSxcbiAgdmFsaWRhdGVOb25FbXB0eSxcbn0gZnJvbSAnQHN1cGVyc2V0LXVpL2NvcmUnO1xuXG5pbXBvcnQgU2VsZWN0Q29udHJvbCBmcm9tICdzcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL1NlbGVjdENvbnRyb2wnO1xuaW1wb3J0IFRleHRDb250cm9sIGZyb20gJ3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvVGV4dENvbnRyb2wnO1xuaW1wb3J0IENoZWNrYm94Q29udHJvbCBmcm9tICdzcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0NoZWNrYm94Q29udHJvbCc7XG5pbXBvcnQge1xuICBBTk5PVEFUSU9OX1NPVVJDRV9UWVBFUyxcbiAgQU5OT1RBVElPTl9UWVBFUyxcbiAgQU5OT1RBVElPTl9UWVBFU19NRVRBREFUQSxcbiAgREVGQVVMVF9BTk5PVEFUSU9OX1RZUEUsXG4gIHJlcXVpcmVzUXVlcnksXG4gIEFOTk9UQVRJT05fU09VUkNFX1RZUEVTX01FVEFEQVRBLFxufSBmcm9tICdzcmMvbW9kdWxlcy9Bbm5vdGF0aW9uVHlwZXMnO1xuaW1wb3J0IFBvcG92ZXJTZWN0aW9uIGZyb20gJ3NyYy9jb21wb25lbnRzL1BvcG92ZXJTZWN0aW9uJztcbmltcG9ydCBDb250cm9sSGVhZGVyIGZyb20gJ3NyYy9leHBsb3JlL2NvbXBvbmVudHMvQ29udHJvbEhlYWRlcic7XG5cbmNvbnN0IEFVVE9NQVRJQ19DT0xPUiA9ICcnO1xuXG5jb25zdCBwcm9wVHlwZXMgPSB7XG4gIG5hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGFubm90YXRpb25UeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzb3VyY2VUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjb2xvcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgb3BhY2l0eTogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHdpZHRoOiBQcm9wVHlwZXMubnVtYmVyLFxuICBzaG93TWFya2VyczogUHJvcFR5cGVzLmJvb2wsXG4gIGhpZGVMaW5lOiBQcm9wVHlwZXMuYm9vbCxcbiAgdmFsdWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKSxcbiAgb3ZlcnJpZGVzOiBQcm9wVHlwZXMub2JqZWN0LFxuICBzaG93OiBQcm9wVHlwZXMuYm9vbCxcbiAgdGl0bGVDb2x1bW46IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRlc2NyaXB0aW9uQ29sdW1uczogUHJvcFR5cGVzLmFycmF5T2YoUHJvcFR5cGVzLnN0cmluZyksXG4gIHRpbWVDb2x1bW46IFByb3BUeXBlcy5zdHJpbmcsXG4gIGludGVydmFsRW5kQ29sdW1uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICB2aXpUeXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuXG4gIGVycm9yOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjb2xvclNjaGVtZTogUHJvcFR5cGVzLnN0cmluZyxcblxuICBhZGRBbm5vdGF0aW9uTGF5ZXI6IFByb3BUeXBlcy5mdW5jLFxuICByZW1vdmVBbm5vdGF0aW9uTGF5ZXI6IFByb3BUeXBlcy5mdW5jLFxuICBjbG9zZTogUHJvcFR5cGVzLmZ1bmMsXG5cbiAgb25Qb3BvdmVyQ2xlYXI6IFByb3BUeXBlcy5mdW5jLFxufTtcblxuY29uc3QgZGVmYXVsdFByb3BzID0ge1xuICBuYW1lOiAnJyxcbiAgYW5ub3RhdGlvblR5cGU6IERFRkFVTFRfQU5OT1RBVElPTl9UWVBFLFxuICBzb3VyY2VUeXBlOiAnJyxcbiAgY29sb3I6IEFVVE9NQVRJQ19DT0xPUixcbiAgb3BhY2l0eTogJycsXG4gIHN0eWxlOiAnc29saWQnLFxuICB3aWR0aDogMSxcbiAgc2hvd01hcmtlcnM6IGZhbHNlLFxuICBoaWRlTGluZTogZmFsc2UsXG4gIG92ZXJyaWRlczoge30sXG4gIGNvbG9yU2NoZW1lOiAnZDNDYXRlZ29yeTEwJyxcbiAgc2hvdzogdHJ1ZSxcbiAgdGl0bGVDb2x1bW46ICcnLFxuICBkZXNjcmlwdGlvbkNvbHVtbnM6IFtdLFxuICB0aW1lQ29sdW1uOiAnJyxcbiAgaW50ZXJ2YWxFbmRDb2x1bW46ICcnLFxuXG4gIGFkZEFubm90YXRpb25MYXllcjogKCkgPT4ge30sXG4gIHJlbW92ZUFubm90YXRpb25MYXllcjogKCkgPT4ge30sXG4gIGNsb3NlOiAoKSA9PiB7fSxcbiAgb25Qb3BvdmVyQ2xlYXI6ICgpID0+IHt9LFxufTtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQW5ub3RhdGlvbkxheWVyIGV4dGVuZHMgUmVhY3QuUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgIHNvdXJjZVR5cGUsXG4gICAgICBjb2xvcixcbiAgICAgIG9wYWNpdHksXG4gICAgICBzdHlsZSxcbiAgICAgIHdpZHRoLFxuICAgICAgc2hvd01hcmtlcnMsXG4gICAgICBoaWRlTGluZSxcbiAgICAgIHZhbHVlLFxuICAgICAgb3ZlcnJpZGVzLFxuICAgICAgc2hvdyxcbiAgICAgIHRpdGxlQ29sdW1uLFxuICAgICAgZGVzY3JpcHRpb25Db2x1bW5zLFxuICAgICAgdGltZUNvbHVtbixcbiAgICAgIGludGVydmFsRW5kQ29sdW1uLFxuICAgICAgdml6VHlwZSxcbiAgICB9ID0gcHJvcHM7XG5cbiAgICAvLyBPbmx5IGFsbG93IG92ZXJyaWRlIHdob2xlIHRpbWVfcmFuZ2VcbiAgICBpZiAoJ3NpbmNlJyBpbiBvdmVycmlkZXMgfHwgJ3VudGlsJyBpbiBvdmVycmlkZXMpIHtcbiAgICAgIG92ZXJyaWRlcy50aW1lX3JhbmdlID0gbnVsbDtcbiAgICAgIGRlbGV0ZSBvdmVycmlkZXMuc2luY2U7XG4gICAgICBkZWxldGUgb3ZlcnJpZGVzLnVudGlsO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIGFubm90YXRpb25UeXBlIGlzIHN1cHBvcnRlZCBieSB0aGlzIGNoYXJ0XG4gICAgY29uc3QgbWV0YWRhdGEgPSBnZXRDaGFydE1ldGFkYXRhUmVnaXN0cnkoKS5nZXQodml6VHlwZSk7XG4gICAgY29uc3Qgc3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzID0gbWV0YWRhdGE/LnN1cHBvcnRlZEFubm90YXRpb25UeXBlcyB8fCBbXTtcbiAgICBjb25zdCB2YWxpZEFubm90YXRpb25UeXBlID0gc3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzLmluY2x1ZGVzKFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgKVxuICAgICAgPyBhbm5vdGF0aW9uVHlwZVxuICAgICAgOiBzdXBwb3J0ZWRBbm5vdGF0aW9uVHlwZXNbMF07XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgLy8gYmFzZVxuICAgICAgbmFtZSxcbiAgICAgIGFubm90YXRpb25UeXBlOiB2YWxpZEFubm90YXRpb25UeXBlLFxuICAgICAgc291cmNlVHlwZSxcbiAgICAgIHZhbHVlLFxuICAgICAgb3ZlcnJpZGVzLFxuICAgICAgc2hvdyxcbiAgICAgIC8vIHNsaWNlXG4gICAgICB0aXRsZUNvbHVtbixcbiAgICAgIGRlc2NyaXB0aW9uQ29sdW1ucyxcbiAgICAgIHRpbWVDb2x1bW4sXG4gICAgICBpbnRlcnZhbEVuZENvbHVtbixcbiAgICAgIC8vIGRpc3BsYXlcbiAgICAgIGNvbG9yOiBjb2xvciB8fCBBVVRPTUFUSUNfQ09MT1IsXG4gICAgICBvcGFjaXR5LFxuICAgICAgc3R5bGUsXG4gICAgICB3aWR0aCxcbiAgICAgIHNob3dNYXJrZXJzLFxuICAgICAgaGlkZUxpbmUsXG4gICAgICAvLyByZWZEYXRhXG4gICAgICBpc05ldzogIW5hbWUsXG4gICAgICBpc0xvYWRpbmdPcHRpb25zOiB0cnVlLFxuICAgICAgdmFsdWVPcHRpb25zOiBbXSxcbiAgICB9O1xuICAgIHRoaXMuc3VibWl0QW5ub3RhdGlvbiA9IHRoaXMuc3VibWl0QW5ub3RhdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuZGVsZXRlQW5ub3RhdGlvbiA9IHRoaXMuZGVsZXRlQW5ub3RhdGlvbi5iaW5kKHRoaXMpO1xuICAgIHRoaXMuYXBwbHlBbm5vdGF0aW9uID0gdGhpcy5hcHBseUFubm90YXRpb24uYmluZCh0aGlzKTtcbiAgICB0aGlzLmZldGNoT3B0aW9ucyA9IHRoaXMuZmV0Y2hPcHRpb25zLmJpbmQodGhpcyk7XG4gICAgdGhpcy5oYW5kbGVBbm5vdGF0aW9uVHlwZSA9IHRoaXMuaGFuZGxlQW5ub3RhdGlvblR5cGUuYmluZCh0aGlzKTtcbiAgICB0aGlzLmhhbmRsZUFubm90YXRpb25Tb3VyY2VUeXBlID0gdGhpcy5oYW5kbGVBbm5vdGF0aW9uU291cmNlVHlwZS5iaW5kKFxuICAgICAgdGhpcyxcbiAgICApO1xuICAgIHRoaXMuaGFuZGxlVmFsdWUgPSB0aGlzLmhhbmRsZVZhbHVlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5pc1ZhbGlkRm9ybSA9IHRoaXMuaXNWYWxpZEZvcm0uYmluZCh0aGlzKTtcbiAgICB0aGlzLnBvcG92ZXJDbGVhcldyYXBwZXIgPSB0aGlzLnBvcG92ZXJDbGVhcldyYXBwZXIuYmluZCh0aGlzKTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgIGNvbnN0IHsgYW5ub3RhdGlvblR5cGUsIHNvdXJjZVR5cGUsIGlzTG9hZGluZ09wdGlvbnMgfSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5mZXRjaE9wdGlvbnMoYW5ub3RhdGlvblR5cGUsIHNvdXJjZVR5cGUsIGlzTG9hZGluZ09wdGlvbnMpO1xuICB9XG5cbiAgY29tcG9uZW50RGlkVXBkYXRlKHByZXZQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgaWYgKHByZXZTdGF0ZS5zb3VyY2VUeXBlICE9PSB0aGlzLnN0YXRlLnNvdXJjZVR5cGUpIHtcbiAgICAgIHRoaXMuZmV0Y2hPcHRpb25zKHRoaXMuc3RhdGUuYW5ub3RhdGlvblR5cGUsIHRoaXMuc3RhdGUuc291cmNlVHlwZSwgdHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgZ2V0U3VwcG9ydGVkU291cmNlVHlwZXMoYW5ub3RhdGlvblR5cGUpIHtcbiAgICAvLyBHZXQgdmlzIHR5cGVzIHRoYXQgY2FuIGJlIHNvdXJjZS5cbiAgICBjb25zdCBzb3VyY2VzID0gZ2V0Q2hhcnRNZXRhZGF0YVJlZ2lzdHJ5KClcbiAgICAgIC5lbnRyaWVzKClcbiAgICAgIC5maWx0ZXIoKHsgdmFsdWU6IGNoYXJ0TWV0YWRhdGEgfSkgPT5cbiAgICAgICAgY2hhcnRNZXRhZGF0YS5jYW5CZUFubm90YXRpb25UeXBlKGFubm90YXRpb25UeXBlKSxcbiAgICAgIClcbiAgICAgIC5tYXAoKHsga2V5LCB2YWx1ZTogY2hhcnRNZXRhZGF0YSB9KSA9PiAoe1xuICAgICAgICB2YWx1ZToga2V5LFxuICAgICAgICBsYWJlbDogY2hhcnRNZXRhZGF0YS5uYW1lLFxuICAgICAgfSkpO1xuICAgIC8vIFByZXBlbmQgbmF0aXZlIHNvdXJjZSBpZiBhcHBsaWNhYmxlXG4gICAgaWYgKEFOTk9UQVRJT05fVFlQRVNfTUVUQURBVEFbYW5ub3RhdGlvblR5cGVdPy5zdXBwb3J0TmF0aXZlU291cmNlKSB7XG4gICAgICBzb3VyY2VzLnVuc2hpZnQoQU5OT1RBVElPTl9TT1VSQ0VfVFlQRVNfTUVUQURBVEEuTkFUSVZFKTtcbiAgICB9XG4gICAgcmV0dXJuIHNvdXJjZXM7XG4gIH1cblxuICBpc1ZhbGlkRm9ybXVsYSh2YWx1ZSwgYW5ub3RhdGlvblR5cGUpIHtcbiAgICBpZiAoYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuRk9STVVMQSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbWF0aGpzUGFyc2UodmFsdWUpLmNvbXBpbGUoKS5ldmFsdWF0ZSh7IHg6IDAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlzVmFsaWRGb3JtKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIG5hbWUsXG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgIHNvdXJjZVR5cGUsXG4gICAgICB2YWx1ZSxcbiAgICAgIHRpbWVDb2x1bW4sXG4gICAgICBpbnRlcnZhbEVuZENvbHVtbixcbiAgICB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBlcnJvcnMgPSBbXG4gICAgICB2YWxpZGF0ZU5vbkVtcHR5KG5hbWUpLFxuICAgICAgdmFsaWRhdGVOb25FbXB0eShhbm5vdGF0aW9uVHlwZSksXG4gICAgICB2YWxpZGF0ZU5vbkVtcHR5KHZhbHVlKSxcbiAgICBdO1xuICAgIGlmIChzb3VyY2VUeXBlICE9PSBBTk5PVEFUSU9OX1NPVVJDRV9UWVBFUy5OQVRJVkUpIHtcbiAgICAgIGlmIChhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5FVkVOVCkge1xuICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0ZU5vbkVtcHR5KHRpbWVDb2x1bW4pKTtcbiAgICAgIH1cbiAgICAgIGlmIChhbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5JTlRFUlZBTCkge1xuICAgICAgICBlcnJvcnMucHVzaCh2YWxpZGF0ZU5vbkVtcHR5KHRpbWVDb2x1bW4pKTtcbiAgICAgICAgZXJyb3JzLnB1c2godmFsaWRhdGVOb25FbXB0eShpbnRlcnZhbEVuZENvbHVtbikpO1xuICAgICAgfVxuICAgIH1cbiAgICBlcnJvcnMucHVzaCh0aGlzLmlzVmFsaWRGb3JtdWxhKHZhbHVlLCBhbm5vdGF0aW9uVHlwZSkpO1xuICAgIHJldHVybiAhZXJyb3JzLmZpbHRlcih4ID0+IHgpLmxlbmd0aDtcbiAgfVxuXG4gIHBvcG92ZXJDbGVhcldyYXBwZXIodmFsdWUsIGFjdGlvbk1ldGEsIGNhbGxiYWNrKSB7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayh2YWx1ZSk7XG4gICAgfVxuICAgIGlmIChhY3Rpb25NZXRhPy5hY3Rpb24gPT09ICdjbGVhcicpIHtcbiAgICAgIHRoaXMucHJvcHMub25Qb3BvdmVyQ2xlYXIodHJ1ZSk7XG4gICAgfVxuICB9XG5cbiAgaGFuZGxlQW5ub3RhdGlvblR5cGUoYW5ub3RhdGlvblR5cGUpIHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGFubm90YXRpb25UeXBlLFxuICAgICAgc291cmNlVHlwZTogbnVsbCxcbiAgICAgIHZhbHVlOiBudWxsLFxuICAgIH0pO1xuICB9XG5cbiAgaGFuZGxlQW5ub3RhdGlvblNvdXJjZVR5cGUoc291cmNlVHlwZSkge1xuICAgIGNvbnN0IHsgc291cmNlVHlwZTogcHJldlNvdXJjZVR5cGUgfSA9IHRoaXMuc3RhdGU7XG5cbiAgICBpZiAocHJldlNvdXJjZVR5cGUgIT09IHNvdXJjZVR5cGUpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBzb3VyY2VUeXBlLCB2YWx1ZTogbnVsbCwgaXNMb2FkaW5nT3B0aW9uczogdHJ1ZSB9KTtcbiAgICB9XG4gIH1cblxuICBoYW5kbGVWYWx1ZSh2YWx1ZSkge1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgdmFsdWUsXG4gICAgICBkZXNjcmlwdGlvbkNvbHVtbnM6IG51bGwsXG4gICAgICBpbnRlcnZhbEVuZENvbHVtbjogbnVsbCxcbiAgICAgIHRpbWVDb2x1bW46IG51bGwsXG4gICAgICB0aXRsZUNvbHVtbjogbnVsbCxcbiAgICAgIG92ZXJyaWRlczogeyB0aW1lX3JhbmdlOiBudWxsIH0sXG4gICAgfSk7XG4gIH1cblxuICBmZXRjaE9wdGlvbnMoYW5ub3RhdGlvblR5cGUsIHNvdXJjZVR5cGUsIGlzTG9hZGluZ09wdGlvbnMpIHtcbiAgICBpZiAoaXNMb2FkaW5nT3B0aW9ucykge1xuICAgICAgaWYgKHNvdXJjZVR5cGUgPT09IEFOTk9UQVRJT05fU09VUkNFX1RZUEVTLk5BVElWRSkge1xuICAgICAgICBTdXBlcnNldENsaWVudC5nZXQoe1xuICAgICAgICAgIGVuZHBvaW50OiAnL2Fubm90YXRpb25sYXllcm1vZGVsdmlldy9hcGkvcmVhZD8nLFxuICAgICAgICB9KS50aGVuKCh7IGpzb24gfSkgPT4ge1xuICAgICAgICAgIGNvbnN0IGxheWVycyA9IGpzb25cbiAgICAgICAgICAgID8ganNvbi5yZXN1bHQubWFwKGxheWVyID0+ICh7XG4gICAgICAgICAgICAgICAgdmFsdWU6IGxheWVyLmlkLFxuICAgICAgICAgICAgICAgIGxhYmVsOiBsYXllci5uYW1lLFxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIDogW107XG4gICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICBpc0xvYWRpbmdPcHRpb25zOiBmYWxzZSxcbiAgICAgICAgICAgIHZhbHVlT3B0aW9uczogbGF5ZXJzLFxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZXNRdWVyeShzb3VyY2VUeXBlKSkge1xuICAgICAgICBTdXBlcnNldENsaWVudC5nZXQoeyBlbmRwb2ludDogJy9zdXBlcnNldC91c2VyX3NsaWNlcycgfSkudGhlbihcbiAgICAgICAgICAoeyBqc29uIH0pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlZ2lzdHJ5ID0gZ2V0Q2hhcnRNZXRhZGF0YVJlZ2lzdHJ5KCk7XG4gICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgaXNMb2FkaW5nT3B0aW9uczogZmFsc2UsXG4gICAgICAgICAgICAgIHZhbHVlT3B0aW9uczoganNvblxuICAgICAgICAgICAgICAgIC5maWx0ZXIoeCA9PiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBtZXRhZGF0YSA9IHJlZ2lzdHJ5LmdldCh4LnZpel90eXBlKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhICYmIG1ldGFkYXRhLmNhbkJlQW5ub3RhdGlvblR5cGUoYW5ub3RhdGlvblR5cGUpXG4gICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm1hcCh4ID0+ICh7IHZhbHVlOiB4LmlkLCBsYWJlbDogeC50aXRsZSwgc2xpY2U6IHggfSkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIGlzTG9hZGluZ09wdGlvbnM6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlT3B0aW9uczogW10sXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGRlbGV0ZUFubm90YXRpb24oKSB7XG4gICAgdGhpcy5wcm9wcy5yZW1vdmVBbm5vdGF0aW9uTGF5ZXIoKTtcbiAgICB0aGlzLnByb3BzLmNsb3NlKCk7XG4gIH1cblxuICBhcHBseUFubm90YXRpb24oKSB7XG4gICAgaWYgKHRoaXMuaXNWYWxpZEZvcm0oKSkge1xuICAgICAgY29uc3QgYW5ub3RhdGlvbkZpZWxkcyA9IFtcbiAgICAgICAgJ25hbWUnLFxuICAgICAgICAnYW5ub3RhdGlvblR5cGUnLFxuICAgICAgICAnc291cmNlVHlwZScsXG4gICAgICAgICdjb2xvcicsXG4gICAgICAgICdvcGFjaXR5JyxcbiAgICAgICAgJ3N0eWxlJyxcbiAgICAgICAgJ3dpZHRoJyxcbiAgICAgICAgJ3Nob3dNYXJrZXJzJyxcbiAgICAgICAgJ2hpZGVMaW5lJyxcbiAgICAgICAgJ3ZhbHVlJyxcbiAgICAgICAgJ292ZXJyaWRlcycsXG4gICAgICAgICdzaG93JyxcbiAgICAgICAgJ3RpdGxlQ29sdW1uJyxcbiAgICAgICAgJ2Rlc2NyaXB0aW9uQ29sdW1ucycsXG4gICAgICAgICd0aW1lQ29sdW1uJyxcbiAgICAgICAgJ2ludGVydmFsRW5kQ29sdW1uJyxcbiAgICAgIF07XG4gICAgICBjb25zdCBuZXdBbm5vdGF0aW9uID0ge307XG4gICAgICBhbm5vdGF0aW9uRmllbGRzLmZvckVhY2goZmllbGQgPT4ge1xuICAgICAgICBpZiAodGhpcy5zdGF0ZVtmaWVsZF0gIT09IG51bGwpIHtcbiAgICAgICAgICBuZXdBbm5vdGF0aW9uW2ZpZWxkXSA9IHRoaXMuc3RhdGVbZmllbGRdO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKG5ld0Fubm90YXRpb24uY29sb3IgPT09IEFVVE9NQVRJQ19DT0xPUikge1xuICAgICAgICBuZXdBbm5vdGF0aW9uLmNvbG9yID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9wcy5hZGRBbm5vdGF0aW9uTGF5ZXIobmV3QW5ub3RhdGlvbik7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgaXNOZXc6IGZhbHNlIH0pO1xuICAgIH1cbiAgfVxuXG4gIHN1Ym1pdEFubm90YXRpb24oKSB7XG4gICAgdGhpcy5hcHBseUFubm90YXRpb24oKTtcbiAgICB0aGlzLnByb3BzLmNsb3NlKCk7XG4gIH1cblxuICByZW5kZXJPcHRpb24ob3B0aW9uKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuXG4gICAgICAgIGNzcz17e1xuICAgICAgICAgIG92ZXJmbG93OiAnaGlkZGVuJyxcbiAgICAgICAgICB0ZXh0T3ZlcmZsb3c6ICdlbGxpcHNpcycsXG4gICAgICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXG4gICAgICAgIH19XG4gICAgICAgIHRpdGxlPXtvcHRpb24ubGFiZWx9XG4gICAgICA+XG4gICAgICAgIHtvcHRpb24ubGFiZWx9XG4gICAgICA8L3NwYW4+XG4gICAgKTtcbiAgfVxuXG4gIHJlbmRlclZhbHVlQ29uZmlndXJhdGlvbigpIHtcbiAgICBjb25zdCB7XG4gICAgICBhbm5vdGF0aW9uVHlwZSxcbiAgICAgIHNvdXJjZVR5cGUsXG4gICAgICB2YWx1ZSxcbiAgICAgIHZhbHVlT3B0aW9ucyxcbiAgICAgIGlzTG9hZGluZ09wdGlvbnMsXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgbGV0IGxhYmVsID0gJyc7XG4gICAgbGV0IGRlc2NyaXB0aW9uID0gJyc7XG4gICAgaWYgKHJlcXVpcmVzUXVlcnkoc291cmNlVHlwZSkpIHtcbiAgICAgIGlmIChzb3VyY2VUeXBlID09PSBBTk5PVEFUSU9OX1NPVVJDRV9UWVBFUy5OQVRJVkUpIHtcbiAgICAgICAgbGFiZWwgPSAnQW5ub3RhdGlvbiBsYXllcic7XG4gICAgICAgIGRlc2NyaXB0aW9uID0gJ1NlbGVjdCB0aGUgQW5ub3RhdGlvbiBMYXllciB5b3Ugd291bGQgbGlrZSB0byB1c2UuJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxhYmVsID0gdCgnQ2hhcnQnKTtcbiAgICAgICAgZGVzY3JpcHRpb24gPSBgVXNlIGEgcHJlIGRlZmluZWQgU3VwZXJzZXQgQ2hhcnQgYXMgYSBzb3VyY2UgZm9yIGFubm90YXRpb25zIGFuZCBvdmVybGF5cy5cbiAgICAgICAgeW91ciBjaGFydCBtdXN0IGJlIG9uZSBvZiB0aGVzZSB2aXN1YWxpemF0aW9uIHR5cGVzOlxuICAgICAgICBbJHt0aGlzLmdldFN1cHBvcnRlZFNvdXJjZVR5cGVzKGFubm90YXRpb25UeXBlKVxuICAgICAgICAgIC5tYXAoeCA9PiB4LmxhYmVsKVxuICAgICAgICAgIC5qb2luKCcsICcpfV1gO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuRk9STVVMQSkge1xuICAgICAgbGFiZWwgPSAnRm9ybXVsYSc7XG4gICAgICBkZXNjcmlwdGlvbiA9IGBFeHBlY3RzIGEgZm9ybXVsYSB3aXRoIGRlcGVuZGluZyB0aW1lIHBhcmFtZXRlciAneCdcbiAgICAgICAgaW4gbWlsbGlzZWNvbmRzIHNpbmNlIGVwb2NoLiBtYXRoanMgaXMgdXNlZCB0byBldmFsdWF0ZSB0aGUgZm9ybXVsYXMuXG4gICAgICAgIEV4YW1wbGU6ICcyeCs1J2A7XG4gICAgfVxuICAgIGlmIChyZXF1aXJlc1F1ZXJ5KHNvdXJjZVR5cGUpKSB7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8U2VsZWN0Q29udHJvbFxuICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXZhbHVlXCJcbiAgICAgICAgICBzaG93SGVhZGVyXG4gICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgIGRlc2NyaXB0aW9uPXtkZXNjcmlwdGlvbn1cbiAgICAgICAgICBsYWJlbD17bGFiZWx9XG4gICAgICAgICAgcGxhY2Vob2xkZXI9XCJcIlxuICAgICAgICAgIG9wdGlvbnM9e3ZhbHVlT3B0aW9uc31cbiAgICAgICAgICBpc0xvYWRpbmc9e2lzTG9hZGluZ09wdGlvbnN9XG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIF8sIGFjdGlvbk1ldGEpID0+XG4gICAgICAgICAgICB0aGlzLnBvcG92ZXJDbGVhcldyYXBwZXIodmFsdWUsIGFjdGlvbk1ldGEsIHRoaXMuaGFuZGxlVmFsdWUpXG4gICAgICAgICAgfVxuICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnM9eyF2YWx1ZSA/IFsnTWFuZGF0b3J5J10gOiBbXX1cbiAgICAgICAgICBvcHRpb25SZW5kZXJlcj17dGhpcy5yZW5kZXJPcHRpb259XG4gICAgICAgIC8+XG4gICAgICApO1xuICAgIH1cbiAgICBpZiAoYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuRk9STVVMQSkge1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgPFRleHRDb250cm9sXG4gICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdmFsdWVcIlxuICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICBzaG93SGVhZGVyXG4gICAgICAgICAgZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9ufVxuICAgICAgICAgIGxhYmVsPXtsYWJlbH1cbiAgICAgICAgICBwbGFjZWhvbGRlcj1cIlwiXG4gICAgICAgICAgdmFsdWU9e3ZhbHVlfVxuICAgICAgICAgIG9uQ2hhbmdlPXt0aGlzLmhhbmRsZVZhbHVlfVxuICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnM9e1xuICAgICAgICAgICAgdGhpcy5pc1ZhbGlkRm9ybXVsYSh2YWx1ZSwgYW5ub3RhdGlvblR5cGUpID8gWydCYWQgZm9ybXVsYS4nXSA6IFtdXG4gICAgICAgICAgfVxuICAgICAgICAvPlxuICAgICAgKTtcbiAgICB9XG4gICAgcmV0dXJuICcnO1xuICB9XG5cbiAgcmVuZGVyU2xpY2VDb25maWd1cmF0aW9uKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGFubm90YXRpb25UeXBlLFxuICAgICAgc291cmNlVHlwZSxcbiAgICAgIHZhbHVlLFxuICAgICAgdmFsdWVPcHRpb25zLFxuICAgICAgb3ZlcnJpZGVzLFxuICAgICAgdGl0bGVDb2x1bW4sXG4gICAgICB0aW1lQ29sdW1uLFxuICAgICAgaW50ZXJ2YWxFbmRDb2x1bW4sXG4gICAgICBkZXNjcmlwdGlvbkNvbHVtbnMsXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgeyBzbGljZSB9ID0gdmFsdWVPcHRpb25zLmZpbmQoeCA9PiB4LnZhbHVlID09PSB2YWx1ZSkgfHwge307XG4gICAgaWYgKHNvdXJjZVR5cGUgIT09IEFOTk9UQVRJT05fU09VUkNFX1RZUEVTLk5BVElWRSAmJiBzbGljZSkge1xuICAgICAgY29uc3QgY29sdW1ucyA9IChzbGljZS5kYXRhLmdyb3VwYnkgfHwgW10pXG4gICAgICAgIC5jb25jYXQoc2xpY2UuZGF0YS5hbGxfY29sdW1ucyB8fCBbXSlcbiAgICAgICAgLm1hcCh4ID0+ICh7IHZhbHVlOiB4LCBsYWJlbDogeCB9KSk7XG4gICAgICBjb25zdCB0aW1lQ29sdW1uT3B0aW9ucyA9IHNsaWNlLmRhdGEuaW5jbHVkZV90aW1lXG4gICAgICAgID8gW3sgdmFsdWU6ICdfX3RpbWVzdGFtcCcsIGxhYmVsOiAnX190aW1lc3RhbXAnIH1dLmNvbmNhdChjb2x1bW5zKVxuICAgICAgICA6IGNvbHVtbnM7XG4gICAgICByZXR1cm4gKFxuICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblJpZ2h0OiAnMnJlbScgfX0+XG4gICAgICAgICAgPFBvcG92ZXJTZWN0aW9uXG4gICAgICAgICAgICBpc1NlbGVjdGVkXG4gICAgICAgICAgICB0aXRsZT17dCgnQW5ub3RhdGlvbiBTbGljZSBDb25maWd1cmF0aW9uJyl9XG4gICAgICAgICAgICBpbmZvPXt0KGBUaGlzIHNlY3Rpb24gYWxsb3dzIHlvdSB0byBjb25maWd1cmUgaG93IHRvIHVzZSB0aGUgc2xpY2VcbiAgICAgICAgICAgICAgIHRvIGdlbmVyYXRlIGFubm90YXRpb25zLmApfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIHsoYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuRVZFTlQgfHxcbiAgICAgICAgICAgICAgYW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuSU5URVJWQUwpICYmIChcbiAgICAgICAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdGltZS1jb2x1bW5cIlxuICAgICAgICAgICAgICAgIGxhYmVsPXtcbiAgICAgICAgICAgICAgICAgIGFubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLklOVEVSVkFMXG4gICAgICAgICAgICAgICAgICAgID8gJ0ludGVydmFsIHN0YXJ0IGNvbHVtbidcbiAgICAgICAgICAgICAgICAgICAgOiAnRXZlbnQgdGltZSBjb2x1bW4nXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiVGhpcyBjb2x1bW4gbXVzdCBjb250YWluIGRhdGUvdGltZSBpbmZvcm1hdGlvbi5cIlxuICAgICAgICAgICAgICAgIHZhbGlkYXRpb25FcnJvcnM9eyF0aW1lQ29sdW1uID8gWydNYW5kYXRvcnknXSA6IFtdfVxuICAgICAgICAgICAgICAgIGNsZWFyYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17dGltZUNvbHVtbk9wdGlvbnN9XG4gICAgICAgICAgICAgICAgdmFsdWU9e3RpbWVDb2x1bW59XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IHRpbWVDb2x1bW46IHYgfSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge2Fubm90YXRpb25UeXBlID09PSBBTk5PVEFUSU9OX1RZUEVTLklOVEVSVkFMICYmIChcbiAgICAgICAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItaW50ZXJ2YWxFbmRcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiSW50ZXJ2YWwgRW5kIGNvbHVtblwiXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb249XCJUaGlzIGNvbHVtbiBtdXN0IGNvbnRhaW4gZGF0ZS90aW1lIGluZm9ybWF0aW9uLlwiXG4gICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9ycz17IWludGVydmFsRW5kQ29sdW1uID8gWydNYW5kYXRvcnknXSA6IFtdfVxuICAgICAgICAgICAgICAgIG9wdGlvbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgICAgdmFsdWU9e2ludGVydmFsRW5kQ29sdW1ufVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsodmFsdWUsIF8sIGFjdGlvbk1ldGEpID0+XG4gICAgICAgICAgICAgICAgICB0aGlzLnBvcG92ZXJDbGVhcldyYXBwZXIodmFsdWUsIGFjdGlvbk1ldGEsIHYgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGludGVydmFsRW5kQ29sdW1uOiB2IH0pLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8U2VsZWN0Q29udHJvbFxuICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXRpdGxlXCJcbiAgICAgICAgICAgICAgbGFiZWw9XCJUaXRsZSBDb2x1bW5cIlxuICAgICAgICAgICAgICBkZXNjcmlwdGlvbj1cIlBpY2sgYSB0aXRsZSBmb3IgeW91IGFubm90YXRpb24uXCJcbiAgICAgICAgICAgICAgb3B0aW9ucz17W3sgdmFsdWU6ICcnLCBsYWJlbDogJ05vbmUnIH1dLmNvbmNhdChjb2x1bW5zKX1cbiAgICAgICAgICAgICAgdmFsdWU9e3RpdGxlQ29sdW1ufVxuICAgICAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBfLCBhY3Rpb25NZXRhKSA9PlxuICAgICAgICAgICAgICAgIHRoaXMucG9wb3ZlckNsZWFyV3JhcHBlcih2YWx1ZSwgYWN0aW9uTWV0YSwgdiA9PlxuICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IHRpdGxlQ29sdW1uOiB2IH0pLFxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIHthbm5vdGF0aW9uVHlwZSAhPT0gQU5OT1RBVElPTl9UWVBFUy5USU1FX1NFUklFUyAmJiAoXG4gICAgICAgICAgICAgIDxTZWxlY3RDb250cm9sXG4gICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXRpdGxlXCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIkRlc2NyaXB0aW9uIENvbHVtbnNcIlxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtgUGljayBvbmUgb3IgbW9yZSBjb2x1bW5zIHRoYXQgc2hvdWxkIGJlIHNob3duIGluIHRoZVxuICAgICAgICAgICAgICAgICAgYW5ub3RhdGlvbi4gSWYgeW91IGRvbid0IHNlbGVjdCBhIGNvbHVtbiBhbGwgb2YgdGhlbSB3aWxsIGJlIHNob3duLmB9XG4gICAgICAgICAgICAgICAgbXVsdGlcbiAgICAgICAgICAgICAgICBvcHRpb25zPXtjb2x1bW5zfVxuICAgICAgICAgICAgICAgIHZhbHVlPXtkZXNjcmlwdGlvbkNvbHVtbnN9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgXywgYWN0aW9uTWV0YSkgPT5cbiAgICAgICAgICAgICAgICAgIHRoaXMucG9wb3ZlckNsZWFyV3JhcHBlcih2YWx1ZSwgYWN0aW9uTWV0YSwgdiA9PlxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgZGVzY3JpcHRpb25Db2x1bW5zOiB2IH0pLFxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8ZGl2IHN0eWxlPXt7IG1hcmdpblRvcDogJzFyZW0nIH19PlxuICAgICAgICAgICAgICA8Q2hlY2tib3hDb250cm9sXG4gICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLW92ZXJyaWRlLXRpbWVfcmFuZ2VcIlxuICAgICAgICAgICAgICAgIGxhYmVsPVwiT3ZlcnJpZGUgdGltZSByYW5nZVwiXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e2BUaGlzIGNvbnRyb2xzIHdoZXRoZXIgdGhlIFwidGltZV9yYW5nZVwiIGZpZWxkIGZyb20gdGhlIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgIHZpZXcgc2hvdWxkIGJlIHBhc3NlZCBkb3duIHRvIHRoZSBjaGFydCBjb250YWluaW5nIHRoZSBhbm5vdGF0aW9uIGRhdGEuYH1cbiAgICAgICAgICAgICAgICB2YWx1ZT17J3RpbWVfcmFuZ2UnIGluIG92ZXJyaWRlc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgb3ZlcnJpZGVzLnRpbWVfcmFuZ2U7XG4gICAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZXM6IHsgLi4ub3ZlcnJpZGVzLCB0aW1lX3JhbmdlOiBudWxsIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG92ZXJyaWRlczogeyAuLi5vdmVycmlkZXMgfSB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8Q2hlY2tib3hDb250cm9sXG4gICAgICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLW92ZXJyaWRlLXRpbWVncmFpblwiXG4gICAgICAgICAgICAgICAgbGFiZWw9XCJPdmVycmlkZSB0aW1lIGdyYWluXCJcbiAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj17YFRoaXMgY29udHJvbHMgd2hldGhlciB0aGUgdGltZSBncmFpbiBmaWVsZCBmcm9tIHRoZSBjdXJyZW50XG4gICAgICAgICAgICAgICAgICB2aWV3IHNob3VsZCBiZSBwYXNzZWQgZG93biB0byB0aGUgY2hhcnQgY29udGFpbmluZyB0aGUgYW5ub3RhdGlvbiBkYXRhLmB9XG4gICAgICAgICAgICAgICAgdmFsdWU9eyd0aW1lX2dyYWluX3NxbGEnIGluIG92ZXJyaWRlc31cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB7XG4gICAgICAgICAgICAgICAgICBkZWxldGUgb3ZlcnJpZGVzLnRpbWVfZ3JhaW5fc3FsYTtcbiAgICAgICAgICAgICAgICAgIGRlbGV0ZSBvdmVycmlkZXMuZ3JhbnVsYXJpdHk7XG4gICAgICAgICAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLm92ZXJyaWRlcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpbWVfZ3JhaW5fc3FsYTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGdyYW51bGFyaXR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IG92ZXJyaWRlczogeyAuLi5vdmVycmlkZXMgfSB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8VGV4dENvbnRyb2xcbiAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItdGltZXNoaWZ0XCJcbiAgICAgICAgICAgICAgICBsYWJlbD1cIlRpbWUgU2hpZnRcIlxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uPXtgVGltZSBkZWx0YSBpbiBuYXR1cmFsIGxhbmd1YWdlXG4gICAgICAgICAgICAgICAgICAoZXhhbXBsZTogIDI0IGhvdXJzLCA3IGRheXMsIDU2IHdlZWtzLCAzNjUgZGF5cylgfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17b3ZlcnJpZGVzLnRpbWVfc2hpZnR9XG4gICAgICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT5cbiAgICAgICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvdmVycmlkZXM6IHsgLi4ub3ZlcnJpZGVzLCB0aW1lX3NoaWZ0OiB2IH0gfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L1BvcG92ZXJTZWN0aW9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIHJlbmRlckRpc3BsYXlDb25maWd1cmF0aW9uKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGNvbG9yLFxuICAgICAgb3BhY2l0eSxcbiAgICAgIHN0eWxlLFxuICAgICAgd2lkdGgsXG4gICAgICBzaG93TWFya2VycyxcbiAgICAgIGhpZGVMaW5lLFxuICAgICAgYW5ub3RhdGlvblR5cGUsXG4gICAgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgY29sb3JTY2hlbWUgPSBnZXRDYXRlZ29yaWNhbFNjaGVtZVJlZ2lzdHJ5KClcbiAgICAgIC5nZXQodGhpcy5wcm9wcy5jb2xvclNjaGVtZSlcbiAgICAgIC5jb2xvcnMuY29uY2F0KCk7XG4gICAgaWYgKFxuICAgICAgY29sb3IgJiZcbiAgICAgIGNvbG9yICE9PSBBVVRPTUFUSUNfQ09MT1IgJiZcbiAgICAgICFjb2xvclNjaGVtZS5maW5kKHggPT4geC50b0xvd2VyQ2FzZSgpID09PSBjb2xvci50b0xvd2VyQ2FzZSgpKVxuICAgICkge1xuICAgICAgY29sb3JTY2hlbWUucHVzaChjb2xvcik7XG4gICAgfVxuICAgIHJldHVybiAoXG4gICAgICA8UG9wb3ZlclNlY3Rpb25cbiAgICAgICAgaXNTZWxlY3RlZFxuICAgICAgICB0aXRsZT17dCgnRGlzcGxheSBjb25maWd1cmF0aW9uJyl9XG4gICAgICAgIGluZm89e3QoJ0NvbmZpZ3VyZSB5b3VyIGhvdyB5b3Ugb3ZlcmxheSBpcyBkaXNwbGF5ZWQgaGVyZS4nKX1cbiAgICAgID5cbiAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1zdHJva2VcIlxuICAgICAgICAgIGxhYmVsPXt0KCdTdHlsZScpfVxuICAgICAgICAgIC8vIHNlZSAnLi4vLi4vLi4vdmlzdWFsaXphdGlvbnMvbnZkM192aXMuY3NzJ1xuICAgICAgICAgIG9wdGlvbnM9e1tcbiAgICAgICAgICAgIHsgdmFsdWU6ICdzb2xpZCcsIGxhYmVsOiAnU29saWQnIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAnZGFzaGVkJywgbGFiZWw6ICdEYXNoZWQnIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAnbG9uZ0Rhc2hlZCcsIGxhYmVsOiAnTG9uZyBkYXNoZWQnIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAnZG90dGVkJywgbGFiZWw6ICdEb3R0ZWQnIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICB2YWx1ZT17c3R5bGV9XG4gICAgICAgICAgY2xlYXJhYmxlPXtmYWxzZX1cbiAgICAgICAgICBvbkNoYW5nZT17diA9PiB0aGlzLnNldFN0YXRlKHsgc3R5bGU6IHYgfSl9XG4gICAgICAgIC8+XG4gICAgICAgIDxTZWxlY3RDb250cm9sXG4gICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItb3BhY2l0eVwiXG4gICAgICAgICAgbGFiZWw9e3QoJ09wYWNpdHknKX1cbiAgICAgICAgICAvLyBzZWUgJy4uLy4uLy4uL3Zpc3VhbGl6YXRpb25zL252ZDNfdmlzLmNzcydcbiAgICAgICAgICBvcHRpb25zPXtbXG4gICAgICAgICAgICB7IHZhbHVlOiAnJywgbGFiZWw6ICdTb2xpZCcgfSxcbiAgICAgICAgICAgIHsgdmFsdWU6ICdvcGFjaXR5TG93JywgbGFiZWw6ICcwLjInIH0sXG4gICAgICAgICAgICB7IHZhbHVlOiAnb3BhY2l0eU1lZGl1bScsIGxhYmVsOiAnMC41JyB9LFxuICAgICAgICAgICAgeyB2YWx1ZTogJ29wYWNpdHlIaWdoJywgbGFiZWw6ICcwLjgnIH0sXG4gICAgICAgICAgXX1cbiAgICAgICAgICB2YWx1ZT17b3BhY2l0eX1cbiAgICAgICAgICBvbkNoYW5nZT17KHZhbHVlLCBfLCBhY3Rpb25NZXRhKSA9PlxuICAgICAgICAgICAgdGhpcy5wb3BvdmVyQ2xlYXJXcmFwcGVyKHZhbHVlLCBhY3Rpb25NZXRhLCB2ID0+XG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoeyBvcGFjaXR5OiB2IH0pLFxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgLz5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8Q29udHJvbEhlYWRlciBsYWJlbD17dCgnQ29sb3InKX0gLz5cbiAgICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ2NvbHVtbicgfX0+XG4gICAgICAgICAgICA8Q29tcGFjdFBpY2tlclxuICAgICAgICAgICAgICBjb2xvcj17Y29sb3J9XG4gICAgICAgICAgICAgIGNvbG9ycz17Y29sb3JTY2hlbWV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlQ29tcGxldGU9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IGNvbG9yOiB2LmhleCB9KX1cbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICAgIHN0eWxlPXt7IG1hcmdpblRvcDogJzAuNXJlbScsIG1hcmdpbkJvdHRvbTogJzAuNXJlbScgfX1cbiAgICAgICAgICAgICAgYnV0dG9uU3R5bGU9e2NvbG9yID09PSBBVVRPTUFUSUNfQ09MT1IgPyAnc3VjY2VzcycgOiAnZGVmYXVsdCd9XG4gICAgICAgICAgICAgIGJ1dHRvblNpemU9XCJ4c21hbGxcIlxuICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLnNldFN0YXRlKHsgY29sb3I6IEFVVE9NQVRJQ19DT0xPUiB9KX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgQXV0b21hdGljIENvbG9yXG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxUZXh0Q29udHJvbFxuICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXN0cm9rZS13aWR0aFwiXG4gICAgICAgICAgbGFiZWw9e3QoJ0xpbmUgd2lkdGgnKX1cbiAgICAgICAgICBpc0ludFxuICAgICAgICAgIHZhbHVlPXt3aWR0aH1cbiAgICAgICAgICBvbkNoYW5nZT17diA9PiB0aGlzLnNldFN0YXRlKHsgd2lkdGg6IHYgfSl9XG4gICAgICAgIC8+XG4gICAgICAgIHthbm5vdGF0aW9uVHlwZSA9PT0gQU5OT1RBVElPTl9UWVBFUy5USU1FX1NFUklFUyAmJiAoXG4gICAgICAgICAgPENoZWNrYm94Q29udHJvbFxuICAgICAgICAgICAgaG92ZXJlZFxuICAgICAgICAgICAgbmFtZT1cImFubm90YXRpb24tbGF5ZXItc2hvdy1tYXJrZXJzXCJcbiAgICAgICAgICAgIGxhYmVsPVwiU2hvdyBNYXJrZXJzXCJcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uPVwiU2hvd3Mgb3IgaGlkZXMgbWFya2VycyBmb3IgdGhlIHRpbWUgc2VyaWVzXCJcbiAgICAgICAgICAgIHZhbHVlPXtzaG93TWFya2Vyc31cbiAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHRoaXMuc2V0U3RhdGUoeyBzaG93TWFya2VyczogdiB9KX1cbiAgICAgICAgICAvPlxuICAgICAgICApfVxuICAgICAgICB7YW5ub3RhdGlvblR5cGUgPT09IEFOTk9UQVRJT05fVFlQRVMuVElNRV9TRVJJRVMgJiYgKFxuICAgICAgICAgIDxDaGVja2JveENvbnRyb2xcbiAgICAgICAgICAgIGhvdmVyZWRcbiAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLWhpZGUtbGluZVwiXG4gICAgICAgICAgICBsYWJlbD1cIkhpZGUgTGluZVwiXG4gICAgICAgICAgICBkZXNjcmlwdGlvbj1cIkhpZGVzIHRoZSBMaW5lIGZvciB0aGUgdGltZSBzZXJpZXNcIlxuICAgICAgICAgICAgdmFsdWU9e2hpZGVMaW5lfVxuICAgICAgICAgICAgb25DaGFuZ2U9e3YgPT4gdGhpcy5zZXRTdGF0ZSh7IGhpZGVMaW5lOiB2IH0pfVxuICAgICAgICAgIC8+XG4gICAgICAgICl9XG4gICAgICA8L1BvcG92ZXJTZWN0aW9uPlxuICAgICk7XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBpc05ldywgbmFtZSwgYW5ub3RhdGlvblR5cGUsIHNvdXJjZVR5cGUsIHNob3cgfSA9IHRoaXMuc3RhdGU7XG4gICAgY29uc3QgaXNWYWxpZCA9IHRoaXMuaXNWYWxpZEZvcm0oKTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IGdldENoYXJ0TWV0YWRhdGFSZWdpc3RyeSgpLmdldCh0aGlzLnByb3BzLnZpelR5cGUpO1xuICAgIGNvbnN0IHN1cHBvcnRlZEFubm90YXRpb25UeXBlcyA9IG1ldGFkYXRhXG4gICAgICA/IG1ldGFkYXRhLnN1cHBvcnRlZEFubm90YXRpb25UeXBlcy5tYXAoXG4gICAgICAgICAgdHlwZSA9PiBBTk5PVEFUSU9OX1RZUEVTX01FVEFEQVRBW3R5cGVdLFxuICAgICAgICApXG4gICAgICA6IFtdO1xuICAgIGNvbnN0IHN1cHBvcnRlZFNvdXJjZVR5cGVzID0gdGhpcy5nZXRTdXBwb3J0ZWRTb3VyY2VUeXBlcyhhbm5vdGF0aW9uVHlwZSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAge3RoaXMucHJvcHMuZXJyb3IgJiYgKFxuICAgICAgICAgIDxzcGFuIHN0eWxlPXt7IGNvbG9yOiAncmVkJyB9fT5FUlJPUjoge3RoaXMucHJvcHMuZXJyb3J9PC9zcGFuPlxuICAgICAgICApfVxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywgZmxleERpcmVjdGlvbjogJ3JvdycgfX0+XG4gICAgICAgICAgPGRpdiBzdHlsZT17eyBtYXJnaW5SaWdodDogJzJyZW0nIH19PlxuICAgICAgICAgICAgPFBvcG92ZXJTZWN0aW9uXG4gICAgICAgICAgICAgIGlzU2VsZWN0ZWRcbiAgICAgICAgICAgICAgdGl0bGU9e3QoJ0xheWVyIGNvbmZpZ3VyYXRpb24nKX1cbiAgICAgICAgICAgICAgaW5mbz17dCgnQ29uZmlndXJlIHRoZSBiYXNpY3Mgb2YgeW91ciBBbm5vdGF0aW9uIExheWVyLicpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8VGV4dENvbnRyb2xcbiAgICAgICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1sYXllci1uYW1lXCJcbiAgICAgICAgICAgICAgICBsYWJlbD17dCgnTmFtZScpfVxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiXCJcbiAgICAgICAgICAgICAgICB2YWx1ZT17bmFtZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17diA9PiB0aGlzLnNldFN0YXRlKHsgbmFtZTogdiB9KX1cbiAgICAgICAgICAgICAgICB2YWxpZGF0aW9uRXJyb3JzPXshbmFtZSA/IFt0KCdNYW5kYXRvcnknKV0gOiBbXX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPENoZWNrYm94Q29udHJvbFxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLWhpZGVcIlxuICAgICAgICAgICAgICAgIGxhYmVsPXt0KCdIaWRlIGxheWVyJyl9XG4gICAgICAgICAgICAgICAgdmFsdWU9eyFzaG93fVxuICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXt2ID0+IHRoaXMuc2V0U3RhdGUoeyBzaG93OiAhdiB9KX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPFNlbGVjdENvbnRyb2xcbiAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb249e3QoJ0Nob29zZSB0aGUgYW5ub3RhdGlvbiBsYXllciB0eXBlJyl9XG4gICAgICAgICAgICAgICAgbGFiZWw9e3QoJ0Fubm90YXRpb24gbGF5ZXIgdHlwZScpfVxuICAgICAgICAgICAgICAgIG5hbWU9XCJhbm5vdGF0aW9uLWxheWVyLXR5cGVcIlxuICAgICAgICAgICAgICAgIGNsZWFyYWJsZT17ZmFsc2V9XG4gICAgICAgICAgICAgICAgb3B0aW9ucz17c3VwcG9ydGVkQW5ub3RhdGlvblR5cGVzfVxuICAgICAgICAgICAgICAgIHZhbHVlPXthbm5vdGF0aW9uVHlwZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17dGhpcy5oYW5kbGVBbm5vdGF0aW9uVHlwZX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAge3N1cHBvcnRlZFNvdXJjZVR5cGVzLmxlbmd0aCA+IDAgJiYgKFxuICAgICAgICAgICAgICAgIDxTZWxlY3RDb250cm9sXG4gICAgICAgICAgICAgICAgICBob3ZlcmVkXG4gICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbj1cIkNob29zZSB0aGUgc291cmNlIG9mIHlvdXIgYW5ub3RhdGlvbnNcIlxuICAgICAgICAgICAgICAgICAgbGFiZWw9XCJBbm5vdGF0aW9uIFNvdXJjZVwiXG4gICAgICAgICAgICAgICAgICBuYW1lPVwiYW5ub3RhdGlvbi1zb3VyY2UtdHlwZVwiXG4gICAgICAgICAgICAgICAgICBvcHRpb25zPXtzdXBwb3J0ZWRTb3VyY2VUeXBlc31cbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzb3VyY2VUeXBlfVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyh2YWx1ZSwgXywgYWN0aW9uTWV0YSkgPT5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3BvdmVyQ2xlYXJXcmFwcGVyKFxuICAgICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbk1ldGEsXG4gICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVBbm5vdGF0aW9uU291cmNlVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbkVycm9ycz17IXNvdXJjZVR5cGUgPyBbdCgnTWFuZGF0b3J5JyldIDogW119XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAge3RoaXMucmVuZGVyVmFsdWVDb25maWd1cmF0aW9uKCl9XG4gICAgICAgICAgICA8L1BvcG92ZXJTZWN0aW9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIHt0aGlzLnJlbmRlclNsaWNlQ29uZmlndXJhdGlvbigpfVxuICAgICAgICAgIHt0aGlzLnJlbmRlckRpc3BsYXlDb25maWd1cmF0aW9uKCl9XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IHN0eWxlPXt7IGRpc3BsYXk6ICdmbGV4JywganVzdGlmeUNvbnRlbnQ6ICdzcGFjZS1iZXR3ZWVuJyB9fT5cbiAgICAgICAgICB7aXNOZXcgPyAoXG4gICAgICAgICAgICA8QnV0dG9uIGJ1dHRvblNpemU9XCJzbWFsbFwiIG9uQ2xpY2s9eygpID0+IHRoaXMucHJvcHMuY2xvc2UoKX0+XG4gICAgICAgICAgICAgIHt0KCdDYW5jZWwnKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICA8QnV0dG9uIGJ1dHRvblNpemU9XCJzbWFsbFwiIG9uQ2xpY2s9e3RoaXMuZGVsZXRlQW5ub3RhdGlvbn0+XG4gICAgICAgICAgICAgIHt0KCdSZW1vdmUnKX1cbiAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICl9XG4gICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgYnV0dG9uU2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgZGlzYWJsZWQ9eyFpc1ZhbGlkfVxuICAgICAgICAgICAgICBvbkNsaWNrPXt0aGlzLmFwcGx5QW5ub3RhdGlvbn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3QoJ0FwcGx5Jyl9XG4gICAgICAgICAgICA8L0J1dHRvbj5cblxuICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICBidXR0b25TaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICBidXR0b25TdHlsZT1cInByaW1hcnlcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD17IWlzVmFsaWR9XG4gICAgICAgICAgICAgIG9uQ2xpY2s9e3RoaXMuc3VibWl0QW5ub3RhdGlvbn1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAge3QoJ09LJyl9XG4gICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG59XG5cbkFubm90YXRpb25MYXllci5wcm9wVHlwZXMgPSBwcm9wVHlwZXM7XG5Bbm5vdGF0aW9uTGF5ZXIuZGVmYXVsdFByb3BzID0gZGVmYXVsdFByb3BzO1xuIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFRQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUExc0JBO0FBQUE7QUE2c0JBO0FBQ0E7QSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/explore/components/controls/AnnotationLayerControl/AnnotationLayer.jsx\n");

/***/ })

}]);